(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var ud={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function Cb(){if(Jy)return ll;Jy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var Wy;function Db(){return Wy||(Wy=1,ud.exports=Cb()),ud.exports}var q=Db(),cd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function Nb(){if(t_)return It;t_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function J(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||G}J.prototype.isReactComponent={},J.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=J.prototype;function lt(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||G}var ht=lt.prototype=new Et;ht.constructor=lt,Z(ht,J.prototype),ht.isPureReactComponent=!0;var Nt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},Ot=Object.prototype.hasOwnProperty;function x(C,X,nt,W,ft,Rt){return nt=Rt.ref,{$$typeof:r,type:C,key:X,ref:nt!==void 0?nt:null,props:Rt}}function A(C,X){return x(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function O(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function P(C,X){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):X.toString(36)}function R(){}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,nt,W,ft){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var mt=!1;if(C===null)mt=!0;else switch(Rt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(C.$$typeof){case r:case t:mt=!0;break;case b:return mt=C._init,re(mt(C._payload),X,nt,W,ft)}}if(mt)return ft=ft(C),mt=W===""?"."+P(C,0):W,Nt(ft)?(nt="",mt!=null&&(nt=mt.replace(M,"$&/")+"/"),re(ft,X,nt,"",function(ge){return ge})):ft!=null&&(w(ft)&&(ft=A(ft,nt+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+mt)),X.push(ft)),1;mt=0;var de=W===""?".":W+":";if(Nt(C))for(var Xt=0;Xt<C.length;Xt++)W=C[Xt],Rt=de+P(W,Xt),mt+=re(W,X,nt,Rt,ft);else if(Xt=D(C),typeof Xt=="function")for(C=Xt.call(C),Xt=0;!(W=C.next()).done;)W=W.value,Rt=de+P(W,Xt++),mt+=re(W,X,nt,Rt,ft);else if(Rt==="object"){if(typeof C.then=="function")return re(Oe(C),X,nt,W,ft);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(C,X,nt){if(C==null)return C;var W=[],ft=0;return re(C,W,"","",function(Rt){return X.call(nt,Rt,ft++)}),W}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function qt(){}return It.Children={map:H,forEach:function(C,X,nt){H(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},It.Component=J,It.Fragment=n,It.Profiler=l,It.PureComponent=lt,It.StrictMode=s,It.Suspense=g,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,It.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Tt.H.useMemoCache(C)}},It.cache=function(C){return function(){return C.apply(null,arguments)}},It.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),ft=C.key,Rt=void 0;if(X!=null)for(mt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ft=""+X.key),X)!Ot.call(X,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&X.ref===void 0||(W[mt]=X[mt]);var mt=arguments.length-2;if(mt===1)W.children=nt;else if(1<mt){for(var de=Array(mt),Xt=0;Xt<mt;Xt++)de[Xt]=arguments[Xt+2];W.children=de}return x(C.type,ft,void 0,void 0,Rt,W)},It.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},It.createElement=function(C,X,nt){var W,ft={},Rt=null;if(X!=null)for(W in X.key!==void 0&&(Rt=""+X.key),X)Ot.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=X[W]);var mt=arguments.length-2;if(mt===1)ft.children=nt;else if(1<mt){for(var de=Array(mt),Xt=0;Xt<mt;Xt++)de[Xt]=arguments[Xt+2];ft.children=de}if(C&&C.defaultProps)for(W in mt=C.defaultProps,mt)ft[W]===void 0&&(ft[W]=mt[W]);return x(C,Rt,void 0,void 0,null,ft)},It.createRef=function(){return{current:null}},It.forwardRef=function(C){return{$$typeof:p,render:C}},It.isValidElement=w,It.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:et}},It.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},It.startTransition=function(C){var X=Tt.T,nt={};Tt.T=nt;try{var W=C(),ft=Tt.S;ft!==null&&ft(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(qt,ut)}catch(Rt){ut(Rt)}finally{Tt.T=X}},It.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},It.use=function(C){return Tt.H.use(C)},It.useActionState=function(C,X,nt){return Tt.H.useActionState(C,X,nt)},It.useCallback=function(C,X){return Tt.H.useCallback(C,X)},It.useContext=function(C){return Tt.H.useContext(C)},It.useDebugValue=function(){},It.useDeferredValue=function(C,X){return Tt.H.useDeferredValue(C,X)},It.useEffect=function(C,X,nt){var W=Tt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,X)},It.useId=function(){return Tt.H.useId()},It.useImperativeHandle=function(C,X,nt){return Tt.H.useImperativeHandle(C,X,nt)},It.useInsertionEffect=function(C,X){return Tt.H.useInsertionEffect(C,X)},It.useLayoutEffect=function(C,X){return Tt.H.useLayoutEffect(C,X)},It.useMemo=function(C,X){return Tt.H.useMemo(C,X)},It.useOptimistic=function(C,X){return Tt.H.useOptimistic(C,X)},It.useReducer=function(C,X,nt){return Tt.H.useReducer(C,X,nt)},It.useRef=function(C){return Tt.H.useRef(C)},It.useState=function(C){return Tt.H.useState(C)},It.useSyncExternalStore=function(C,X,nt){return Tt.H.useSyncExternalStore(C,X,nt)},It.useTransition=function(){return Tt.H.useTransition()},It.version="19.1.0",It}var e_;function Zd(){return e_||(e_=1,cd.exports=Nb()),cd.exports}var se=Zd(),hd={exports:{}},ul={},fd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function Ob(){return n_||(n_=1,function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var qt=ut-1>>>1,C=H[qt];if(0<l(C,et))H[qt]=et,H[ut]=C,ut=qt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var qt=0,C=H.length,X=C>>>1;qt<X;){var nt=2*(qt+1)-1,W=H[nt],ft=nt+1,Rt=H[ft];if(0>l(W,ut))ft<C&&0>l(Rt,W)?(H[qt]=Rt,H[ft]=ut,qt=ft):(H[qt]=W,H[nt]=ut,qt=nt);else if(ft<C&&0>l(Rt,ut))H[qt]=Rt,H[ft]=ut,qt=ft;else break t}}return et}function l(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],_=[],b=1,I=null,D=3,G=!1,Z=!1,it=!1,J=!1,Et=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Nt(H){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(_)}}function Tt(H){if(it=!1,Nt(H),!Z)if(n(g)!==null)Z=!0,Ot||(Ot=!0,P());else{var et=n(_);et!==null&&re(Tt,et.startTime-H)}}var Ot=!1,x=-1,A=5,w=-1;function O(){return J?!0:!(r.unstable_now()-w<A)}function M(){if(J=!1,Ot){var H=r.unstable_now();w=H;var et=!0;try{t:{Z=!1,it&&(it=!1,lt(x),x=-1),G=!0;var ut=D;try{e:{for(Nt(H),I=n(g);I!==null&&!(I.expirationTime>H&&O());){var qt=I.callback;if(typeof qt=="function"){I.callback=null,D=I.priorityLevel;var C=qt(I.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){I.callback=C,Nt(H),et=!0;break e}I===n(g)&&s(g),Nt(H)}else s(g);I=n(g)}if(I!==null)et=!0;else{var X=n(_);X!==null&&re(Tt,X.startTime-H),et=!1}}break t}finally{I=null,D=ut,G=!1}et=void 0}}finally{et?P():Ot=!1}}}var P;if(typeof ht=="function")P=function(){ht(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=M,P=function(){Oe.postMessage(null)}}else P=function(){Et(M,0)};function re(H,et){x=Et(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ut=D;D=et;try{return H()}finally{D=ut}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=D;D=H;try{return et()}finally{D=ut}},r.unstable_scheduleCallback=function(H,et,ut){var qt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?qt+ut:qt):ut=qt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,H={id:b++,callback:et,priorityLevel:H,startTime:ut,expirationTime:C,sortIndex:-1},ut>qt?(H.sortIndex=ut,t(_,H),n(g)===null&&H===n(_)&&(it?(lt(x),x=-1):it=!0,re(Tt,ut-qt))):(H.sortIndex=C,t(g,H),Z||G||(Z=!0,Ot||(Ot=!0,P()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var et=D;return function(){var ut=D;D=et;try{return H.apply(this,arguments)}finally{D=ut}}}}(dd)),dd}var i_;function xb(){return i_||(i_=1,fd.exports=Ob()),fd.exports}var md={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function Mb(){if(r_)return We;r_=1;var r=Zd();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:g,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,b)},We.flushSync=function(g){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=_,s.p=b,s.d.f()}},We.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},We.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},We.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,I=p(b,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:G}):b==="script"&&s.d.X(g,{crossOrigin:I,integrity:D,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},We.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},We.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,I=p(b,_.crossOrigin);s.d.L(g,b,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},We.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},We.requestFormReset=function(g){s.d.r(g)},We.unstable_batchedUpdates=function(g,_){return g(_)},We.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.1.0",We}var s_;function Vb(){if(s_)return md.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),md.exports=Mb(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function Pb(){if(a_)return ul;a_=1;var r=xb(),t=Zd(),n=Vb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),e;if(f===o)return p(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case Tt:return"Suspense";case Ot:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ht:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case Nt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:Oe(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Oe(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},qt=[],C=-1;function X(e){return{current:e}}function nt(e){0>C||(e.current=qt[C],qt[C]=null,C--)}function W(e,i){C++,qt[C]=e.current,e.current=i}var ft=X(null),Rt=X(null),mt=X(null),de=X(null);function Xt(e,i){switch(W(mt,i),W(Rt,e),W(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Ry(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Ry(i),e=Iy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ft),W(ft,e)}function ge(){nt(ft),nt(Rt),nt(mt)}function jn(e){e.memoizedState!==null&&W(de,e);var i=ft.current,a=Iy(i,e.type);i!==a&&(W(Rt,e),W(ft,a))}function An(e){Rt.current===e&&(nt(ft),nt(Rt)),de.current===e&&(nt(de),il._currentValue=ut)}var _i=Object.prototype.hasOwnProperty,vi=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Zr=r.unstable_shouldYield,rr=r.unstable_requestPaint,sn=r.unstable_now,dt=r.unstable_getCurrentPriorityLevel,ot=r.unstable_ImmediatePriority,gt=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,oe=r.unstable_LowPriority,ce=r.unstable_IdlePriority,ye=r.log,Sn=r.unstable_setDisableYieldValue,$t=null,kt=null;function Ae(e){if(typeof ye=="function"&&Sn(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode($t,e)}catch{}}var Se=Math.clz32?Math.clz32:Jr,Bl=Math.log,ch=Math.LN2;function Jr(e){return e>>>=0,e===0?32:31-(Bl(e)/ch|0)|0}var Wr=256,ts=4194304;function Bn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Bn(o):(v&=E,v!==0?h=Bn(v):a||(a=E&~e,a!==0&&(h=Bn(a))))):(E=o&~f,E!==0?h=Bn(E):v!==0?h=Bn(v):a||(a=o&~e,a!==0&&(h=Bn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function es(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function no(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var e=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),e}function ro(){var e=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),e}function Ti(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function bi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function so(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,S=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Se(a),Y=1<<F;E[F]=0,S[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var j=z[F];j!==null&&(j.lane&=-536870913)}a&=~Y}o!==0&&$n(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function $n(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Se(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function ao(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Se(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ar(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Qy(e.type))}function ql(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var le=Math.random().toString(36).slice(2),xe="__reactFiber$"+le,we="__reactProps$"+le,wn="__reactContainer$"+le,oo="__reactEvents$"+le,hh="__reactListeners$"+le,or="__reactHandles$"+le,Hl="__reactResources$"+le,ns="__reactMarker$"+le;function lr(e){delete e[xe],delete e[we],delete e[oo],delete e[hh],delete e[or]}function Ai(e){var i=e[xe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[wn]||a[xe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Oy(e);e!==null;){if(a=e[xe])return a;e=Oy(e)}return i}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[xe]||e[wn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function an(e){var i=e[Hl];return i||(i=e[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _e(e){e[ns]=!0}var lo=new Set,Gs={};function qn(e,i){Si(e,i),Si(e+"Capture",i)}function Si(e,i){for(Gs[e]=i,e=0;e<i.length;e++)lo.add(i[e])}var Gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},is={};function Ql(e){return _i.call(is,e)?!0:_i.call(Fl,e)?!1:Gl.test(e)?is[e]=!0:(Fl[e]=!0,!1)}function ur(e,i,a){if(Ql(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Wn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ge(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var rs,Yl;function wi(e){if(rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rs=i&&i[1]||"",Yl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+e+Yl}var Fs=!1;function Qs(e,i){if(!e||Fs)return"";Fs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){z=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var S=v.split(`
`),L=E.split(`
`);for(h=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===S.length||h===L.length)for(o=S.length-1,h=L.length-1;1<=o&&0<=h&&S[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(S[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||S[o]!==L[h]){var F=`
`+S[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Fs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?wi(a):""}function uo(e){switch(e.tag){case 26:case 27:case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Qs(e.type,!1);case 11:return Qs(e.type.render,!1);case 1:return Qs(e.type,!0);case 31:return wi("Activity");default:return""}}function Ys(e){try{var i="";do i+=uo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function co(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fh(e){var i=co(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ks(e){e._valueTracker||(e._valueTracker=fh(e))}function ho(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=co(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dh=/[\n"\\]/g;function Re(e){return e.replace(dh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+on(i)):e.value!==""+on(i)&&(e.value=""+on(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?cr(e,v,on(i)):a!=null?cr(e,v,on(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+on(E):e.removeAttribute("name")}function as(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function cr(e,i,a){i==="number"&&ss(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ri(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Zt(e,i,a){if(i!=null&&(i=""+on(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+on(a):""}function os(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=on(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ls.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function fo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Kl(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Kl(e,f,i[f])}function mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ii=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Di=null;function po(e){var i=Zn(e);if(i&&(e=i.stateNode)){var a=e[we]||null;t:switch(e=i.stateNode,i.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Re(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[we]||null;if(!h)throw Error(s(90));mn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ho(o)}break t;case"textarea":Zt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ri(e,!!a.multiple,i,!1)}}}var ti=!1;function Xl(e,i,a){if(ti)return e(i,a);ti=!0;try{var o=e(i);return o}finally{if(ti=!1,(Ci!==null||Di!==null)&&(qu(),Ci&&(i=Ci,e=Di,Di=Ci=null,po(i),e)))for(i=0;i<e.length;i++)po(e[i])}}function us(e,i){var a=e.stateNode;if(a===null)return null;var o=a[we]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Hn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Cn=!1}var ei=null,hr=null,Ni=null;function go(){if(Ni)return Ni;var e,i=hr,a=i.length,o,h="value"in ei?ei.value:ei.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ni=h.slice(e,1<o?1-o:void 0)}function ni(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function yo(){return!1}function Le(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ii:yo,this.isPropagationStopped=yo,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Le(Ft),hs=b({},Ft,{view:0,detail:0}),$l=Le(hs),Zs,Js,ri,fs=b({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(Zs=e.screenX-ri.screenX,Js=e.screenY-ri.screenY):Js=Zs=0,ri=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Dn=Le(fs),Zl=b({},fs,{dataTransfer:0}),gh=Le(Zl),ds=b({},hs,{relatedTarget:0}),Ws=Le(ds),_o=b({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Le(_o),Jl=b({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=Le(Jl),yh=b({},Ft,{data:0}),vo=Le(yh),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=tu[e])?!!i[e]:!1}function ps(){return Eo}var eu=b({},hs,{key:function(e){if(e.key){var i=ms[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),na=Le(eu),nu=b({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=Le(nu),Oi=b({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),iu=Le(Oi),ru=b({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=Le(ru),au=b({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Le(au),ln=b({},Ft,{newState:0,oldState:0}),ou=Le(ln),lu=[9,13,27,32],si=Hn&&"CompositionEvent"in window,u=null;Hn&&"documentMode"in document&&(u=document.documentMode);var m=Hn&&"TextEvent"in window&&!u,y=Hn&&(!si||u&&8<u&&11>=u),T=" ",U=!1;function B(e,i){switch(e){case"keyup":return lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Me(e,i){switch(e){case"compositionend":return tt(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function zt(e,i){if(Lt)return e==="compositionend"||!si&&B(e,i)?(e=go(),Ni=hr=ei=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ze[e.type]:i==="textarea"}function xi(e,i,a,o){Ci?Di?Di.push(o):Di=[o]:Ci=o,i=Ku(i,"onChange"),0<i.length&&(a=new $s("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Fe=null,ai=null;function bo(e){Ty(e,0)}function uu(e){var i=Jn(e);if(ho(i))return e}function qm(e,i){if(e==="change")return i}var Hm=!1;if(Hn){var _h;if(Hn){var vh="oninput"in document;if(!vh){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),vh=typeof Gm.oninput=="function"}_h=vh}else _h=!1;Hm=_h&&(!document.documentMode||9<document.documentMode)}function Fm(){Fe&&(Fe.detachEvent("onpropertychange",Qm),ai=Fe=null)}function Qm(e){if(e.propertyName==="value"&&uu(ai)){var i=[];xi(i,ai,e,In(e)),Xl(bo,i)}}function rT(e,i,a){e==="focusin"?(Fm(),Fe=i,ai=a,Fe.attachEvent("onpropertychange",Qm)):e==="focusout"&&Fm()}function sT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(ai)}function aT(e,i){if(e==="click")return uu(i)}function oT(e,i){if(e==="input"||e==="change")return uu(i)}function lT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:lT;function Ao(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_i.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Km(e,i){var a=Ym(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ym(a)}}function Xm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Xm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function $m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ss(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ss(e.document)}return i}function Eh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var uT=Hn&&"documentMode"in document&&11>=document.documentMode,ra=null,Th=null,So=null,bh=!1;function Zm(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||ra==null||ra!==ss(o)||(o=ra,"selectionStart"in o&&Eh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),So&&Ao(So,o)||(So=o,o=Ku(Th,"onSelect"),0<o.length&&(i=new $s("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ra)))}function gs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var sa={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Ah={},Jm={};Hn&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ys(e){if(Ah[e])return Ah[e];if(!sa[e])return e;var i=sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jm)return Ah[e]=i[a];return e}var Wm=ys("animationend"),tp=ys("animationiteration"),ep=ys("animationstart"),cT=ys("transitionrun"),hT=ys("transitionstart"),fT=ys("transitioncancel"),np=ys("transitionend"),ip=new Map,Sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sh.push("scrollEnd");function Gn(e,i){ip.set(e,i),qn(i,[e])}var rp=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=rp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ys(i)},rp.set(e,i),i)}return{value:e,source:i,stack:Ys(i)}}var On=[],aa=0,wh=0;function cu(){for(var e=aa,i=wh=aa=0;i<e;){var a=On[i];On[i++]=null;var o=On[i];On[i++]=null;var h=On[i];On[i++]=null;var f=On[i];if(On[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&sp(a,h,f)}}function hu(e,i,a,o){On[aa++]=e,On[aa++]=i,On[aa++]=a,On[aa++]=o,wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Rh(e,i,a,o){return hu(e,i,a,o),fu(e)}function oa(e,i){return hu(e,null,null,i),fu(e)}function sp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Se(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function fu(e){if(50<Xo)throw Xo=0,Mf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var la={};function dT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,o){return new dT(e,i,a,o)}function Ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ap(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function du(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Ih(e)&&(v=1);else if(typeof e=="string")v=pb(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=gn(31,a,i,h),e.elementType=w,e.lanes=f,e;case Z:return _s(a.children,h,f,i);case it:v=8,h|=24;break;case J:return e=gn(12,a,i,h|2),e.elementType=J,e.lanes=f,e;case Tt:return e=gn(13,a,i,h),e.elementType=Tt,e.lanes=f,e;case Ot:return e=gn(19,a,i,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:case ht:v=10;break t;case lt:v=9;break t;case Nt:v=11;break t;case x:v=14;break t;case A:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=gn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function _s(e,i,a,o){return e=gn(7,e,o,i),e.lanes=a,e}function Ch(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Dh(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ua=[],ca=0,mu=null,pu=0,xn=[],Mn=0,vs=null,Vi=1,Pi="";function Es(e,i){ua[ca++]=pu,ua[ca++]=mu,mu=e,pu=i}function op(e,i,a){xn[Mn++]=Vi,xn[Mn++]=Pi,xn[Mn++]=vs,vs=e;var o=Vi;e=Pi;var h=32-Se(o)-1;o&=~(1<<h),a+=1;var f=32-Se(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Vi=1<<32-Se(i)+h|a<<h|o,Pi=f+e}else Vi=1<<f|a<<h|o,Pi=e}function Nh(e){e.return!==null&&(Es(e,1),op(e,1,0))}function Oh(e){for(;e===mu;)mu=ua[--ca],ua[ca]=null,pu=ua[--ca],ua[ca]=null;for(;e===vs;)vs=xn[--Mn],xn[Mn]=null,Pi=xn[--Mn],xn[Mn]=null,Vi=xn[--Mn],xn[Mn]=null}var un=null,me=null,Gt=!1,Ts=null,oi=!1,xh=Error(s(519));function bs(e){var i=Error(s(418,""));throw Io(Nn(i,e)),xh}function lp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[xe]=e,i[we]=o,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Zo.length;a++)Vt(Zo[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),as(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ks(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),os(i,o.value,o.defaultValue,o.children),Ks(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||wy(i.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=Xu),i=!0):i=!1,i||bs(e)}function up(e){for(un=e.return;un;)switch(un.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:un=un.return}}function wo(e){if(e!==un)return!1;if(!Gt)return up(e),Gt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xf(e.type,e.memoizedProps)),a=!a),a&&me&&bs(e),up(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){me=Qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}me=null}}else i===27?(i=me,Ir(e.type)?(e=Wf,Wf=null,me=e):me=i):me=un?Qn(e.stateNode.nextSibling):null;return!0}function Ro(){me=un=null,Gt=!1}function cp(){var e=Ts;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ts=null),e}function Io(e){Ts===null?Ts=[e]:Ts.push(e)}var Mh=X(null),As=null,Ui=null;function fr(e,i,a){W(Mh,i._currentValue),i._currentValue=a}function ki(e){e._currentValue=Mh.current,nt(Mh)}function Vh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Ph(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var S=0;S<i.length;S++)if(E.context===i[S]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Vh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Vh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Co(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;pn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===de.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&Ph(i,e,a,o),i.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return hp(As,e)}function yu(e,i){return As===null&&Ss(e),hp(e,i)}function hp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(e===null)throw Error(s(308));Ui=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ui=Ui.next=i;return a}var mT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},pT=r.unstable_scheduleCallback,gT=r.unstable_NormalPriority,Pe={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new mT,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&pT(gT,function(){e.controller.abort()})}var No=null,kh=0,ha=0,fa=null;function yT(e,i){if(No===null){var a=No=[];kh=0,ha=jf(),fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return kh++,i.then(fp,fp),i}function fp(){if(--kh===0&&No!==null){fa!==null&&(fa.status="fulfilled");var e=No;No=null,ha=0,fa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function _T(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dp=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&yT(e,i),dp!==null&&dp(e,i)};var ws=X(null);function Lh(){var e=ws.current;return e!==null?e:ie.pooledCache}function _u(e,i){i===null?W(ws,ws.current):W(ws,i.pool)}function mp(){var e=Lh();return e===null?null:{parent:Pe._currentValue,pool:e}}var Oo=Error(s(460)),pp=Error(s(474)),vu=Error(s(542)),zh={then:function(){}};function gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eu(){}function yp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Eu,Eu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vp(e),e;default:if(typeof i.status=="string")i.then(Eu,Eu);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vp(e),e}throw xo=i,Oo}}var xo=null;function _p(){if(xo===null)throw Error(s(459));var e=xo;return xo=null,e}function vp(e){if(e===Oo||e===vu)throw Error(s(483))}var dr=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=fu(e),sp(e,null,a),i}return hu(e,o,i,a),fu(e)}function Mo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ao(e,a)}}function qh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Hh=!1;function Vo(){if(Hh){var e=fa;if(e!==null)throw e}}function Po(e,i,a,o){Hh=!1;var h=e.updateQueue;dr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var S=E,L=S.next;S.next=null,v===null?f=L:v.next=L,v=S;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=L:E.next=L,F.lastBaseUpdate=S))}if(f!==null){var Y=h.baseState;v=0,F=L=S=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(jt&z)===z:(o&z)===z){z!==0&&z===ha&&(Hh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var bt=e,yt=E;z=i;var te=a;switch(yt.tag){case 1:if(bt=yt.payload,typeof bt=="function"){Y=bt.call(te,Y,z);break t}Y=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=yt.payload,z=typeof bt=="function"?bt.call(te,Y,z):bt,z==null)break t;Y=b({},Y,z);break t;case 2:dr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(L=F=j,S=Y):F=F.next=j,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);F===null&&(S=Y),h.baseState=S,h.firstBaseUpdate=L,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ar|=v,e.lanes=v,e.memoizedState=Y}}function Ep(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Tp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ep(a[e],i)}var da=X(null),Tu=X(0);function bp(e,i){e=Gi,W(Tu,e),W(da,i),Gi=e|i.baseLanes}function Gh(){W(Tu,Gi),W(da,da.current)}function Fh(){Gi=Tu.current,nt(da),nt(Tu)}var gr=0,Ct=null,Jt=null,Ie=null,bu=!1,ma=!1,Rs=!1,Au=0,Uo=0,pa=null,vT=0;function ve(){throw Error(s(321))}function Qh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Yh(e,i,a,o,h,f){return gr=f,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?sg:ag,Rs=!1,f=a(o,h),Rs=!1,ma&&(f=Sp(i,a,o,h)),Ap(e),f}function Ap(e){H.H=Du;var i=Jt!==null&&Jt.next!==null;if(gr=0,Ie=Jt=Ct=null,bu=!1,Uo=0,pa=null,i)throw Error(s(300));e===null||je||(e=e.dependencies,e!==null&&gu(e)&&(je=!0))}function Sp(e,i,a,o){Ct=e;var h=0;do{if(ma&&(pa=null),Uo=0,ma=!1,25<=h)throw Error(s(301));if(h+=1,Ie=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=RT,f=i(a,o)}while(ma);return f}function ET(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?ko(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Kh(){var e=Au!==0;return Au=0,e}function Xh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function $h(e){if(bu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}bu=!1}gr=0,Ie=Jt=Ct=null,ma=!1,Uo=Au=0,pa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Ce(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ie===null?Ct.memoizedState:Ie.next;if(i!==null)Ie=i,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ie===null?Ct.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var i=Uo;return Uo+=1,pa===null&&(pa=[]),e=yp(pa,e,i),i=Ct,(Ie===null?i.memoizedState:Ie.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?sg:ag),e}function Su(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===ht)return Je(e)}throw Error(s(438,String(e)))}function Jh(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zh(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=O;return i.index++,a}function Li(e,i){return typeof i=="function"?i(e):i}function wu(e){var i=Ce();return Wh(i,Jt,e)}function Wh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,S=null,L=i,F=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(jt&Y)===Y:(gr&Y)===Y){var z=L.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===ha&&(F=!0);else if((gr&z)===z){L=L.next,z===ha&&(F=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},S===null?(E=S=Y,v=f):S=S.next=Y,Ct.lanes|=z,Ar|=z;Y=L.action,Rs&&a(f,Y),f=L.hasEagerState?L.eagerState:a(f,Y)}else z={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},S===null?(E=S=z,v=f):S=S.next=z,Ct.lanes|=Y,Ar|=Y;L=L.next}while(L!==null&&L!==i);if(S===null?v=f:S.next=E,!pn(f,e.memoizedState)&&(je=!0,F&&(a=fa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=S,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function tf(e){var i=Ce(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);pn(f,i.memoizedState)||(je=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function wp(e,i,a){var o=Ct,h=Ce(),f=Gt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!pn((Jt||h).memoizedState,a);v&&(h.memoizedState=a,je=!0),h=h.queue;var E=Cp.bind(null,o,h,e);if(Lo(2048,8,E,[e]),h.getSnapshot!==i||v||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,ga(9,Ru(),Ip.bind(null,o,h,a,i),null),ie===null)throw Error(s(349));f||(gr&124)!==0||Rp(o,i,a)}return a}function Rp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=Zh(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ip(e,i,a,o){i.value=a,i.getSnapshot=o,Dp(i)&&Np(e)}function Cp(e,i,a){return a(function(){Dp(i)&&Np(e)})}function Dp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Np(e){var i=oa(e,2);i!==null&&Tn(i,e,2)}function ef(e){var i=cn();if(typeof e=="function"){var a=e;if(e=a(),Rs){Ae(!0);try{a()}finally{Ae(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},i}function Op(e,i,a,o){return e.baseState=a,Wh(e,Jt,typeof o=="function"?o:Li)}function TT(e,i,a,o,h){if(Cu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,xp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function xp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),S=H.S;S!==null&&S(v,E),Mp(e,i,E)}catch(L){nf(e,i,L)}finally{H.T=f}}else try{f=a(h,o),Mp(e,i,f)}catch(L){nf(e,i,L)}}function Mp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vp(e,i,o)},function(o){return nf(e,i,o)}):Vp(e,i,a)}function Vp(e,i,a){i.status="fulfilled",i.value=a,Pp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,xp(e,a)))}function nf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Pp(i),i=i.next;while(i!==o)}e.action=null}function Pp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Up(e,i){return i}function kp(e,i){if(Gt){var a=ie.formState;if(a!==null){t:{var o=Ct;if(Gt){if(me){e:{for(var h=me,f=oi;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=Qn(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:i},a.queue=o,a=ng.bind(null,Ct,o),o.dispatch=a,o=ef(!1),f=lf.bind(null,Ct,!1,o.queue),o=cn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=TT.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Lp(e){var i=Ce();return zp(i,Jt,e)}function zp(e,i,a){if(i=Wh(e,i,Up)[0],e=wu(Li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ko(i)}catch(v){throw v===Oo?vu:v}else o=i;i=Ce();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,ga(9,Ru(),bT.bind(null,h,a),null)),[o,f,e]}function bT(e,i){e.action=i}function jp(e){var i=Ce(),a=Jt;if(a!==null)return zp(i,a,e);Ce(),i=i.memoizedState,a=Ce();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ga(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Zh(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Ru(){return{destroy:void 0,resource:void 0}}function Bp(){return Ce().memoizedState}function Iu(e,i,a,o){var h=cn();o=o===void 0?null:o,Ct.flags|=e,h.memoizedState=ga(1|i,Ru(),a,o)}function Lo(e,i,a,o){var h=Ce();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Qh(o,Jt.memoizedState.deps)?h.memoizedState=ga(i,f,a,o):(Ct.flags|=e,h.memoizedState=ga(1|i,f,a,o))}function qp(e,i){Iu(8390656,8,e,i)}function Hp(e,i){Lo(2048,8,e,i)}function Gp(e,i){return Lo(4,2,e,i)}function Fp(e,i){return Lo(4,4,e,i)}function Qp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Yp(e,i,a){a=a!=null?a.concat([e]):null,Lo(4,4,Qp.bind(null,i,e),a)}function rf(){}function Kp(e,i){var a=Ce();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Qh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Xp(e,i){var a=Ce();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Qh(i,o[1]))return o[0];if(o=e(),Rs){Ae(!0);try{e()}finally{Ae(!1)}}return a.memoizedState=[o,i],o}function sf(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Jg(),Ct.lanes|=e,Ar|=e,a)}function $p(e,i,a,o){return pn(a,i)?a:da.current!==null?(e=sf(e,a,o),pn(e,i)||(je=!0),e):(gr&42)===0?(je=!0,e.memoizedState=a):(e=Jg(),Ct.lanes|=e,Ar|=e,i)}function Zp(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,lf(e,!1,i,a);try{var S=h(),L=H.S;if(L!==null&&L(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var F=_T(S,o);zo(e,i,F,En(e))}else zo(e,i,o,En(e))}catch(Y){zo(e,i,{then:function(){},status:"rejected",reason:Y},En())}finally{et.p=f,H.T=v}}function AT(){}function af(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Jp(e).queue;Zp(e,h,i,ut,a===null?AT:function(){return Wp(e),a(o)})}function Jp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Wp(e){var i=Jp(e).next.queue;zo(e,i,{},En())}function of(){return Je(il)}function tg(){return Ce().memoizedState}function eg(){return Ce().memoizedState}function ST(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=mr(a);var o=pr(i,e,a);o!==null&&(Tn(o,i,a),Mo(o,i,a)),i={cache:Uh()},e.payload=i;return}i=i.return}}function wT(e,i,a){var o=En();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)?ig(i,a):(a=Rh(e,i,a,o),a!==null&&(Tn(a,e,o),rg(a,i,o)))}function ng(e,i,a){var o=En();zo(e,i,a,o)}function zo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))ig(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,v))return hu(e,i,h,0),ie===null&&cu(),!1}catch{}finally{}if(a=Rh(e,i,h,o),a!==null)return Tn(a,e,o),rg(a,i,o),!0}return!1}function lf(e,i,a,o){if(o={lane:2,revertLane:jf(),action:o,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(i)throw Error(s(479))}else i=Rh(e,a,o,2),i!==null&&Tn(i,e,2)}function Cu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function ig(e,i){ma=bu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function rg(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ao(e,a)}}var Du={readContext:Je,use:Su,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},sg={readContext:Je,use:Su,useCallback:function(e,i){return cn().memoizedState=[e,i===void 0?null:i],e},useContext:Je,useEffect:qp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Iu(4194308,4,Qp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Iu(4194308,4,e,i)},useInsertionEffect:function(e,i){Iu(4,2,e,i)},useMemo:function(e,i){var a=cn();i=i===void 0?null:i;var o=e();if(Rs){Ae(!0);try{e()}finally{Ae(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=cn();if(a!==void 0){var h=a(i);if(Rs){Ae(!0);try{a(i)}finally{Ae(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=wT.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var i=cn();return e={current:e},i.memoizedState=e},useState:function(e){e=ef(e);var i=e.queue,a=ng.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(e,i){var a=cn();return sf(a,e,i)},useTransition:function(){var e=ef(!1);return e=Zp.bind(null,Ct,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Ct,h=cn();if(Gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ie===null)throw Error(s(349));(jt&124)!==0||Rp(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,qp(Cp.bind(null,o,f,e),[e]),o.flags|=2048,ga(9,Ru(),Ip.bind(null,o,f,a,i),null),a},useId:function(){var e=cn(),i=ie.identifierPrefix;if(Gt){var a=Pi,o=Vi;a=(o&~(1<<32-Se(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Au++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=vT++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:of,useFormState:kp,useActionState:kp,useOptimistic:function(e){var i=cn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=lf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:Jh,useCacheRefresh:function(){return cn().memoizedState=ST.bind(null,Ct)}},ag={readContext:Je,use:Su,useCallback:Kp,useContext:Je,useEffect:Hp,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Fp,useMemo:Xp,useReducer:wu,useRef:Bp,useState:function(){return wu(Li)},useDebugValue:rf,useDeferredValue:function(e,i){var a=Ce();return $p(a,Jt.memoizedState,e,i)},useTransition:function(){var e=wu(Li)[0],i=Ce().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:wp,useId:tg,useHostTransitionStatus:of,useFormState:Lp,useActionState:Lp,useOptimistic:function(e,i){var a=Ce();return Op(a,Jt,e,i)},useMemoCache:Jh,useCacheRefresh:eg},RT={readContext:Je,use:Su,useCallback:Kp,useContext:Je,useEffect:Hp,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Fp,useMemo:Xp,useReducer:tf,useRef:Bp,useState:function(){return tf(Li)},useDebugValue:rf,useDeferredValue:function(e,i){var a=Ce();return Jt===null?sf(a,e,i):$p(a,Jt.memoizedState,e,i)},useTransition:function(){var e=tf(Li)[0],i=Ce().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:wp,useId:tg,useHostTransitionStatus:of,useFormState:jp,useActionState:jp,useOptimistic:function(e,i){var a=Ce();return Jt!==null?Op(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:eg},ya=null,jo=0;function Nu(e){var i=jo;return jo+=1,ya===null&&(ya=[]),yp(ya,e,i)}function Bo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ou(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function og(e){var i=e._init;return i(e._payload)}function lg(e){function i(V,N){if(e){var k=V.deletions;k===null?(V.deletions=[N],V.flags|=16):k.push(N)}}function a(V,N){if(!e)return null;for(;N!==null;)i(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=Mi(V,N),V.index=0,V.sibling=null,V}function f(V,N,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<N?(V.flags|=67108866,N):k):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function v(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,k,Q){return N===null||N.tag!==6?(N=Ch(k,V.mode,Q),N.return=V,N):(N=h(N,k),N.return=V,N)}function S(V,N,k,Q){var st=k.type;return st===Z?F(V,N,k.props.children,Q,k.key):N!==null&&(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&og(st)===N.type)?(N=h(N,k.props),Bo(N,k),N.return=V,N):(N=du(k.type,k.key,k.props,null,V.mode,Q),Bo(N,k),N.return=V,N)}function L(V,N,k,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Dh(k,V.mode,Q),N.return=V,N):(N=h(N,k.children||[]),N.return=V,N)}function F(V,N,k,Q,st){return N===null||N.tag!==7?(N=_s(k,V.mode,Q,st),N.return=V,N):(N=h(N,k),N.return=V,N)}function Y(V,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ch(""+N,V.mode,k),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return k=du(N.type,N.key,N.props,null,V.mode,k),Bo(k,N),k.return=V,k;case G:return N=Dh(N,V.mode,k),N.return=V,N;case A:var Q=N._init;return N=Q(N._payload),Y(V,N,k)}if(re(N)||P(N))return N=_s(N,V.mode,k,null),N.return=V,N;if(typeof N.then=="function")return Y(V,Nu(N),k);if(N.$$typeof===ht)return Y(V,yu(V,N),k);Ou(V,N)}return null}function z(V,N,k,Q){var st=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return st!==null?null:E(V,N,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return k.key===st?S(V,N,k,Q):null;case G:return k.key===st?L(V,N,k,Q):null;case A:return st=k._init,k=st(k._payload),z(V,N,k,Q)}if(re(k)||P(k))return st!==null?null:F(V,N,k,Q,null);if(typeof k.then=="function")return z(V,N,Nu(k),Q);if(k.$$typeof===ht)return z(V,N,yu(V,k),Q);Ou(V,k)}return null}function j(V,N,k,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(k)||null,E(N,V,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return V=V.get(Q.key===null?k:Q.key)||null,S(N,V,Q,st);case G:return V=V.get(Q.key===null?k:Q.key)||null,L(N,V,Q,st);case A:var xt=Q._init;return Q=xt(Q._payload),j(V,N,k,Q,st)}if(re(Q)||P(Q))return V=V.get(k)||null,F(N,V,Q,st,null);if(typeof Q.then=="function")return j(V,N,k,Nu(Q),st);if(Q.$$typeof===ht)return j(V,N,k,yu(N,Q),st);Ou(N,Q)}return null}function bt(V,N,k,Q){for(var st=null,xt=null,ct=N,_t=N=0,qe=null;ct!==null&&_t<k.length;_t++){ct.index>_t?(qe=ct,ct=null):qe=ct.sibling;var Ht=z(V,ct,k[_t],Q);if(Ht===null){ct===null&&(ct=qe);break}e&&ct&&Ht.alternate===null&&i(V,ct),N=f(Ht,N,_t),xt===null?st=Ht:xt.sibling=Ht,xt=Ht,ct=qe}if(_t===k.length)return a(V,ct),Gt&&Es(V,_t),st;if(ct===null){for(;_t<k.length;_t++)ct=Y(V,k[_t],Q),ct!==null&&(N=f(ct,N,_t),xt===null?st=ct:xt.sibling=ct,xt=ct);return Gt&&Es(V,_t),st}for(ct=o(ct);_t<k.length;_t++)qe=j(ct,V,_t,k[_t],Q),qe!==null&&(e&&qe.alternate!==null&&ct.delete(qe.key===null?_t:qe.key),N=f(qe,N,_t),xt===null?st=qe:xt.sibling=qe,xt=qe);return e&&ct.forEach(function(xr){return i(V,xr)}),Gt&&Es(V,_t),st}function yt(V,N,k,Q){if(k==null)throw Error(s(151));for(var st=null,xt=null,ct=N,_t=N=0,qe=null,Ht=k.next();ct!==null&&!Ht.done;_t++,Ht=k.next()){ct.index>_t?(qe=ct,ct=null):qe=ct.sibling;var xr=z(V,ct,Ht.value,Q);if(xr===null){ct===null&&(ct=qe);break}e&&ct&&xr.alternate===null&&i(V,ct),N=f(xr,N,_t),xt===null?st=xr:xt.sibling=xr,xt=xr,ct=qe}if(Ht.done)return a(V,ct),Gt&&Es(V,_t),st;if(ct===null){for(;!Ht.done;_t++,Ht=k.next())Ht=Y(V,Ht.value,Q),Ht!==null&&(N=f(Ht,N,_t),xt===null?st=Ht:xt.sibling=Ht,xt=Ht);return Gt&&Es(V,_t),st}for(ct=o(ct);!Ht.done;_t++,Ht=k.next())Ht=j(ct,V,_t,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?_t:Ht.key),N=f(Ht,N,_t),xt===null?st=Ht:xt.sibling=Ht,xt=Ht);return e&&ct.forEach(function(Ib){return i(V,Ib)}),Gt&&Es(V,_t),st}function te(V,N,k,Q){if(typeof k=="object"&&k!==null&&k.type===Z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case D:t:{for(var st=k.key;N!==null;){if(N.key===st){if(st=k.type,st===Z){if(N.tag===7){a(V,N.sibling),Q=h(N,k.props.children),Q.return=V,V=Q;break t}}else if(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&og(st)===N.type){a(V,N.sibling),Q=h(N,k.props),Bo(Q,k),Q.return=V,V=Q;break t}a(V,N);break}else i(V,N);N=N.sibling}k.type===Z?(Q=_s(k.props.children,V.mode,Q,k.key),Q.return=V,V=Q):(Q=du(k.type,k.key,k.props,null,V.mode,Q),Bo(Q,k),Q.return=V,V=Q)}return v(V);case G:t:{for(st=k.key;N!==null;){if(N.key===st)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(V,N.sibling),Q=h(N,k.children||[]),Q.return=V,V=Q;break t}else{a(V,N);break}else i(V,N);N=N.sibling}Q=Dh(k,V.mode,Q),Q.return=V,V=Q}return v(V);case A:return st=k._init,k=st(k._payload),te(V,N,k,Q)}if(re(k))return bt(V,N,k,Q);if(P(k)){if(st=P(k),typeof st!="function")throw Error(s(150));return k=st.call(k),yt(V,N,k,Q)}if(typeof k.then=="function")return te(V,N,Nu(k),Q);if(k.$$typeof===ht)return te(V,N,yu(V,k),Q);Ou(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(V,N.sibling),Q=h(N,k),Q.return=V,V=Q):(a(V,N),Q=Ch(k,V.mode,Q),Q.return=V,V=Q),v(V)):a(V,N)}return function(V,N,k,Q){try{jo=0;var st=te(V,N,k,Q);return ya=null,st}catch(ct){if(ct===Oo||ct===vu)throw ct;var xt=gn(29,ct,null,V.mode);return xt.lanes=Q,xt.return=V,xt}finally{}}}var _a=lg(!0),ug=lg(!1),Vn=X(null),li=null;function yr(e){var i=e.alternate;W(Ue,Ue.current&1),W(Vn,e),li===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(li=e)}function cg(e){if(e.tag===22){if(W(Ue,Ue.current),W(Vn,e),li===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(li=e)}}else _r()}function _r(){W(Ue,Ue.current),W(Vn,Vn.current)}function zi(e){nt(Vn),li===e&&(li=null),nt(Ue)}var Ue=X(0);function xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function uf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=En(),h=mr(o);h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,o),i!==null&&(Tn(i,e,o),Mo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=En(),h=mr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,o),i!==null&&(Tn(i,e,o),Mo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),o=mr(a);o.tag=2,i!=null&&(o.callback=i),i=pr(e,o,a),i!==null&&(Tn(i,e,a),Mo(i,e,a))}};function hg(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Ao(a,o)||!Ao(h,f):!0}function fg(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&cf.enqueueReplaceState(i,i.state,null)}function Is(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dg(e){Mu(e)}function mg(e){console.error(e)}function pg(e){Mu(e)}function Vu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function gg(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(e,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Vu(e,i)},a}function yg(e){return e=mr(e),e.tag=3,e}function _g(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){gg(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){gg(i,a,o),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function IT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Co(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return li===null?Pf():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===zh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),kf(e,o,h)),!1;case 22:return a.flags|=65536,o===zh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),kf(e,o,h)),!1}throw Error(s(435,a.tag))}return kf(e,o,h),Pf(),!1}if(Gt)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==xh&&(e=Error(s(422),{cause:o}),Io(Nn(e,a)))):(o!==xh&&(i=Error(s(423),{cause:o}),Io(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,a),h=hf(e.stateNode,o,h),qh(e,h),pe!==4&&(pe=2)),!1;var f=Error(s(520),{cause:o});if(f=Nn(f,a),Ko===null?Ko=[f]:Ko.push(f),pe!==4&&(pe=2),i===null)return!0;o=Nn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=hf(a.stateNode,o,e),qh(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Sr===null||!Sr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yg(h),_g(h,e,a,o),qh(a,h),!1}a=a.return}while(a!==null);return!1}var vg=Error(s(461)),je=!1;function Qe(e,i,a,o){i.child=e===null?ug(i,null,a,o):_a(i,e.child,a,o)}function Eg(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Ss(i),o=Yh(e,i,a,v,f,h),E=Kh(),e!==null&&!je?(Xh(e,i,h),ji(e,i,h)):(Gt&&E&&Nh(i),i.flags|=1,Qe(e,i,o,h),i.child)}function Tg(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Ih(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,bg(e,i,f,o,h)):(e=du(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!vf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ao,a(v,o)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=Mi(f,o),e.ref=i.ref,e.return=i,i.child=e}function bg(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Ao(f,o)&&e.ref===i.ref)if(je=!1,i.pendingProps=o=f,vf(e,h))(e.flags&131072)!==0&&(je=!0);else return i.lanes=e.lanes,ji(e,i,h)}return ff(e,i,a,o,h)}function Ag(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Sg(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(i,f!==null?f.cachePool:null),f!==null?bp(i,f):Gh(),cg(i);else return i.lanes=i.childLanes=536870912,Sg(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(_u(i,f.cachePool),bp(i,f),_r(),i.memoizedState=null):(e!==null&&_u(i,null),Gh(),_r());return Qe(e,i,h,a),i.child}function Sg(e,i,a,o){var h=Lh();return h=h===null?null:{parent:Pe._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&_u(i,null),Gh(),cg(i),e!==null&&Co(e,i,o,!0),null}function Pu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ff(e,i,a,o,h){return Ss(i),a=Yh(e,i,a,o,void 0,h),o=Kh(),e!==null&&!je?(Xh(e,i,h),ji(e,i,h)):(Gt&&o&&Nh(i),i.flags|=1,Qe(e,i,a,h),i.child)}function wg(e,i,a,o,h,f){return Ss(i),i.updateQueue=null,a=Sp(i,o,a,h),Ap(e),o=Kh(),e!==null&&!je?(Xh(e,i,f),ji(e,i,f)):(Gt&&o&&Nh(i),i.flags|=1,Qe(e,i,a,f),i.child)}function Rg(e,i,a,o,h){if(Ss(i),i.stateNode===null){var f=la,v=a.contextType;typeof v=="object"&&v!==null&&(f=Je(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},jh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Je(v):la,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(uf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&cf.enqueueReplaceState(f,f.state,null),Po(i,o,f,h),Vo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,S=Is(a,E);f.props=S;var L=f.context,F=a.contextType;v=la,typeof F=="object"&&F!==null&&(v=Je(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&fg(i,f,o,v),dr=!1;var z=i.memoizedState;f.state=z,Po(i,o,f,h),Vo(),L=i.memoizedState,E||z!==L||dr?(typeof Y=="function"&&(uf(i,a,Y,o),L=i.memoizedState),(S=dr||hg(i,a,S,o,z,L,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=S):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Bh(e,i),v=i.memoizedProps,F=Is(a,v),f.props=F,Y=i.pendingProps,z=f.context,L=a.contextType,S=la,typeof L=="object"&&L!==null&&(S=Je(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Y||z!==S)&&fg(i,f,o,S),dr=!1,z=i.memoizedState,f.state=z,Po(i,o,f,h),Vo();var j=i.memoizedState;v!==Y||z!==j||dr||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof E=="function"&&(uf(i,a,E,o),j=i.memoizedState),(F=dr||hg(i,a,F,o,z,j,S)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,S)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=S,o=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Pu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=_a(i,e.child,null,h),i.child=_a(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=ji(e,i,h),e}function Ig(e,i,a,o){return Ro(),i.flags|=256,Qe(e,i,a,o),i.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(e){return{baseLanes:e,cachePool:mp()}}function pf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Pn),e}function Cg(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ue.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Gt){if(h?yr(i):_r(),Gt){var E=me,S;if(S=E){t:{for(S=E,E=oi;S.nodeType!==8;){if(!E){E=null;break t}if(S=Qn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(i.memoizedState={dehydrated:E,treeContext:vs!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},S=gn(18,null,null,0),S.stateNode=E,S.return=i,i.child=S,un=i,me=null,S=!0):S=!1}S||bs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Jf(E)?i.lanes=32:i.lanes=536870912,null;zi(i)}return E=o.children,o=o.fallback,h?(_r(),h=i.mode,E=Uu({mode:"hidden",children:E},h),o=_s(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=mf(a),h.childLanes=pf(e,v,a),i.memoizedState=df,o):(yr(i),gf(i,E))}if(S=e.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)i.flags&256?(yr(i),i.flags&=-257,i=yf(e,i,a)):i.memoizedState!==null?(_r(),i.child=e.child,i.flags|=128,i=null):(_r(),h=o.fallback,E=i.mode,o=Uu({mode:"visible",children:o.children},E),h=_s(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,_a(i,e.child,null,a),o=i.child,o.memoizedState=mf(a),o.childLanes=pf(e,v,a),i.memoizedState=df,i=h);else if(yr(i),Jf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Io({value:o,source:null,stack:null}),i=yf(e,i,a)}else if(je||Co(e,i,a,!1),v=(a&e.childLanes)!==0,je||v){if(v=ie,v!==null&&(o=a&-a,o=(o&42)!==0?1:sr(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,oa(e,o),Tn(v,e,o),vg;E.data==="$?"||Pf(),i=yf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=S.treeContext,me=Qn(E.nextSibling),un=i,Gt=!0,Ts=null,oi=!1,e!==null&&(xn[Mn++]=Vi,xn[Mn++]=Pi,xn[Mn++]=vs,Vi=e.id,Pi=e.overflow,vs=i),i=gf(i,o.children),i.flags|=4096);return i}return h?(_r(),h=o.fallback,E=i.mode,S=e.child,L=S.sibling,o=Mi(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,L!==null?h=Mi(L,h):(h=_s(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=mf(a):(S=E.cachePool,S!==null?(L=Pe._currentValue,S=S.parent!==L?{parent:L,pool:L}:S):S=mp(),E={baseLanes:E.baseLanes|a,cachePool:S}),h.memoizedState=E,h.childLanes=pf(e,v,a),i.memoizedState=df,o):(yr(i),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function gf(e,i){return i=Uu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Uu(e,i){return e=gn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function yf(e,i,a){return _a(i,e.child,null,a),e=gf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Dg(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Vh(e.return,i,a)}function _f(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Ng(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Qe(e,i,o.children,a),o=Ue.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dg(e,a,i);else if(e.tag===19)Dg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Ue,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),_f(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}_f(i,!0,a,null,f);break;case"together":_f(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Co(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Mi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function vf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function CT(e,i,a){switch(i.tag){case 3:Xt(i,i.stateNode.containerInfo),fr(i,Pe,e.memoizedState.cache),Ro();break;case 27:case 5:jn(i);break;case 4:Xt(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cg(e,i,a):(yr(i),e=ji(e,i,a),e!==null?e.sibling:null);yr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Co(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ng(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ue,Ue.current),o)break;return null;case 22:case 23:return i.lanes=0,Ag(e,i,a);case 24:fr(i,Pe,e.memoizedState.cache)}return ji(e,i,a)}function Og(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)je=!0;else{if(!vf(e,a)&&(i.flags&128)===0)return je=!1,CT(e,i,a);je=(e.flags&131072)!==0}else je=!1,Gt&&(i.flags&1048576)!==0&&op(i,pu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Ih(o)?(e=Is(o,e),i.tag=1,i=Rg(null,i,o,e,a)):(i.tag=0,i=ff(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Nt){i.tag=11,i=Eg(null,i,o,e,a);break t}else if(h===x){i.tag=14,i=Tg(null,i,o,e,a);break t}}throw i=Oe(o)||o,Error(s(306,i,""))}}return i;case 0:return ff(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Is(o,i.pendingProps),Rg(e,i,o,h,a);case 3:t:{if(Xt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Bh(e,i),Po(i,o,null,a);var v=i.memoizedState;if(o=v.cache,fr(i,Pe,o),o!==f.cache&&Ph(i,[Pe],a,!0),Vo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ig(e,i,o,a);break t}else if(o!==h){h=Nn(Error(s(424)),i),Io(h),i=Ig(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Qn(e.firstChild),un=i,Gt=!0,Ts=null,oi=!0,a=ug(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ro(),o===h){i=ji(e,i,a);break t}Qe(e,i,o,a)}i=i.child}return i;case 26:return Pu(e,i),e===null?(a=Py(i.type,null,i.pendingProps,null))?i.memoizedState=a:Gt||(a=i.type,e=i.pendingProps,o=$u(mt.current).createElement(a),o[xe]=i,o[we]=e,Ke(o,a,e),_e(o),i.stateNode=o):i.memoizedState=Py(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return jn(i),e===null&&Gt&&(o=i.stateNode=xy(i.type,i.pendingProps,mt.current),un=i,oi=!0,h=me,Ir(i.type)?(Wf=h,me=Qn(o.firstChild)):me=h),Qe(e,i,i.pendingProps.children,a),Pu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Gt&&((h=o=me)&&(o=nb(o,i.type,i.pendingProps,oi),o!==null?(i.stateNode=o,un=i,me=Qn(o.firstChild),oi=!1,h=!0):h=!1),h||bs(i)),jn(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Xf(h,f)?o=null:v!==null&&Xf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Yh(e,i,ET,null,null,a),il._currentValue=h),Pu(e,i),Qe(e,i,o,a),i.child;case 6:return e===null&&Gt&&((e=a=me)&&(a=ib(a,i.pendingProps,oi),a!==null?(i.stateNode=a,un=i,me=null,e=!0):e=!1),e||bs(i)),null;case 13:return Cg(e,i,a);case 4:return Xt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=_a(i,null,o,a):Qe(e,i,o,a),i.child;case 11:return Eg(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,fr(i,i.type,o.value),Qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ss(i),h=Je(h),o=o(h),i.flags|=1,Qe(e,i,o,a),i.child;case 14:return Tg(e,i,i.type,i.pendingProps,a);case 15:return bg(e,i,i.type,i.pendingProps,a);case 19:return Ng(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Uu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ag(e,i,a);case 24:return Ss(i),o=Je(Pe),e===null?(h=Lh(),h===null&&(h=ie,f=Uh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},jh(i),fr(i,Pe,h)):((e.lanes&a)!==0&&(Bh(e,i),Po(i,null,null,a),Vo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,Pe,o)):(o=f.cache,fr(i,Pe,o),o!==h.cache&&Ph(i,[Pe],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(e){e.flags|=4}function xg(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jy(i)){if(i=Vn.current,i!==null&&((jt&4194048)===jt?li!==null:(jt&62914560)!==jt&&(jt&536870912)===0||i!==li))throw xo=zh,pp;e.flags|=8192}}function ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ro():536870912,e.lanes|=i,ba|=i)}function qo(e,i){if(!Gt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function he(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function DT(e,i,a){var o=i.pendingProps;switch(Oh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ki(Pe),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wo(i)?Bi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cp())),he(i),null;case 26:return a=i.memoizedState,e===null?(Bi(i),a!==null?(he(i),xg(i,a)):(he(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Bi(i),he(i),xg(i,a)):(he(i),i.flags&=-16777217):(e.memoizedProps!==o&&Bi(i),he(i),i.flags&=-16777217),null;case 27:An(i),a=mt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return he(i),null}e=ft.current,wo(i)?lp(i):(e=xy(h,o,a),i.stateNode=e,Bi(i))}return he(i),null;case 5:if(An(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(e=ft.current,wo(i))lp(i);else{switch(h=$u(mt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[xe]=i,e[we]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ke(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Bi(i)}}return he(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=mt.current,wo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=un,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[xe]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||wy(e.nodeValue,a)),e||bs(i)}else e=$u(e).createTextNode(o),e[xe]=i,i.stateNode=e}return he(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xe]=i}else Ro(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=cp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),ku(i,i.updateQueue),he(i),null;case 4:return ge(),e===null&&Gf(i.stateNode.containerInfo),he(i),null;case 10:return ki(i.type),he(i),null;case 19:if(nt(Ue),h=i.memoizedState,h===null)return he(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)qo(h,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=xu(e),f!==null){for(i.flags|=128,qo(h,!1),e=f.updateQueue,i.updateQueue=e,ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ap(a,e),a=a.sibling;return W(Ue,Ue.current&1|2),i.child}e=e.sibling}h.tail!==null&&sn()>ju&&(i.flags|=128,o=!0,qo(h,!1),i.lanes=4194304)}else{if(!o)if(e=xu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,ku(i,e),qo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Gt)return he(i),null}else 2*sn()-h.renderingStartTime>ju&&a!==536870912&&(i.flags|=128,o=!0,qo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,e=Ue.current,W(Ue,o?e&1|2:e&1),i):(he(i),null);case 22:case 23:return zi(i),Fh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(ws),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(Pe),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function NT(e,i){switch(Oh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ki(Pe),ge(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return An(i),null;case 13:if(zi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ro()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Ue),null;case 4:return ge(),null;case 10:return ki(i.type),null;case 22:case 23:return zi(i),Fh(),e!==null&&nt(ws),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ki(Pe),null;case 25:return null;default:return null}}function Mg(e,i){switch(Oh(i),i.tag){case 3:ki(Pe),ge();break;case 26:case 27:case 5:An(i);break;case 4:ge();break;case 13:zi(i);break;case 19:nt(Ue);break;case 10:ki(i.type);break;case 22:case 23:zi(i),Fh(),e!==null&&nt(ws);break;case 24:ki(Pe)}}function Ho(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){ne(i,i.return,E)}}function vr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var S=a,L=E;try{L()}catch(F){ne(h,S,F)}}}o=o.next}while(o!==f)}}catch(F){ne(i,i.return,F)}}function Vg(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Tp(i,a)}catch(o){ne(e,e.return,o)}}}function Pg(e,i,a){a.props=Is(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ne(e,i,o)}}function Go(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ne(e,i,h)}}function ui(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ne(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(e,i,h)}else a.current=null}function Ug(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ne(e,e.return,h)}}function Ef(e,i,a){try{var o=e.stateNode;ZT(o,e.type,a,i),o[we]=i}catch(h){ne(e,e.return,h)}}function kg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function Tf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xu));else if(o!==4&&(o===27&&Ir(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(bf(e,i,a),e=e.sibling;e!==null;)bf(e,i,a),e=e.sibling}function Lu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Ir(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Lu(e,i,a),e=e.sibling;e!==null;)Lu(e,i,a),e=e.sibling}function Lg(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,o,a),i[xe]=e,i[we]=a}catch(f){ne(e,e.return,f)}}var qi=!1,Ee=!1,Af=!1,zg=typeof WeakSet=="function"?WeakSet:Set,Be=null;function OT(e,i){if(e=e.containerInfo,Yf=nc,e=$m(e),Eh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,S=-1,L=0,F=0,Y=e,z=null;e:for(;;){for(var j;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==f||o!==0&&Y.nodeType!==3||(S=v+o),Y.nodeType===3&&(v+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===e)break e;if(z===a&&++L===h&&(E=v),z===f&&++F===o&&(S=v),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kf={focusedElem:e,selectionRange:a},nc=!1,Be=i;Be!==null;)if(i=Be,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Be=e;else for(;Be!==null;){switch(i=Be,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var bt=Is(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(bt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){ne(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Zf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Be=e;break}Be=i.return}}function jg(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a),o&4&&Ho(5,a);break;case 1:if(Er(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ne(a,a.return,v)}else{var h=Is(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}o&64&&Vg(a),o&512&&Go(a,a.return);break;case 3:if(Er(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Tp(e,i)}catch(v){ne(a,a.return,v)}}break;case 27:i===null&&o&4&&Lg(a);case 26:case 5:Er(e,a),i===null&&o&4&&Ug(a),o&512&&Go(a,a.return);break;case 12:Er(e,a);break;case 13:Er(e,a),o&4&&Hg(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=jT.bind(null,a),rb(e,a))));break;case 22:if(o=a.memoizedState!==null||qi,!o){i=i!==null&&i.memoizedState!==null||Ee,h=qi;var f=Ee;qi=o,(Ee=i)&&!f?Tr(e,a,(a.subtreeFlags&8772)!==0):Er(e,a),qi=h,Ee=f}break;case 30:break;default:Er(e,a)}}function Bg(e){var i=e.alternate;i!==null&&(e.alternate=null,Bg(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&lr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,hn=!1;function Hi(e,i,a){for(a=a.child;a!==null;)qg(e,i,a),a=a.sibling}function qg(e,i,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount($t,a)}catch{}switch(a.tag){case 26:Ee||ui(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||ui(a,i);var o=ue,h=hn;Ir(a.type)&&(ue=a.stateNode,hn=!1),Hi(e,i,a),Wo(a.stateNode),ue=o,hn=h;break;case 5:Ee||ui(a,i);case 6:if(o=ue,h=hn,ue=null,Hi(e,i,a),ue=o,hn=h,ue!==null)if(hn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){ne(a,i,f)}else try{ue.removeChild(a.stateNode)}catch(f){ne(a,i,f)}break;case 18:ue!==null&&(hn?(e=ue,Ny(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ol(e)):Ny(ue,a.stateNode));break;case 4:o=ue,h=hn,ue=a.stateNode.containerInfo,hn=!0,Hi(e,i,a),ue=o,hn=h;break;case 0:case 11:case 14:case 15:Ee||vr(2,a,i),Ee||vr(4,a,i),Hi(e,i,a);break;case 1:Ee||(ui(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Pg(a,i,o)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:Ee=(o=Ee)||a.memoizedState!==null,Hi(e,i,a),Ee=o;break;default:Hi(e,i,a)}}function Hg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(a){ne(i,i.return,a)}}function xT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new zg),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new zg),i;default:throw Error(s(435,e.tag))}}function Sf(e,i){var a=xT(e);i.forEach(function(o){var h=BT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function yn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Ir(E.type)){ue=E.stateNode,hn=!1;break t}break;case 5:ue=E.stateNode,hn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(ue===null)throw Error(s(160));qg(f,v,h),ue=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Gg(i,e),i=i.sibling}var Fn=null;function Gg(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(i,e),_n(e),o&4&&(vr(3,e,e.return),Ho(3,e),vr(5,e,e.return));break;case 1:yn(i,e),_n(e),o&512&&(Ee||a===null||ui(a,a.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Fn;if(yn(i,e),_n(e),o&512&&(Ee||a===null||ui(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ns]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,a),f[xe]=e,_e(f),o=f;break t;case"link":var v=Ly("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;case"meta":if(v=Ly("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[xe]=e,_e(f),o=f}e.stateNode=o}else zy(h,e.type,e.stateNode);else e.stateNode=ky(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?zy(h,e.type,e.stateNode):ky(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(i,e),_n(e),o&512&&(Ee||a===null||ui(a,a.return)),a!==null&&o&4&&Ef(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,e),_n(e),o&512&&(Ee||a===null||ui(a,a.return)),e.flags&32){h=e.stateNode;try{Rn(h,"")}catch(j){ne(e,e.return,j)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ef(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Af=!0);break;case 6:if(yn(i,e),_n(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(j){ne(e,e.return,j)}}break;case 3:if(Wu=null,h=Fn,Fn=Zu(i.containerInfo),yn(i,e),Fn=h,_n(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(j){ne(e,e.return,j)}Af&&(Af=!1,Fg(e));break;case 4:o=Fn,Fn=Zu(e.stateNode.containerInfo),yn(i,e),_n(e),Fn=o;break;case 12:yn(i,e),_n(e);break;case 13:yn(i,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nf=sn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sf(e,o)));break;case 22:h=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,L=qi,F=Ee;if(qi=L||h,Ee=F||S,yn(i,e),Ee=F,qi=L,_n(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||S||qi||Ee||Cs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){S=a=i;try{if(f=S.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=S.stateNode;var Y=S.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){ne(S,S.return,j)}}}else if(i.tag===6){if(a===null){S=i;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(j){ne(S,S.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Sf(e,a))));break;case 19:yn(i,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sf(e,o)));break;case 30:break;case 21:break;default:yn(i,e),_n(e)}}function _n(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(kg(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Tf(e);Lu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var E=Tf(e);Lu(e,E,v);break;case 3:case 4:var S=a.stateNode.containerInfo,L=Tf(e);bf(e,L,S);break;default:throw Error(s(161))}}catch(F){ne(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Fg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Fg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jg(e,i.alternate,i),i=i.sibling}function Cs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),Cs(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Pg(i,i.return,a),Cs(i);break;case 27:Wo(i.stateNode);case 26:case 5:ui(i,i.return),Cs(i);break;case 22:i.memoizedState===null&&Cs(i);break;case 30:Cs(i);break;default:Cs(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:Tr(h,f,a),Ho(4,f);break;case 1:if(Tr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){ne(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)Ep(S[h],E)}catch(L){ne(o,o.return,L)}}a&&v&64&&Vg(f),Go(f,f.return);break;case 27:Lg(f);case 26:case 5:Tr(h,f,a),a&&o===null&&v&4&&Ug(f),Go(f,f.return);break;case 12:Tr(h,f,a);break;case 13:Tr(h,f,a),a&&v&4&&Hg(h,f);break;case 22:f.memoizedState===null&&Tr(h,f,a),Go(f,f.return);break;case 30:break;default:Tr(h,f,a)}i=i.sibling}}function wf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Do(a))}function Rf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Do(e))}function ci(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qg(e,i,a,o),i=i.sibling}function Qg(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(e,i,a,o),h&2048&&Ho(9,i);break;case 1:ci(e,i,a,o);break;case 3:ci(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Do(e)));break;case 12:if(h&2048){ci(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ne(i,i.return,S)}}else ci(e,i,a,o);break;case 13:ci(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ci(e,i,a,o):Fo(e,i):f._visibility&2?ci(e,i,a,o):(f._visibility|=2,va(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&wf(v,i);break;case 24:ci(e,i,a,o),h&2048&&Rf(i.alternate,i);break;default:ci(e,i,a,o)}}function va(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,S=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:va(f,v,E,S,h),Ho(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?va(f,v,E,S,h):Fo(f,v):(F._visibility|=2,va(f,v,E,S,h)),h&&L&2048&&wf(v.alternate,v);break;case 24:va(f,v,E,S,h),h&&L&2048&&Rf(v.alternate,v);break;default:va(f,v,E,S,h)}i=i.sibling}}function Fo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Fo(a,o),h&2048&&wf(o.alternate,o);break;case 24:Fo(a,o),h&2048&&Rf(o.alternate,o);break;default:Fo(a,o)}i=i.sibling}}var Qo=8192;function Ea(e){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Yg(e),e=e.sibling}function Yg(e){switch(e.tag){case 26:Ea(e),e.flags&Qo&&e.memoizedState!==null&&yb(Fn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var i=Fn;Fn=Zu(e.stateNode.containerInfo),Ea(e),Fn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,Ea(e),Qo=i):Ea(e));break;default:Ea(e)}}function Kg(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Be=o,$g(o,e)}Kg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xg(e),e=e.sibling}function Xg(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&vr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,zu(e)):Yo(e);break;default:Yo(e)}}function zu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Be=o,$g(o,e)}Kg(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:vr(8,i,i.return),zu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,zu(i));break;default:zu(i)}e=e.sibling}}function $g(e,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Do(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Be=o;else t:for(a=e;Be!==null;){o=Be;var h=o.sibling,f=o.return;if(Bg(o),o===a){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var MT={getCacheForType:function(e){var i=Je(Pe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},VT=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ie=null,Mt=null,jt=0,Kt=0,vn=null,br=!1,Ta=!1,If=!1,Gi=0,pe=0,Ar=0,Ds=0,Cf=0,Pn=0,ba=0,Ko=null,fn=null,Df=!1,Nf=0,ju=1/0,Bu=null,Sr=null,Ye=0,wr=null,Aa=null,Sa=0,Of=0,xf=null,Zg=null,Xo=0,Mf=null;function En(){if((Yt&2)!==0&&jt!==0)return jt&-jt;if(H.T!==null){var e=ha;return e!==0?e:jf()}return ar()}function Jg(){Pn===0&&(Pn=(jt&536870912)===0||Gt?io():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),Pn}function Tn(e,i,a){(e===ie&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Rr(e,jt,Pn,!1)),bi(e,a),((Yt&2)===0||e!==ie)&&(e===ie&&((Yt&2)===0&&(Ds|=a),pe===4&&Rr(e,jt,Pn,!1)),hi(e))}function Wg(e,i,a){if((Yt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||es(e,i),h=o?kT(e,i):Uf(e,i,!0),f=o;do{if(h===0){Ta&&!o&&Rr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!PT(a)){h=Uf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Ko;var S=E.current.memoizedState.isDehydrated;if(S&&(wa(E,v).flags|=256),v=Uf(E,v,!1),v!==2){if(If&&!S){E.errorRecoveryDisabledLanes|=f,Ds|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){wa(e,0),Rr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(o,i,Pn,!br);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Nf+300-sn(),10<h)){if(Rr(o,i,Pn,!br),qs(o,0,!0)!==0)break t;o.timeoutHandle=Cy(ty.bind(null,o,a,fn,Bu,Df,i,Pn,Ds,ba,br,f,2,-0,0),h);break t}ty(o,a,fn,Bu,Df,i,Pn,Ds,ba,br,f,0,-0,0)}}break}while(!0);hi(e)}function ty(e,i,a,o,h,f,v,E,S,L,F,Y,z,j){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:gb},Yg(i),Y=_b(),Y!==null)){e.cancelPendingCommit=Y(oy.bind(null,e,i,f,a,o,h,v,E,S,F,1,z,j)),Rr(e,f,v,!L);return}oy(e,i,f,a,o,h,v,E,S)}function PT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(e,i,a,o){i&=~Cf,i&=~Ds,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Se(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&$n(e,a,i)}function qu(){return(Yt&6)===0?($o(0),!1):!0}function Vf(){if(Mt!==null){if(Kt===0)var e=Mt.return;else e=Mt,Ui=As=null,$h(e),ya=null,jo=0,e=Mt;for(;e!==null;)Mg(e.alternate,e),e=e.return;Mt=null}}function wa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,WT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vf(),ie=e,Mt=a=Mi(e.current,null),jt=i,Kt=0,vn=null,br=!1,Ta=es(e,i),If=!1,ba=Pn=Cf=Ds=Ar=pe=0,fn=Ko=null,Df=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Se(o),f=1<<h;i|=e[h],o&=~f}return Gi=i,cu(),a}function ey(e,i){Ct=null,H.H=Du,i===Oo||i===vu?(i=_p(),Kt=3):i===pp?(i=_p(),Kt=4):Kt=i===vg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Mt===null&&(pe=1,Vu(e,Nn(i,e.current)))}function ny(){var e=H.H;return H.H=Du,e===null?Du:e}function iy(){var e=H.A;return H.A=MT,e}function Pf(){pe=4,br||(jt&4194048)!==jt&&Vn.current!==null||(Ta=!0),(Ar&134217727)===0&&(Ds&134217727)===0||ie===null||Rr(ie,jt,Pn,!1)}function Uf(e,i,a){var o=Yt;Yt|=2;var h=ny(),f=iy();(ie!==e||jt!==i)&&(Bu=null,wa(e,i)),i=!1;var v=pe;t:do try{if(Kt!==0&&Mt!==null){var E=Mt,S=vn;switch(Kt){case 8:Vf(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var L=Kt;if(Kt=0,vn=null,Ra(e,E,S,L),a&&Ta){v=0;break t}break;default:L=Kt,Kt=0,vn=null,Ra(e,E,S,L)}}UT(),v=pe;break}catch(F){ey(e,F)}while(!0);return i&&e.shellSuspendCounter++,Ui=As=null,Yt=o,H.H=h,H.A=f,Mt===null&&(ie=null,jt=0,cu()),v}function UT(){for(;Mt!==null;)ry(Mt)}function kT(e,i){var a=Yt;Yt|=2;var o=ny(),h=iy();ie!==e||jt!==i?(Bu=null,ju=sn()+500,wa(e,i)):Ta=es(e,i);t:do try{if(Kt!==0&&Mt!==null){i=Mt;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,Ra(e,i,f,1);break;case 2:case 9:if(gp(f)){Kt=0,vn=null,sy(i);break}i=function(){Kt!==2&&Kt!==9||ie!==e||(Kt=7),hi(e)},f.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:gp(f)?(Kt=0,vn=null,sy(i)):(Kt=0,vn=null,Ra(e,i,f,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||jy(v)){Kt=0,vn=null;var S=E.sibling;if(S!==null)Mt=S;else{var L=E.return;L!==null?(Mt=L,Hu(L)):Mt=null}break e}}Kt=0,vn=null,Ra(e,i,f,5);break;case 6:Kt=0,vn=null,Ra(e,i,f,6);break;case 8:Vf(),pe=6;break t;default:throw Error(s(462))}}LT();break}catch(F){ey(e,F)}while(!0);return Ui=As=null,H.H=o,H.A=h,Yt=a,Mt!==null?0:(ie=null,jt=0,cu(),pe)}function LT(){for(;Mt!==null&&!Zr();)ry(Mt)}function ry(e){var i=Og(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,i===null?Hu(e):Mt=i}function sy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=wg(a,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=wg(a,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:$h(i);default:Mg(a,i),i=Mt=ap(i,Gi),i=Og(a,i,Gi)}e.memoizedProps=e.pendingProps,i===null?Hu(e):Mt=i}function Ra(e,i,a,o){Ui=As=null,$h(i),ya=null,jo=0;var h=i.return;try{if(IT(e,h,i,a,jt)){pe=1,Vu(e,Nn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;pe=1,Vu(e,Nn(a,e.current)),Mt=null;return}i.flags&32768?(Gt||o===1?e=!0:Ta||(jt&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ay(i,e)):Hu(i)}function Hu(e){var i=e;do{if((i.flags&32768)!==0){ay(i,br);return}e=i.return;var a=DT(i.alternate,i,Gi);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);pe===0&&(pe=5)}function ay(e,i){do{var a=NT(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);pe=6,Mt=null}function oy(e,i,a,o,h,f,v,E,S){e.cancelPendingCommit=null;do Gu();while(Ye!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=wh,so(e,a,f,v,E,S),e===ie&&(Mt=ie=null,jt=0),Aa=i,wr=e,Sa=a,Of=f,xf=h,Zg=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,qT(ee,function(){return fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,v=Yt,Yt|=4;try{OT(e,i,a)}finally{Yt=v,et.p=h,H.T=o}}Ye=1,ly(),uy(),cy()}}function ly(){if(Ye===1){Ye=0;var e=wr,i=Aa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{Gg(i,e);var f=Kf,v=$m(e.containerInfo),E=f.focusedElem,S=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Xm(E.ownerDocument.documentElement,E)){if(S!==null&&Eh(E)){var L=S.start,F=S.end;if(F===void 0&&(F=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var j=z.getSelection(),bt=E.textContent.length,yt=Math.min(S.start,bt),te=S.end===void 0?yt:Math.min(S.end,bt);!j.extend&&yt>te&&(v=te,te=yt,yt=v);var V=Km(E,yt),N=Km(E,te);if(V&&N&&(j.rangeCount!==1||j.anchorNode!==V.node||j.anchorOffset!==V.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var k=Y.createRange();k.setStart(V.node,V.offset),j.removeAllRanges(),yt>te?(j.addRange(k),j.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),j.addRange(k))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}nc=!!Yf,Kf=Yf=null}finally{Yt=h,et.p=o,H.T=a}}e.current=i,Ye=2}}function uy(){if(Ye===2){Ye=0;var e=wr,i=Aa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{jg(e,i.alternate,i)}finally{Yt=h,et.p=o,H.T=a}}Ye=3}}function cy(){if(Ye===4||Ye===3){Ye=0,rr();var e=wr,i=Aa,a=Sa,o=Zg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ye=5:(Ye=0,Aa=wr=null,hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Sr=null),Hs(a),i=i.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot($t,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,et.p=h}}(Sa&3)!==0&&Gu(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Mf?Xo++:(Xo=0,Mf=e):Xo=0,$o(0)}}function hy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Do(i)))}function Gu(e){return ly(),uy(),cy(),fy()}function fy(){if(Ye!==5)return!1;var e=wr,i=Of;Of=0;var a=Hs(Sa),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=xf,xf=null;var f=wr,v=Sa;if(Ye=0,Aa=wr=null,Sa=0,(Yt&6)!==0)throw Error(s(331));var E=Yt;if(Yt|=4,Xg(f.current),Qg(f,f.current,v,a),Yt=E,$o(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot($t,f)}catch{}return!0}finally{et.p=h,H.T=o,hy(e,i)}}function dy(e,i,a){i=Nn(a,i),i=hf(e.stateNode,i,2),e=pr(e,i,2),e!==null&&(bi(e,2),hi(e))}function ne(e,i,a){if(e.tag===3)dy(e,e,a);else for(;i!==null;){if(i.tag===3){dy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sr===null||!Sr.has(o))){e=Nn(a,e),a=yg(2),o=pr(i,a,2),o!==null&&(_g(a,o,i,e),bi(o,2),hi(o));break}}i=i.return}}function kf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new VT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(If=!0,h.add(a),e=zT.bind(null,e,i,a),i.then(e,e))}function zT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(jt&a)===a&&(pe===4||pe===3&&(jt&62914560)===jt&&300>sn()-Nf?(Yt&2)===0&&wa(e,0):Cf|=a,ba===jt&&(ba=0)),hi(e)}function my(e,i){i===0&&(i=ro()),e=oa(e,i),e!==null&&(bi(e,i),hi(e))}function jT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),my(e,a)}function BT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),my(e,a)}function qT(e,i){return vi(e,i)}var Fu=null,Ia=null,Lf=!1,Qu=!1,zf=!1,Ns=0;function hi(e){e!==Ia&&e.next===null&&(Ia===null?Fu=Ia=e:Ia=Ia.next=e),Qu=!0,Lf||(Lf=!0,GT())}function $o(e,i){if(!zf&&Qu){zf=!0;do for(var a=!1,o=Fu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Se(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,_y(o,f))}else f=jt,f=qs(o,o===ie?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||es(o,f)||(a=!0,_y(o,f));o=o.next}while(a);zf=!1}}function HT(){py()}function py(){Qu=Lf=!1;var e=0;Ns!==0&&(JT()&&(e=Ns),Ns=0);for(var i=sn(),a=null,o=Fu;o!==null;){var h=o.next,f=gy(o,i);f===0?(o.next=null,a===null?Fu=h:a.next=h,h===null&&(Ia=a)):(a=o,(e!==0||(f&3)!==0)&&(Qu=!0)),o=h}$o(e)}function gy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Se(f),E=1<<v,S=h[v];S===-1?((E&a)===0||(E&o)!==0)&&(h[v]=no(E,i)):S<=i&&(e.expiredLanes|=E),f&=~E}if(i=ie,a=jt,a=qs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||es(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Ei(o),Hs(a)){case 2:case 8:a=gt;break;case 32:a=ee;break;case 268435456:a=ce;break;default:a=ee}return o=yy.bind(null,e),a=vi(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Ei(o),e.callbackPriority=2,e.callbackNode=null,2}function yy(e,i){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gu()&&e.callbackNode!==a)return null;var o=jt;return o=qs(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Wg(e,o,i),gy(e,sn()),e.callbackNode!=null&&e.callbackNode===a?yy.bind(null,e):null)}function _y(e,i){if(Gu())return null;Wg(e,i,!0)}function GT(){tb(function(){(Yt&6)!==0?vi(ot,HT):py()})}function jf(){return Ns===0&&(Ns=io()),Ns}function vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Ey(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function FT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=vy((h[we]||null).action),v=o.submitter;v&&(i=(i=v[we]||null)?vy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new $s("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var S=v?Ey(h,v):new FormData(h);af(a,{pending:!0,data:S,method:h.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=v?Ey(h,v):new FormData(h),af(a,{pending:!0,data:S,method:h.method,action:f},f,S))},currentTarget:h}]})}}for(var Bf=0;Bf<Sh.length;Bf++){var qf=Sh[Bf],QT=qf.toLowerCase(),YT=qf[0].toUpperCase()+qf.slice(1);Gn(QT,"on"+YT)}Gn(Wm,"onAnimationEnd"),Gn(tp,"onAnimationIteration"),Gn(ep,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(cT,"onTransitionRun"),Gn(hT,"onTransitionStart"),Gn(fT,"onTransitionCancel"),Gn(np,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function Ty(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],S=E.instance,L=E.currentTarget;if(E=E.listener,S!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=S}else for(v=0;v<o.length;v++){if(E=o[v],S=E.instance,L=E.currentTarget,E=E.listener,S!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=S}}}}function Vt(e,i){var a=i[oo];a===void 0&&(a=i[oo]=new Set);var o=e+"__bubble";a.has(o)||(by(i,e,2,!1),a.add(o))}function Hf(e,i,a){var o=0;i&&(o|=4),by(a,e,o,i)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[Yu]){e[Yu]=!0,lo.forEach(function(a){a!=="selectionchange"&&(KT.has(a)||Hf(a,!1,e),Hf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Yu]||(i[Yu]=!0,Hf("selectionchange",!1,i))}}function by(e,i,a,o){switch(Qy(i)){case 2:var h=Tb;break;case 8:h=bb;break;default:h=rd}a=h.bind(null,i,a,e),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ff(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ai(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){o=f=v;continue t}E=E.parentNode}}o=o.return}Xl(function(){var L=f,F=In(a),Y=[];t:{var z=ip.get(e);if(z!==void 0){var j=$s,bt=e;switch(e){case"keypress":if(ni(a)===0)break t;case"keydown":case"keyup":j=na;break;case"focusin":bt="focus",j=Ws;break;case"focusout":bt="blur",j=Ws;break;case"beforeblur":case"afterblur":j=Ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=iu;break;case Wm:case tp:case ep:j=ta;break;case np:j=su;break;case"scroll":case"scrollend":j=$l;break;case"wheel":j=ia;break;case"copy":case"cut":case"paste":j=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=To;break;case"toggle":case"beforetoggle":j=ou}var yt=(i&4)!==0,te=!yt&&(e==="scroll"||e==="scrollend"),V=yt?z!==null?z+"Capture":null:z;yt=[];for(var N=L,k;N!==null;){var Q=N;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||V===null||(Q=us(N,V),Q!=null&&yt.push(Jo(N,Q,k))),te)break;N=N.return}0<yt.length&&(z=new j(z,bt,null,a,F),Y.push({event:z,listeners:yt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==Ii&&(bt=a.relatedTarget||a.fromElement)&&(Ai(bt)||bt[wn]))break t;if((j||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,j?(bt=a.relatedTarget||a.toElement,j=L,bt=bt?Ai(bt):null,bt!==null&&(te=c(bt),yt=bt.tag,bt!==te||yt!==5&&yt!==27&&yt!==6)&&(bt=null)):(j=null,bt=L),j!==bt)){if(yt=Dn,Q="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=To,Q="onPointerLeave",V="onPointerEnter",N="pointer"),te=j==null?z:Jn(j),k=bt==null?z:Jn(bt),z=new yt(Q,N+"leave",j,a,F),z.target=te,z.relatedTarget=k,Q=null,Ai(F)===L&&(yt=new yt(V,N+"enter",bt,a,F),yt.target=k,yt.relatedTarget=te,Q=yt),te=Q,j&&bt)e:{for(yt=j,V=bt,N=0,k=yt;k;k=Ca(k))N++;for(k=0,Q=V;Q;Q=Ca(Q))k++;for(;0<N-k;)yt=Ca(yt),N--;for(;0<k-N;)V=Ca(V),k--;for(;N--;){if(yt===V||V!==null&&yt===V.alternate)break e;yt=Ca(yt),V=Ca(V)}yt=null}else yt=null;j!==null&&Ay(Y,z,j,yt,!1),bt!==null&&te!==null&&Ay(Y,te,bt,yt,!0)}}t:{if(z=L?Jn(L):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var st=qm;else if(Ve(z))if(Hm)st=oT;else{st=sT;var xt=rT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&mo(L.elementType)&&(st=qm):st=aT;if(st&&(st=st(e,L))){xi(Y,st,a,F);break t}xt&&xt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&cr(z,"number",z.value)}switch(xt=L?Jn(L):window,e){case"focusin":(Ve(xt)||xt.contentEditable==="true")&&(ra=xt,Th=L,So=null);break;case"focusout":So=Th=ra=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,Zm(Y,a,F);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":Zm(Y,a,F)}var ct;if(si)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?B(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(y&&a.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(ct=go()):(ei=F,hr="value"in ei?ei.value:ei.textContent,Lt=!0)),xt=Ku(L,_t),0<xt.length&&(_t=new vo(_t,e,null,a,F),Y.push({event:_t,listeners:xt}),ct?_t.data=ct:(ct=tt(a),ct!==null&&(_t.data=ct)))),(ct=m?Me(e,a):zt(e,a))&&(_t=Ku(L,"onBeforeInput"),0<_t.length&&(xt=new vo("onBeforeInput","beforeinput",null,a,F),Y.push({event:xt,listeners:_t}),xt.data=ct)),FT(Y,e,L,a,F)}Ty(Y,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ku(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=us(e,a),h!=null&&o.unshift(Jo(e,h,f)),h=us(e,i),h!=null&&o.push(Jo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ay(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,S=E.alternate,L=E.stateNode;if(E=E.tag,S!==null&&S===o)break;E!==5&&E!==26&&E!==27||L===null||(S=L,h?(L=us(a,f),L!=null&&v.unshift(Jo(a,L,S))):h||(L=us(a,f),L!=null&&v.push(Jo(a,L,S)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var XT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function Sy(e){return(typeof e=="string"?e:""+e).replace(XT,`
`).replace($T,"")}function wy(e,i){return i=Sy(i),Sy(e)===i}function Xu(){}function Wt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Rn(e,""+o);break;case"className":Wn(e,"class",o);break;case"tabIndex":Wn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(e,a,o);break;case"style":fo(e,o,f);break;case"data":if(i!=="object"){Wn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Xs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Xs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Xu);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ur(e,"popover",o);break;case"xlinkActuate":Ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ge(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ge(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ge(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ge(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ur(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mh.get(a)||a,ur(e,a,o))}}function Qf(e,i,a,o,h,f){switch(a){case"style":fo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&Rn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[we]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ur(e,a,o)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,f,v,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=v=h=null,S=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":v=F;break;case"checked":S=F;break;case"defaultChecked":L=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Wt(e,i,o,F,a,null)}}as(e,f,E,S,L,v,h,!1),Ks(e);return;case"select":Vt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Ri(e,!!o,i,!1):a!=null&&Ri(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,v,E,a,null)}os(e,o,h,f),Ks(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,S,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Zo.length;o++)Vt(Zo[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,L,o,a,null)}return;default:if(mo(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Qf(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function ZT(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,S=null,L=null,F=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":S=Y;default:o.hasOwnProperty(j)||Wt(e,i,j,null,o,Y)}}for(var z in o){var j=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":L=j;break;case"defaultChecked":F=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Y&&Wt(e,i,z,j,o,Y)}}mn(e,v,E,S,L,F,f,h);return;case"select":j=v=E=z=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":j=S;default:o.hasOwnProperty(f)||Wt(e,i,f,null,o,S)}for(h in o)if(f=o[h],S=a[h],o.hasOwnProperty(h)&&(f!=null||S!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==S&&Wt(e,i,h,f,o,S)}i=E,a=v,o=j,z!=null?Ri(e,!!a,z,!1):!!o!=!!a&&(i!=null?Ri(e,!!a,i,!0):Ri(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Wt(e,i,v,h,o,f)}Zt(e,z,j);return;case"option":for(var bt in a)if(z=a[bt],a.hasOwnProperty(bt)&&z!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Wt(e,i,bt,null,o,z)}for(S in o)if(z=o[S],j=a[S],o.hasOwnProperty(S)&&z!==j&&(z!=null||j!=null))switch(S){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Wt(e,i,S,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt)&&Wt(e,i,yt,null,o,z);for(L in o)if(z=o[L],j=a[L],o.hasOwnProperty(L)&&z!==j&&(z!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Wt(e,i,L,z,o,j)}return;default:if(mo(i)){for(var te in a)z=a[te],a.hasOwnProperty(te)&&z!==void 0&&!o.hasOwnProperty(te)&&Qf(e,i,te,void 0,o,z);for(F in o)z=o[F],j=a[F],!o.hasOwnProperty(F)||z===j||z===void 0&&j===void 0||Qf(e,i,F,z,o,j);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Wt(e,i,V,null,o,z);for(Y in o)z=o[Y],j=a[Y],!o.hasOwnProperty(Y)||z===j||z==null&&j==null||Wt(e,i,Y,z,o,j)}var Yf=null,Kf=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function Ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $f=null;function JT(){var e=window.event;return e&&e.type==="popstate"?e===$f?!1:($f=e,!0):($f=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(e){return Dy.resolve(null).then(e).catch(eb)}:Cy;function eb(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function Ny(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Wo(v.documentElement),a&2&&Wo(v.body),a&4)for(a=v.head,Wo(a),v=a.firstChild;v;){var E=v.nextSibling,S=v.nodeName;v[ns]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),ol(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);ol(i)}function Zf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zf(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function nb(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ns])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function ib(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function Jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function rb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Wf=null;function Oy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function xy(e,i,a){switch(i=$u(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Wo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);lr(e)}var Un=new Map,My=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=et.d;et.d={f:sb,r:ab,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function sb(){var e=Fi.f(),i=qu();return e||i}function ab(e){var i=Zn(e);i!==null&&i.tag===5&&i.type==="form"?Wp(i):Fi.r(e)}var Da=typeof document>"u"?null:document;function Vy(e,i,a){var o=Da;if(o&&typeof i=="string"&&i){var h=Re(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),My.has(h)||(My.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ke(i,"link",e),_e(i),o.head.appendChild(i)))}}function ob(e){Fi.D(e),Vy("dns-prefetch",e,null)}function lb(e,i){Fi.C(e,i),Vy("preconnect",e,i)}function ub(e,i,a){Fi.L(e,i,a);var o=Da;if(o&&e&&i){var h='link[rel="preload"][as="'+Re(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Re(a.imageSizes)+'"]')):h+='[href="'+Re(e)+'"]';var f=h;switch(i){case"style":f=Na(e);break;case"script":f=Oa(e)}Un.has(f)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Un.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(tl(f))||i==="script"&&o.querySelector(el(f))||(i=o.createElement("link"),Ke(i,"link",e),_e(i),o.head.appendChild(i)))}}function cb(e,i){Fi.m(e,i);var a=Da;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Re(o)+'"][href="'+Re(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Un.has(f)&&(e=b({rel:"modulepreload",href:e},i),Un.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(f)))return}o=a.createElement("link"),Ke(o,"link",e),_e(o),a.head.appendChild(o)}}}function hb(e,i,a){Fi.S(e,i,a);var o=Da;if(o&&e){var h=an(o).hoistableStyles,f=Na(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(tl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Un.get(f))&&td(e,a);var S=v=o.createElement("link");_e(S),Ke(S,"link",e),S._p=new Promise(function(L,F){S.onload=L,S.onerror=F}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ju(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function fb(e,i){Fi.X(e,i);var a=Da;if(a&&e){var o=an(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=b({src:e,async:!0},i),(i=Un.get(h))&&ed(e,i),f=a.createElement("script"),_e(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function db(e,i){Fi.M(e,i);var a=Da;if(a&&e){var o=an(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=b({src:e,async:!0,type:"module"},i),(i=Un.get(h))&&ed(e,i),f=a.createElement("script"),_e(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Py(e,i,a,o){var h=(h=mt.current)?Zu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Na(a.href),a=an(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Na(a.href);var f=an(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(tl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),f||mb(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=an(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+Re(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function Uy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function mb(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ke(i,"link",a),_e(i),e.head.appendChild(i))}function Oa(e){return'[src="'+Re(e)+'"]'}function el(e){return"script[async]"+e}function ky(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+Re(a.href)+'"]');if(o)return i.instance=o,_e(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),Ke(o,"style",h),Ju(o,a.precedence,e),i.instance=o;case"stylesheet":h=Na(a.href);var f=e.querySelector(tl(h));if(f)return i.state.loading|=4,i.instance=f,_e(f),f;o=Uy(a),(h=Un.get(h))&&td(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var v=f;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Ke(f,"link",o),i.state.loading|=4,Ju(f,a.precedence,e),i.instance=f;case"script":return f=Oa(a.src),(h=e.querySelector(el(f)))?(i.instance=h,_e(h),h):(o=a,(h=Un.get(f))&&(o=b({},a),ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),Ke(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ju(o,a.precedence,e));return i.instance}function Ju(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Wu=null;function Ly(e,i,a){if(Wu===null){var o=new Map,h=Wu=new Map;h.set(a,o)}else h=Wu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ns]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function zy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function pb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function gb(){}function yb(e,i,a){if(nl===null)throw Error(s(475));var o=nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Na(a.href),f=e.querySelector(tl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=tc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,_e(f);return}f=e.ownerDocument||e,a=Uy(a),(h=Un.get(h))&&td(a,h),f=f.createElement("link"),_e(f);var v=f;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Ke(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=tc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function _b(){if(nl===null)throw Error(s(475));var e=nl;return e.stylesheets&&e.count===0&&nd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function tc(){if(this.count--,this.count===0){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function nd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,i.forEach(vb,e),ec=null,tc.call(e))}function vb(e,i){if(!(i.state.loading&4)){var a=ec.get(e);if(a)var o=a.get(null);else{a=new Map,ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var il={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Eb(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function By(e,i,a,o,h,f,v,E,S,L,F,Y){return e=new Eb(e,i,a,v,E,S,L,Y),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=Uh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},jh(f),e}function qy(e){return e?(e=la,e):la}function Hy(e,i,a,o,h,f){h=qy(h),o.context===null?o.context=h:o.pendingContext=h,o=mr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=pr(e,o,i),a!==null&&(Tn(a,e,i),Mo(a,e,i))}function Gy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function id(e,i){Gy(e,i),(e=e.alternate)&&Gy(e,i)}function Fy(e){if(e.tag===13){var i=oa(e,67108864);i!==null&&Tn(i,e,67108864),id(e,67108864)}}var nc=!0;function Tb(e,i,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,rd(e,i,a,o)}finally{et.p=f,H.T=h}}function bb(e,i,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,rd(e,i,a,o)}finally{et.p=f,H.T=h}}function rd(e,i,a,o){if(nc){var h=sd(o);if(h===null)Ff(e,i,o,ic,a),Yy(e,o);else if(Sb(h,e,i,a,o))o.stopPropagation();else if(Yy(e,o),i&4&&-1<Ab.indexOf(e)){for(;h!==null;){var f=Zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Bn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-Se(v);E.entanglements[1]|=S,v&=~S}hi(f),(Yt&6)===0&&(ju=sn()+500,$o(0))}}break;case 13:E=oa(f,2),E!==null&&Tn(E,f,2),qu(),id(f,2)}if(f=sd(o),f===null&&Ff(e,i,o,ic,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ff(e,i,o,null,a)}}function sd(e){return e=In(e),ad(e)}var ic=null;function ad(e){if(ic=null,e=Ai(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ic=e,null}function Qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case ot:return 2;case gt:return 8;case ee:case oe:return 32;case ce:return 268435456;default:return 32}default:return 32}}var od=!1,Cr=null,Dr=null,Nr=null,rl=new Map,sl=new Map,Or=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(e,i){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(i.pointerId)}}function al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&Fy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Sb(e,i,a,o,h){switch(i){case"focusin":return Cr=al(Cr,e,i,a,o,h),!0;case"dragenter":return Dr=al(Dr,e,i,a,o,h),!0;case"mouseover":return Nr=al(Nr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return rl.set(f,al(rl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,sl.set(f,al(sl.get(f)||null,e,i,a,o,h)),!0}return!1}function Ky(e){var i=Ai(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,ql(e.priority,function(){if(a.tag===13){var o=En();o=sr(o);var h=oa(a,o);h!==null&&Tn(h,a,o),id(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=sd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ii=o,a.target.dispatchEvent(o),Ii=null}else return i=Zn(a),i!==null&&Fy(i),e.blockedOn=a,!1;i.shift()}return!0}function Xy(e,i,a){rc(e)&&a.delete(i)}function wb(){od=!1,Cr!==null&&rc(Cr)&&(Cr=null),Dr!==null&&rc(Dr)&&(Dr=null),Nr!==null&&rc(Nr)&&(Nr=null),rl.forEach(Xy),sl.forEach(Xy)}function sc(e,i){e.blockedOn===i&&(e.blockedOn=null,od||(od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wb)))}var ac=null;function $y(e){ac!==e&&(ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(ad(o||a)===null)continue;break}var f=Zn(a);f!==null&&(e.splice(i,3),i-=3,af(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ol(e){function i(S){return sc(S,e)}Cr!==null&&sc(Cr,e),Dr!==null&&sc(Dr,e),Nr!==null&&sc(Nr,e),rl.forEach(i),sl.forEach(i);for(var a=0;a<Or.length;a++){var o=Or[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)Ky(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[we]||null;if(typeof f=="function")v||$y(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[we]||null)E=v.formAction;else if(ad(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),$y(a)}}}function ld(e){this._internalRoot=e}oc.prototype.render=ld.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=En();Hy(a,o,e,i,null,null)},oc.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Hy(e.current,2,null,e,null,null),qu(),i[wn]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ar();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&Ky(e)}};var Zy=t.version;if(Zy!=="19.1.0")throw Error(s(527,Zy,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Rb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{$t=lc.inject(Rb),kt=lc}catch{}}return ul.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=dg,f=mg,v=pg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=By(e,1,!1,null,null,a,o,h,f,v,E,null),e[wn]=i.current,Gf(e),new ld(i)},ul.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=dg,v=mg,E=pg,S=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=By(e,1,!0,i,a??null,o,h,f,v,E,S,L),i.context=qy(null),a=i.current,o=En(),o=sr(o),h=mr(o),h.callback=null,pr(a,h,o),a=o,i.current.lanes=a,bi(i,a),hi(i),e[wn]=i.current,Gf(e),new oc(i)},ul.version="19.1.0",ul}var o_;function Ub(){if(o_)return hd.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hd.exports=Pb(),hd.exports}var kb=Ub();const Lb=()=>{};var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},zb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],p=r[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,b=c>>2,I=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,G=_&63;g||(G=64,d||(D=64)),s.push(n[b],n[I],n[D],n[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Uv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||I==null)throw new jb;const D=c<<2|p>>4;if(s.push(D),_!==64){const G=p<<4&240|_>>2;if(s.push(G),I!==64){const Z=_<<6&192|I;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bb=function(r){const t=Uv(r);return kv.encodeByteArray(t,!0)},Rc=function(r){return Bb(r).replace(/\./g,"")},Lv=function(r){try{return kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=()=>qb().__FIREBASE_DEFAULTS__,Gb=()=>{if(typeof process>"u"||typeof l_>"u")return;const r=l_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Lv(r[1]);return t&&JSON.parse(t)},Yc=()=>{try{return Lb()||Hb()||Gb()||Fb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zv=r=>{var t,n;return(n=(t=Yc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Qb=r=>{const t=zv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},jv=()=>{var r;return(r=Yc())===null||r===void 0?void 0:r.config},Bv=r=>{var t;return(t=Yc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){return r.endsWith(".cloudworkstations.dev")}async function qv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(d)),""].join(".")}const ml={};function Xb(){const r={prod:[],emulator:[]};for(const t of Object.keys(ml))ml[t]?r.emulator.push(t):r.prod.push(t);return r}function $b(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let u_=!1;function Hv(r,t){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||ml[r]===t||ml[r]||u_)return;ml[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=Xb().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{u_=!0,d()},D}function b(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=$b(s),G=n("text"),Z=document.getElementById(G)||document.createElement("span"),it=n("learnmore"),J=document.getElementById(it)||document.createElement("a"),Et=n("preprendIcon"),lt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ht=D.element;p(ht),b(J,it);const Nt=_();g(lt,Et),ht.append(lt,Z,J,Nt),document.body.appendChild(ht)}c?(Z.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Jb(){var r;const t=(r=Yc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nA(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iA(){return!Jb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="FirebaseError";class ir extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=aA,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?oA(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,s)}}function oA(r,t){return r.replace(lA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const lA=/\{\$([^}]+)}/g;function uA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ms(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(c_(c)&&c_(d)){if(!Ms(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function c_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function cA(r,t){const n=new hA(r,t);return n.subscribe.bind(n)}class hA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=pd),l.error===void 0&&(l.error=pd),l.complete===void 0&&(l.complete=pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Yb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pA(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mA(r){return r===Os?void 0:r}function pA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const yA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},_A=Pt.INFO,vA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},EA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=vA[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jd{constructor(t){this.name=t,this._logLevel=_A,this._logHandler=EA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const TA=(r,t)=>t.some(n=>r instanceof n);let h_,f_;function bA(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AA(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,Rd=new WeakMap,Fv=new WeakMap,gd=new WeakMap,Wd=new WeakMap;function SA(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(zr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Gv.set(n,r)}).catch(()=>{}),Wd.set(t,r),t}function wA(r){if(Rd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Rd.set(r,t)}let Id={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Rd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Fv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function RA(r){Id=r(Id)}function IA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(yd(this),t,...n);return Fv.set(s,t.sort?t.sort():[t]),zr(s)}:AA().includes(r)?function(...t){return r.apply(yd(this),t),zr(Gv.get(this))}:function(...t){return zr(r.apply(yd(this),t))}}function CA(r){return typeof r=="function"?IA(r):(r instanceof IDBTransaction&&wA(r),TA(r,bA())?new Proxy(r,Id):r)}function zr(r){if(r instanceof IDBRequest)return SA(r);if(gd.has(r))return gd.get(r);const t=CA(r);return t!==r&&(gd.set(r,t),Wd.set(t,r)),t}const yd=r=>Wd.get(r);function DA(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=zr(d);return s&&d.addEventListener("upgradeneeded",g=>{s(zr(d.result),g.oldVersion,g.newVersion,zr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const NA=["get","getKey","getAll","getAllKeys","count"],OA=["put","add","delete","clear"],_d=new Map;function d_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(_d.get(t))return _d.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=OA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||NA.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&g.done]))[0]};return _d.set(t,c),c}RA(r=>({...r,get:(t,n,s)=>d_(t,n)||r.get(t,n,s),has:(t,n)=>!!d_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function MA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cd="@firebase/app",m_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Jd("@firebase/app"),VA="@firebase/app-compat",PA="@firebase/analytics-compat",UA="@firebase/analytics",kA="@firebase/app-check-compat",LA="@firebase/app-check",zA="@firebase/auth",jA="@firebase/auth-compat",BA="@firebase/database",qA="@firebase/data-connect",HA="@firebase/database-compat",GA="@firebase/functions",FA="@firebase/functions-compat",QA="@firebase/installations",YA="@firebase/installations-compat",KA="@firebase/messaging",XA="@firebase/messaging-compat",$A="@firebase/performance",ZA="@firebase/performance-compat",JA="@firebase/remote-config",WA="@firebase/remote-config-compat",t1="@firebase/storage",e1="@firebase/storage-compat",n1="@firebase/firestore",i1="@firebase/ai",r1="@firebase/firestore-compat",s1="firebase",a1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",o1={[Cd]:"fire-core",[VA]:"fire-core-compat",[UA]:"fire-analytics",[PA]:"fire-analytics-compat",[LA]:"fire-app-check",[kA]:"fire-app-check-compat",[zA]:"fire-auth",[jA]:"fire-auth-compat",[BA]:"fire-rtdb",[qA]:"fire-data-connect",[HA]:"fire-rtdb-compat",[GA]:"fire-fn",[FA]:"fire-fn-compat",[QA]:"fire-iid",[YA]:"fire-iid-compat",[KA]:"fire-fcm",[XA]:"fire-fcm-compat",[$A]:"fire-perf",[ZA]:"fire-perf-compat",[JA]:"fire-rc",[WA]:"fire-rc-compat",[t1]:"fire-gcs",[e1]:"fire-gcs-compat",[n1]:"fire-fst",[r1]:"fire-fst-compat",[i1]:"fire-vertex","fire-js":"fire-js",[s1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,l1=new Map,Nd=new Map;function p_(r,t){try{r.container.addComponent(t)}catch(n){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ba(r){const t=r.name;if(Nd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,r);for(const n of Ic.values())p_(n,r);for(const n of l1.values())p_(n,r);return!0}function tm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Dl("app","Firebase",u1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=a1;function Qv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Dd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(n||(n=jv()),!n)throw jr.create("no-options");const c=Ic.get(l);if(c){if(Ms(n,c.options)&&Ms(s,c.config))return c;throw jr.create("duplicate-app",{appName:l})}const d=new gA(l);for(const g of Nd.values())d.addComponent(g);const p=new c1(n,s,d);return Ic.set(l,p),p}function Yv(r=Dd){const t=Ic.get(r);if(!t&&r===Dd&&jv())return Qv();if(!t)throw jr.create("no-app",{appName:r});return t}function Br(r,t,n){var s;let l=(s=o1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${l}" with version "${t}":`];c&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(p.join(" "));return}Ba(new Vs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",f1=1,El="firebase-heartbeat-store";let vd=null;function Kv(){return vd||(vd=DA(h1,f1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),vd}async function d1(r){try{const n=(await Kv()).transaction(El),s=await n.objectStore(El).get(Xv(r));return await n.done,s}catch(t){if(t instanceof ir)Zi.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Zi.warn(n.message)}}}async function g_(r,t){try{const s=(await Kv()).transaction(El,"readwrite");await s.objectStore(El).put(t,Xv(r)),await s.done}catch(n){if(n instanceof ir)Zi.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(s.message)}}}function Xv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=1024,p1=30;class g1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=y_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>p1){const d=v1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y_(),{heartbeatsToSend:s,unsentEntries:l}=y1(this._heartbeatsCache.heartbeats),c=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Zi.warn(n),""}}}function y_(){return new Date().toISOString().substring(0,10)}function y1(r,t=m1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),__(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),__(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function __(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function v1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(r){Ba(new Vs("platform-logger",t=>new xA(t),"PRIVATE")),Ba(new Vs("heartbeat",t=>new g1(t),"PRIVATE")),Br(Cd,m_,r),Br(Cd,m_,"esm2017"),Br("fire-js","")}E1("");var T1="firebase",b1="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(T1,b1,"app");function em(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function $v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A1=$v,Zv=new Dl("auth","Firebase",$v());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Jd("@firebase/auth");function S1(r,...t){Cc.logLevel<=Pt.WARN&&Cc.warn(`Auth (${Xa}): ${r}`,...t)}function gc(r,...t){Cc.logLevel<=Pt.ERROR&&Cc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(r,...t){throw nm(r,...t)}function di(r,...t){return nm(r,...t)}function Jv(r,t,n){const s=Object.assign(Object.assign({},A1()),{[t]:n});return new Dl("auth","Firebase",s).create(t,{appName:r.name})}function Xi(r){return Jv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Zv.create(r,...t)}function At(r,t,...n){if(!r)throw nm(t,...n)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw gc(t),new Error(t)}function Wi(r,t){r||Yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function w1(){return v_()==="http:"||v_()==="https:"}function v_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w1()||tA()||"connection"in navigator)?navigator.onLine:!0}function I1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wi(n>t,"Short delay should be less than long delay!"),this.isMobile=Zb()||eA()}get(){return R1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(r,t){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N1=new Ol(3e4,6e4);function xl(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function $a(r,t,n,s,l={}){return t0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Nl(Object.assign({key:r.config.apiKey},d)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:g},c);return Wb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Cl(r.emulatorConfig.host)&&(_.credentials="include"),Wv.fetch()(await e0(r,r.config.apiHost,n,p),_)})}async function t0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},C1),t);try{const l=new O1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw uc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw uc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw uc(r,"user-disabled",d);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Jv(r,b,_);Ji(r,b)}}catch(l){if(l instanceof ir)throw l;Ji(r,"network-request-failed",{message:String(l)})}}async function rm(r,t,n,s,l={}){const c=await $a(r,t,n,s,l);return"mfaPendingCredential"in c&&Ji(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function e0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?im(r.config,l):`${r.config.apiScheme}://${l}`;return D1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class O1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),N1.get())})}}function uc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=di(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,t){return $a(r,"POST","/v1/accounts:delete",t)}async function Dc(r,t){return $a(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function M1(r,t=!1){const n=bn(r),s=await n.getIdToken(t),l=sm(s);At(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:pl(Ed(l.auth_time)),issuedAtTime:pl(Ed(l.iat)),expirationTime:pl(Ed(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Ed(r){return Number(r)*1e3}function sm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Lv(n);return l?JSON.parse(l):(gc("Failed to decode base64 JWT payload"),null)}catch(l){return gc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function E_(r){const t=sm(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ir&&V1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function V1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Tl(r,Dc(n,{idToken:s}));At(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?n0(c.providerUserInfo):[],p=k1(r.providerData,d),g=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(p!=null&&p.length),b=g?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new xd(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(r,I)}async function U1(r){const t=bn(r);await Nc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function k1(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function n0(r){return r.map(t=>{var{providerId:n}=t,s=em(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,t){const n=await t0(r,{},async()=>{const s=Nl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await e0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Wv.fetch()(d,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z1(r,t){return $a(r,"POST","/v2/accounts:revokeToken",xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=E_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await L1(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new ka;return s&&(At(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(At(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=em(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new xd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return M1(this,t)}reload(){return U1(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Yn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Nc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Xi(this.auth));const t=await this.getIdToken();return await Tl(this,x1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,p,g,_,b;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,G=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=n.photoURL)!==null&&d!==void 0?d:void 0,it=(p=n.tenantId)!==null&&p!==void 0?p:void 0,J=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,Et=(_=n.createdAt)!==null&&_!==void 0?_:void 0,lt=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:ht,emailVerified:Nt,isAnonymous:Tt,providerData:Ot,stsTokenManager:x}=n;At(ht&&x,t,"internal-error");const A=ka.fromJSON(this.name,x);At(typeof ht=="string",t,"internal-error"),Mr(I,t.name),Mr(D,t.name),At(typeof Nt=="boolean",t,"internal-error"),At(typeof Tt=="boolean",t,"internal-error"),Mr(G,t.name),Mr(Z,t.name),Mr(it,t.name),Mr(J,t.name),Mr(Et,t.name),Mr(lt,t.name);const w=new Yn({uid:ht,auth:t,email:D,emailVerified:Nt,displayName:I,isAnonymous:Tt,photoURL:Z,phoneNumber:G,tenantId:it,stsTokenManager:A,createdAt:Et,lastLoginAt:lt});return Ot&&Array.isArray(Ot)&&(w.providerData=Ot.map(O=>Object.assign({},O))),J&&(w._redirectEventId=J),w}static async _fromIdTokenResponse(t,n,s=!1){const l=new ka;l.updateFromServerResponse(n);const c=new Yn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Nc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?n0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new ka;p.updateFromIdToken(s);const g=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function Ki(r){Wi(r instanceof Function,"Expected a class definition");let t=T_.get(r);return t?(Wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,T_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}i0.type="NONE";const b_=i0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=yc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dc(this.auth,{idToken:t}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(Ki(b_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ki(b_);const d=yc(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const b=await _._get(d);if(b){let I;if(typeof b=="string"){const D=await Dc(t,{idToken:b}).catch(()=>{});if(!D)break;I=await Yn._fromGetAccountInfoResponse(t,D,b)}else I=Yn._fromJSON(t,b);_!==c&&(p=I),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new La(c,t,s):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(o0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(r0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(u0(t))return"Blackberry";if(c0(t))return"Webos";if(s0(t))return"Safari";if((t.includes("chrome/")||a0(t))&&!t.includes("edge/"))return"Chrome";if(l0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function r0(r=rn()){return/firefox\//i.test(r)}function s0(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function a0(r=rn()){return/crios\//i.test(r)}function o0(r=rn()){return/iemobile/i.test(r)}function l0(r=rn()){return/android/i.test(r)}function u0(r=rn()){return/blackberry/i.test(r)}function c0(r=rn()){return/webos/i.test(r)}function am(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function j1(r=rn()){var t;return am(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function B1(){return nA()&&document.documentMode===10}function h0(r=rn()){return am(r)||l0(r)||c0(r)||u0(r)||/windows phone/i.test(r)||o0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r,t=[]){let n;switch(r){case"Browser":n=A_(rn());break;case"Worker":n=`${A_(rn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(r,t={}){return $a(r,"GET","/v2/passwordPolicy",xl(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=6;class F1{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:G1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(l=g.containsLowercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new q1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dc(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=l==null?void 0:l._redirectEventId,g=await this.tryRedirectSignIn(t);(!d||d===p)&&(g!=null&&g.user)&&(l=g.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=I1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Xi(this));const n=t?bn(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await H1(this),n=new F1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await z1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ki(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,l);return()=>{d=!0,g()}}else{const g=t.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=f0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&S1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ml(r){return bn(r)}class S_{constructor(t){this.auth=t,this.observer=null,this.addObserver=cA(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y1(r){om=r}function K1(r){return om.loadJS(r)}function X1(){return om.gapiScript}function $1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r,t){const n=tm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ms(c,t??{}))return l;Ji(l,"already-initialized")}return n.initialize({options:t})}function J1(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ki);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function W1(r,t,n){const s=Ml(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=d0(t),{host:d,port:p}=tS(t),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Ms(_,s.config.emulator)&&Ms(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Cl(d)?(qv(`${c}//${d}${g}`),Hv("Auth",!0)):eS()}function d0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function tS(r){const t=d0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:w_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:w_(d)}}}function w_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function eS(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,n){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return rm(r,"POST","/v1/accounts:signInWithIdp",xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="http://localhost";class Ps extends m0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=em(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Ps(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:nS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Nl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends p0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Vl{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ps._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Vl{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Vl{constructor(){super("twitter.com")}static credential(t,n){return Ps._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(r,t){return rm(r,"POST","/v1/accounts:signUp",xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Yn._fromIdTokenResponse(t,s,l),d=R_(s);return new tr({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=R_(s);return new tr({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function R_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rS(r){var t;if(kn(r.app))return Promise.reject(Xi(r));const n=Ml(r);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new tr({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await iS(n,{returnSecureToken:!0}),l=await tr._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends ir{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Oc(t,n,s,l)}}function g0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(r,c,t,s):c})}async function sS(r,t,n=!1){const s=await Tl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return tr._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(Xi(s));const l="reauthenticate";try{const c=await Tl(r,g0(s,l,t,r),n);At(c.idToken,s,"internal-error");const d=sm(c.idToken);At(d,s,"internal-error");const{sub:p}=d;return At(r.uid===p,s,"user-mismatch"),tr._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ji(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(r,t,n=!1){if(kn(r.app))return Promise.reject(Xi(r));const s="signIn",l=await g0(r,s,t),c=await tr._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(r,t){return rm(r,"POST","/v1/accounts:signInWithCustomToken",xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(r,t){if(kn(r.app))return Promise.reject(Xi(r));const n=Ml(r),s=await lS(n,{token:t,returnSecureToken:!0}),l=await tr._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(l.user),l}function cS(r,t,n,s){return bn(r).onIdTokenChanged(t,n,s)}function hS(r,t,n){return bn(r).beforeAuthStateChanged(t,n)}function fS(r,t,n,s){return bn(r).onAuthStateChanged(t,n,s)}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1e3,mS=10;class _0 extends y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);B1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,mS):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},dS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_0.type="LOCAL";const pS=_0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}v0.type="SESSION";const E0=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Kc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(n.origin,c)),g=await gS(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=lm("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const D=I;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function _S(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function vS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ES(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function TS(){return T0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firebaseLocalStorageDb",bS=1,Mc="firebaseLocalStorage",A0="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(r,t){return r.transaction([Mc],t?"readwrite":"readonly").objectStore(Mc)}function AS(){const r=indexedDB.deleteDatabase(b0);return new Pl(r).toPromise()}function Md(){const r=indexedDB.open(b0,bS);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mc,{keyPath:A0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mc)?t(s):(s.close(),await AS(),t(await Md()))})})}async function I_(r,t,n){const s=Xc(r,!0).put({[A0]:t,value:n});return new Pl(s).toPromise()}async function SS(r,t){const n=Xc(r,!1).get(t),s=await new Pl(n).toPromise();return s===void 0?null:s.value}function C_(r,t){const n=Xc(r,!0).delete(t);return new Pl(n).toPromise()}const wS=800,RS=3;class S0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Md(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>RS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(TS()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await vS(),!this.activeServiceWorker)return;this.sender=new yS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ES()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Md();return await I_(t,xc,"1"),await C_(t,xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>I_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>SS(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>C_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Xc(l,!1).getAll();return new Pl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S0.type="LOCAL";const IS=S0;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r,t){return t?Ki(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends m0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function DS(r){return oS(r.auth,new um(r),r.bypassAuthState)}function NS(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),aS(n,new um(r),r.bypassAuthState)}async function OS(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),sS(n,new um(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DS;case"linkViaPopup":case"linkViaRedirect":return OS;case"reauthViaPopup":case"reauthViaRedirect":return NS;default:Ji(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new Ol(2e3,1e4);class Ua extends w0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xS.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="pendingRedirect",_c=new Map;class VS extends w0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=_c.get(this.auth._key());if(!t){try{const s=await PS(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}_c.set(this.auth._key(),t)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PS(r,t){const n=LS(t),s=kS(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function US(r,t){_c.set(r._key(),t)}function kS(r){return Ki(r._redirectPersistence)}function LS(r){return yc(MS,r.config.apiKey,r.name)}async function zS(r,t,n=!1){if(kn(r.app))return Promise.reject(Xi(r));const s=Ml(r),l=CS(s,t),d=await new VS(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=10*60*1e3;class BS{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qS(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!R0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(di(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jS&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(t))}saveEventToCache(t){this.cachedEventUids.add(D_(t)),this.lastProcessedEventTime=Date.now()}}function D_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function R0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function qS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(r,t={}){return $a(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FS=/^https?/;async function QS(r){if(r.config.emulator)return;const{authorizedDomains:t}=await HS(r);for(const n of t)try{if(YS(n))return}catch{}Ji(r,"unauthorized-domain")}function YS(r){const t=Od(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!FS.test(n))return!1;if(GS.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Ol(3e4,6e4);function N_(){const r=mi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function XS(r){return new Promise((t,n)=>{var s,l,c;function d(){N_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{N_(),n(di(r,"network-request-failed"))},timeout:KS.get()})}if(!((l=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=mi().gapi)===null||c===void 0)&&c.load)d();else{const p=$1("iframefcb");return mi()[p]=()=>{gapi.load?d():n(di(r,"network-request-failed"))},K1(`${X1()}?onload=${p}`).catch(g=>n(g))}}).catch(t=>{throw vc=null,t})}let vc=null;function $S(r){return vc=vc||XS(r),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Ol(5e3,15e3),JS="__/auth/iframe",WS="emulator/auth/iframe",tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ew=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nw(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?im(t,WS):`https://${r.config.authDomain}/${JS}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},l=ew.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Nl(s).slice(1)}`}async function iw(r){const t=await $S(r),n=mi().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:nw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=di(r,"network-request-failed"),p=mi().setTimeout(()=>{c(d)},ZS.get());function g(){mi().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sw=500,aw=600,ow="_blank",lw="http://localhost";class O_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uw(r,t,n,s=sw,l=aw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},rw),{width:s.toString(),height:l.toString(),top:c,left:d}),_=rn().toLowerCase();n&&(p=a0(_)?ow:n),r0(_)&&(t=t||lw,g.scrollbars="yes");const b=Object.entries(g).reduce((D,[G,Z])=>`${D}${G}=${Z},`,"");if(j1(_)&&p!=="_self")return cw(t||"",p),new O_(null);const I=window.open(t||"",p,b);At(I,r,"popup-blocked");try{I.focus()}catch{}return new O_(I)}function cw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__/auth/handler",fw="emulator/auth/handler",dw=encodeURIComponent("fac");async function x_(r,t,n,s,l,c){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xa,eventId:l};if(t instanceof p0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",uA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,I]of Object.entries({}))d[b]=I}if(t instanceof Vl){const b=t.getScopes().filter(I=>I!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await r._getAppCheckToken(),_=g?`#${dw}=${encodeURIComponent(g)}`:"";return`${mw(r)}?${Nl(p).slice(1)}${_}`}function mw({config:r}){return r.emulator?im(r,fw):`https://${r.authDomain}/${hw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class pw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=zS,this._overrideRedirectResult=US}async _openPopup(t,n,s,l){var c;Wi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await x_(t,n,s,Od(),l);return uw(t,d,lm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await x_(t,n,s,Od(),l);return _S(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await iw(t),s=new BS(t);return n.register("authEvent",l=>(At(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Td,{type:Td},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Td];d!==void 0&&n(!!d),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QS(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return h0()||s0()||am()}}const gw=pw;var M_="@firebase/auth",V_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vw(r){Ba(new Vs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f0(r)},_=new Q1(s,l,c,g);return J1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ba(new Vs("auth-internal",t=>{const n=Ml(t.getProvider("auth").getImmediate());return(s=>new yw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(M_,V_,_w(r)),Br(M_,V_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=5*60,Tw=Bv("authIdTokenMaxAge")||Ew;let P_=null;const bw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Tw)return;const l=n==null?void 0:n.token;P_!==l&&(P_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Aw(r=Yv()){const t=tm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Z1(r,{popupRedirectResolver:gw,persistence:[IS,pS,E0]}),s=Bv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=bw(c.toString());hS(n,d,()=>d(n.currentUser)),cS(n,p=>d(p))}}const l=zv("auth");return l&&W1(n,`http://${l}`),n}function Sw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}Y1({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=di("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Sw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vw("Browser");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,I0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,A){function w(){}w.prototype=A.prototype,x.D=A.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(O,M,P){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return A.prototype[M].apply(O,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,w){w||(w=0);var O=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)O[M]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=x.g[0],w=x.g[1],M=x.g[2];var P=x.g[3],R=A+(P^w&(M^P))+O[0]+3614090360&4294967295;A=w+(R<<7&4294967295|R>>>25),R=P+(M^A&(w^M))+O[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=M+(w^P&(A^w))+O[2]+606105819&4294967295,M=P+(R<<17&4294967295|R>>>15),R=w+(A^M&(P^A))+O[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=A+(P^w&(M^P))+O[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=P+(M^A&(w^M))+O[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=M+(w^P&(A^w))+O[6]+2821735955&4294967295,M=P+(R<<17&4294967295|R>>>15),R=w+(A^M&(P^A))+O[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=A+(P^w&(M^P))+O[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=P+(M^A&(w^M))+O[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=M+(w^P&(A^w))+O[10]+4294925233&4294967295,M=P+(R<<17&4294967295|R>>>15),R=w+(A^M&(P^A))+O[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=A+(P^w&(M^P))+O[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=P+(M^A&(w^M))+O[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=M+(w^P&(A^w))+O[14]+2792965006&4294967295,M=P+(R<<17&4294967295|R>>>15),R=w+(A^M&(P^A))+O[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=A+(M^P&(w^M))+O[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=P+(w^M&(A^w))+O[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=M+(A^w&(P^A))+O[11]+643717713&4294967295,M=P+(R<<14&4294967295|R>>>18),R=w+(P^A&(M^P))+O[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=A+(M^P&(w^M))+O[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=P+(w^M&(A^w))+O[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=M+(A^w&(P^A))+O[15]+3634488961&4294967295,M=P+(R<<14&4294967295|R>>>18),R=w+(P^A&(M^P))+O[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=A+(M^P&(w^M))+O[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=P+(w^M&(A^w))+O[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=M+(A^w&(P^A))+O[3]+4107603335&4294967295,M=P+(R<<14&4294967295|R>>>18),R=w+(P^A&(M^P))+O[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=A+(M^P&(w^M))+O[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=P+(w^M&(A^w))+O[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=M+(A^w&(P^A))+O[7]+1735328473&4294967295,M=P+(R<<14&4294967295|R>>>18),R=w+(P^A&(M^P))+O[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=A+(w^M^P)+O[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=P+(A^w^M)+O[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=M+(P^A^w)+O[11]+1839030562&4294967295,M=P+(R<<16&4294967295|R>>>16),R=w+(M^P^A)+O[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=A+(w^M^P)+O[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=P+(A^w^M)+O[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=M+(P^A^w)+O[7]+4139469664&4294967295,M=P+(R<<16&4294967295|R>>>16),R=w+(M^P^A)+O[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=A+(w^M^P)+O[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=P+(A^w^M)+O[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=M+(P^A^w)+O[3]+3572445317&4294967295,M=P+(R<<16&4294967295|R>>>16),R=w+(M^P^A)+O[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=A+(w^M^P)+O[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=P+(A^w^M)+O[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=M+(P^A^w)+O[15]+530742520&4294967295,M=P+(R<<16&4294967295|R>>>16),R=w+(M^P^A)+O[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=A+(M^(w|~P))+O[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=P+(w^(A|~M))+O[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=M+(A^(P|~w))+O[14]+2878612391&4294967295,M=P+(R<<15&4294967295|R>>>17),R=w+(P^(M|~A))+O[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=A+(M^(w|~P))+O[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=P+(w^(A|~M))+O[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=M+(A^(P|~w))+O[10]+4293915773&4294967295,M=P+(R<<15&4294967295|R>>>17),R=w+(P^(M|~A))+O[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=A+(M^(w|~P))+O[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=P+(w^(A|~M))+O[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=M+(A^(P|~w))+O[6]+2734768916&4294967295,M=P+(R<<15&4294967295|R>>>17),R=w+(P^(M|~A))+O[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=A+(M^(w|~P))+O[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=P+(w^(A|~M))+O[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=M+(A^(P|~w))+O[2]+718787259&4294967295,M=P+(R<<15&4294967295|R>>>17),R=w+(P^(M|~A))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var w=A-this.blockSize,O=this.B,M=this.h,P=0;P<A;){if(M==0)for(;P<=w;)l(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<A;)if(O[M++]=x.charCodeAt(P++),M==this.blockSize){l(this,O),M=0;break}}else for(;P<A;)if(O[M++]=x[P++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=A},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var w=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=w&255,w/=256;for(this.u(x),x=Array(16),A=w=0;4>A;++A)for(var O=0;32>O;O+=8)x[w++]=this.g[A]>>>O&255;return x};function c(x,A){var w=p;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=A(x)}function d(x,A){this.h=A;for(var w=[],O=!0,M=x.length-1;0<=M;M--){var P=x[M]|0;O&&P==A||(w[M]=P,O=!1)}this.g=w}var p={};function g(x){return-128<=x&&128>x?c(x,function(A){return new d([A|0],0>A?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return J(_(-x));for(var A=[],w=1,O=0;x>=w;O++)A[O]=x/w|0,w*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return J(b(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(A,8)),O=I,M=0;M<x.length;M+=8){var P=Math.min(8,x.length-M),R=parseInt(x.substring(M,M+P),A);8>P?(P=_(Math.pow(A,P)),O=O.j(P).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var I=g(0),D=g(1),G=g(16777216);r=d.prototype,r.m=function(){if(it(this))return-J(this).m();for(var x=0,A=1,w=0;w<this.g.length;w++){var O=this.i(w);x+=(0<=O?O:4294967296+O)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(it(this))return"-"+J(this).toString(x);for(var A=_(Math.pow(x,6)),w=this,O="";;){var M=Nt(w,A).g;w=Et(w,M.j(A));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=M,Z(w))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function it(x){return x.h==-1}r.l=function(x){return x=Et(this,x),it(x)?-1:Z(x)?0:1};function J(x){for(var A=x.g.length,w=[],O=0;O<A;O++)w[O]=~x.g[O];return new d(w,~x.h).add(D)}r.abs=function(){return it(this)?J(this):this},r.add=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],O=0,M=0;M<=A;M++){var P=O+(this.i(M)&65535)+(x.i(M)&65535),R=(P>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);O=R>>>16,P&=65535,R&=65535,w[M]=R<<16|P}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Et(x,A){return x.add(J(A))}r.j=function(x){if(Z(this)||Z(x))return I;if(it(this))return it(x)?J(this).j(J(x)):J(J(this).j(x));if(it(x))return J(this.j(J(x)));if(0>this.l(G)&&0>x.l(G))return _(this.m()*x.m());for(var A=this.g.length+x.g.length,w=[],O=0;O<2*A;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<x.g.length;M++){var P=this.i(O)>>>16,R=this.i(O)&65535,Oe=x.i(M)>>>16,re=x.i(M)&65535;w[2*O+2*M]+=R*re,lt(w,2*O+2*M),w[2*O+2*M+1]+=P*re,lt(w,2*O+2*M+1),w[2*O+2*M+1]+=R*Oe,lt(w,2*O+2*M+1),w[2*O+2*M+2]+=P*Oe,lt(w,2*O+2*M+2)}for(O=0;O<A;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=A;O<2*A;O++)w[O]=0;return new d(w,0)};function lt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ht(x,A){this.g=x,this.h=A}function Nt(x,A){if(Z(A))throw Error("division by zero");if(Z(x))return new ht(I,I);if(it(x))return A=Nt(J(x),A),new ht(J(A.g),J(A.h));if(it(A))return A=Nt(x,J(A)),new ht(J(A.g),A.h);if(30<x.g.length){if(it(x)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var w=D,O=A;0>=O.l(x);)w=Tt(w),O=Tt(O);var M=Ot(w,1),P=Ot(O,1);for(O=Ot(O,2),w=Ot(w,2);!Z(O);){var R=P.add(O);0>=R.l(x)&&(M=M.add(w),P=R),O=Ot(O,1),w=Ot(w,1)}return A=Et(x,M.j(A)),new ht(M,A)}for(M=I;0<=x.l(A);){for(w=Math.max(1,Math.floor(x.m()/A.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=_(w),R=P.j(A);it(R)||0<R.l(x);)w-=O,P=_(w),R=P.j(A);Z(P)&&(P=D),M=M.add(P),x=Et(x,R)}return new ht(M,x)}r.A=function(x){return Nt(this,x).h},r.and=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],O=0;O<A;O++)w[O]=this.i(O)&x.i(O);return new d(w,this.h&x.h)},r.or=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],O=0;O<A;O++)w[O]=this.i(O)|x.i(O);return new d(w,this.h|x.h)},r.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],O=0;O<A;O++)w[O]=this.i(O)^x.i(O);return new d(w,this.h^x.h)};function Tt(x){for(var A=x.g.length+1,w=[],O=0;O<A;O++)w[O]=x.i(O)<<1|x.i(O-1)>>>31;return new d(w,x.h)}function Ot(x,A){var w=A>>5;A%=32;for(var O=x.g.length-w,M=[],P=0;P<O;P++)M[P]=0<A?x.i(P+w)>>>A|x.i(P+w+1)<<32-A:x.i(P+w);return new d(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,I0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,qr=d}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C0,hl,D0,Ec,Vd,N0,O0,x0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var B=y++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:I,D.apply(null,arguments)}function G(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,B){for(var tt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)tt[Lt-2]=arguments[Lt];return m.prototype[U].apply(T,tt)}}function it(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const U=u.length||0,B=T.length||0;u.length=U+B;for(let tt=0;tt<B;tt++)u[U+tt]=T[tt]}else u.push(T)}}class Et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Nt(u){return Nt[" "](u),u}Nt[" "]=function(){};var Tt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function Ot(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function A(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let B=0;B<w.length;B++)y=w[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){p.setTimeout(()=>{throw u},0)}function R(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Et(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,qt=new Oe,C=()=>{const u=p.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){P(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};p.addEventListener("test",y,m),p.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{Nt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,W);var mt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function ge(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Xt,this.da=this.fa=!1}function jn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function An(u){this.src=u,this.g={},this.h=0}An.prototype.add=function(u,m,y,T,U){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var tt=vi(u,m,T,U);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new ge(m,this.src,B,!!T,U),m.fa=y,u.push(m)),m};function _i(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=U)&&Array.prototype.splice.call(T,U,1),B&&(jn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function vi(u,m,y,T){for(var U=0;U<u.length;++U){var B=u[U];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return U}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Zr={};function rr(u,m,y,T,U){if(Array.isArray(m)){for(var B=0;B<m.length;B++)rr(u,m[B],y,T,U);return null}return y=Sn(y),u&&u[de]?u.K(m,y,_(T)?!!T.capture:!1,U):sn(u,m,y,!1,T,U)}function sn(u,m,y,T,U,B){if(!m)throw Error("Invalid event type");var tt=_(U)?!!U.capture:!!U,Lt=ce(u);if(Lt||(u[Ei]=Lt=new An(u)),y=Lt.add(m,y,T,tt,B),y.proxy)return y;if(T=dt(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ft||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ee(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function dt(){function u(y){return m.call(u.src,u.listener,y)}const m=oe;return u}function ot(u,m,y,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ot(u,m[B],y,T,U);else T=_(T)?!!T.capture:!!T,y=Sn(y),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],y=vi(B,y,T,U),-1<y&&(jn(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=ce(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vi(m,y,T,U)),(y=-1<u?m[u]:null)&&gt(y))}function gt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])_i(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(ee(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ce(m))?(_i(y,u),y.h==0&&(y.src=null,m[Ei]=null)):jn(u)}}}function ee(u){return u in Zr?Zr[u]:Zr[u]="on"+u}function oe(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&gt(u),u=y.call(T,m)}return u}function ce(u){return u=u[Ei],u instanceof An?u:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(u){return typeof u=="function"?u:(u[ye]||(u[ye]=function(m){return u.handleEvent(m)}),u[ye])}function $t(){nt.call(this),this.i=new An(this),this.M=this,this.F=null}Z($t,nt),$t.prototype[de]=!0,$t.prototype.removeEventListener=function(u,m,y,T){ot(this,u,m,y,T)};function kt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(T,u),O(m,U)}if(U=!0,y)for(var B=y.length-1;0<=B;B--){var tt=m.g=y[B];U=Ae(tt,T,!0,m)&&U}if(tt=m.g=u,U=Ae(tt,T,!0,m)&&U,U=Ae(tt,T,!1,m)&&U,y)for(B=0;B<y.length;B++)tt=m.g=y[B],U=Ae(tt,T,!1,m)&&U}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)jn(y[T]);delete u.g[m],u.h--}}this.F=null},$t.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},$t.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Ae(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,B=0;B<m.length;++B){var tt=m[B];if(tt&&!tt.da&&tt.capture==y){var Lt=tt.listener,Me=tt.ha||tt.src;tt.fa&&_i(u.i,tt),U=Lt.call(Me,T)!==!1&&U}}return U&&!T.defaultPrevented}function Se(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Bl(u){u.g=Se(()=>{u.g=null,u.i&&(u.i=!1,Bl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ch extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(u){nt.call(this),this.h=u,this.g={}}Z(Jr,nt);var Wr=[];function ts(u){Ot(u.g,function(m,y){this.g.hasOwnProperty(y)&&gt(m)},u),u.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),ts(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=p.JSON.stringify,qs=p.JSON.parse,es=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function no(){}no.prototype.h=null;function io(u){return u.h||(u.h=u.i())}function ro(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){W.call(this,"d")}Z(bi,W);function so(){W.call(this,"c")}Z(so,W);var $n={},ao=null;function sr(){return ao=ao||new $t}$n.La="serverreachability";function Hs(u){W.call(this,$n.La,u)}Z(Hs,W);function ar(u){const m=sr();kt(m,new Hs(m))}$n.STAT_EVENT="statevent";function ql(u,m){W.call(this,$n.STAT_EVENT,u),this.stat=m}Z(ql,W);function le(u){const m=sr();kt(m,new ql(m,u))}$n.Ma="timingevent";function xe(u,m){W.call(this,$n.Ma,u),this.size=m}Z(xe,W);function we(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function oo(u,m,y,T,U,B){u.info(function(){if(u.g)if(B)for(var tt="",Lt=B.split("&"),Me=0;Me<Lt.length;Me++){var zt=Lt[Me].split("=");if(1<zt.length){var ze=zt[0];zt=zt[1];var Ve=ze.split("_");tt=2<=Ve.length&&Ve[1]=="type"?tt+(ze+"="+zt+"&"):tt+(ze+"=redacted&")}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+tt})}function hh(u,m,y,T,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+B+" "+tt})}function or(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ns(u,y)+(T?" "+T:"")})}function Hl(u,m){u.info(function(){return"TIMEOUT: "+m})}wn.prototype.info=function(){};function ns(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return Bn(y)}catch{return m}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}Z(Jn,no),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function an(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var lo={},Gs={};function qn(u,m,y){u.L=1,u.v=os(mn(m)),u.m=y,u.P=!0,Si(u,null)}function Si(u,m){u.F=Date.now(),is(u),u.A=mn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),po(y.i,"t",T),u.C=0,y=u.j.J,u.h=new _e,u.g=su(u.j,y?m:null,!u.m),0<u.O&&(u.M=new ch(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Wr[0]=U.toString()),U=Wr);for(var B=0;B<U.length;B++){var tt=rr(y,U[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ar(),oo(u.i,u.u,u.A,u.l,u.R,u.m)}an.prototype.ca=function(u){u=u.target;const m=this.M;m&&Dn(u)==3?m.j():this.Y(u)},an.prototype.Y=function(u){try{if(u==this.g)t:{const Ve=Dn(this.g);var m=this.g.Ba();const xi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Ve!=4||m==7||(m==8||0>=xi?ar(3):ar(2)),ur(this);var y=this.g.Z();this.X=y;e:if(Gl(this)){var T=Zl(this.g);u="";var U=T.length,B=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),Wn(this);var tt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,hh(this.i,this.u,this.A,this.l,this.R,Ve,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Me=this.g;if((Lt=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Lt)){var zt=Lt;break e}}zt=null}if(y=zt)or(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,y);else{this.o=!1,this.s=3,le(12),Ge(this),Wn(this);break t}}if(this.P){y=!0;let Fe;for(;!this.J&&this.C<tt.length;)if(Fe=Fl(this,tt),Fe==Gs){Ve==4&&(this.s=4,le(14),y=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==lo){this.s=4,le(15),or(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else or(this.i,this.l,Fe,null),rs(this,Fe);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||tt.length!=0||this.h.h||(this.s=1,le(16),y=!1),this.o=this.o&&y,!y)or(this.i,this.l,tt,"[Invalid Chunked Response]"),Ge(this),Wn(this);else if(0<tt.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ps(ze),ze.M=!0,le(11))}}else or(this.i,this.l,tt,null),rs(this,tt);Ve==4&&Ge(this),this.o&&!this.J&&(Ve==4?nu(this.j,this):(this.o=!1,is(this)))}else gh(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Ge(this),Wn(this)}}}catch{}finally{}};function Gl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Gs:(y=Number(m.substring(y,T)),isNaN(y)?lo:(T+=1,T+y>m.length?Gs:(m=m.slice(T,T+y),u.C=T+y,m)))}an.prototype.cancel=function(){this.J=!0,Ge(this)};function is(u){u.S=Date.now()+u.I,Ql(u,u.I)}function Ql(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=we(D(u.ba,u),m)}function ur(u){u.B&&(p.clearTimeout(u.B),u.B=null)}an.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Hl(this.i,this.A),this.L!=2&&(ar(),le(17)),Ge(this),this.s=2,Wn(this)):Ql(this,this.S-u)};function Wn(u){u.j.G==0||u.J||nu(u.j,u)}function Ge(u){ur(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ts(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function rs(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||uo(y.h,u))){if(!u.K&&uo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)na(y),ta(y);else break t;Eo(y),le(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=we(D(y.Za,y),6e3));if(1>=Qs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Oi(y,11)}else if((u.K||y.g==u)&&na(y),!lt(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let zt=U[m];if(y.T=zt[0],zt=zt[1],y.G==2)if(zt[0]=="c"){y.K=zt[1],y.ia=zt[2];const ze=zt[3];ze!=null&&(y.la=ze,y.j.info("VER="+y.la));const Ve=zt[4];Ve!=null&&(y.Aa=Ve,y.j.info("SVER="+y.Aa));const xi=zt[5];xi!=null&&typeof xi=="number"&&0<xi&&(T=1.5*xi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Fe=u.g;if(Fe){const ai=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var B=T.h;B.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ys(B,B.h),B.h=null))}if(T.D){const bo=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(T.ya=bo,Zt(T.I,T.D,bo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var tt=u;if(T.qa=ru(T,T.J?T.ia:null,T.W),tt.K){on(T.h,tt);var Lt=tt,Me=T.L;Me&&(Lt.I=Me),Lt.B&&(ur(Lt),is(Lt)),T.g=tt}else tu(T);0<y.i.length&&ea(y)}else zt[0]!="stop"&&zt[0]!="close"||Oi(y,7);else y.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Oi(y,7):_o(y):zt[0]!="noop"&&y.l&&y.l.ta(zt),y.v=0)}}ar(4)}catch{}}var Yl=class{constructor(u,m){this.g=u,this.map=m}};function wi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qs(u){return u.h?1:u.g?u.g.size:0}function uo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ys(u,m){u.g?u.g.add(m):u.h=m}function on(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wi.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function co(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return it(u.i)}function fh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Ks(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ho(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ks(u),T=fh(u),U=T.length,B=0;B<U;B++)m.call(void 0,T[B],y&&y[B],u)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var B=u[y].substring(0,T);U=u[y].substring(T+1)}else B=u[y];m(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Re(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Re){this.h=u.h,as(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.s),this.l=u.l;var m=u.i,y=new Ii;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ri(this,y),this.m=u.m}else u&&(m=String(u).match(ss))?(this.h=!1,as(this,m[1]||"",!0),this.o=Rn(m[2]||""),this.g=Rn(m[3]||"",!0),cr(this,m[4]),this.l=Rn(m[5]||"",!0),Ri(this,m[6]||"",!0),this.m=Rn(m[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Re.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ls(m,fo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ls(m,fo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ls(y,y.charAt(0)=="/"?mh:mo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ls(y,Xs)),u.join("")};function mn(u){return new Re(u)}function as(u,m,y){u.j=y?Rn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ri(u,m,y){m instanceof Ii?(u.i=m,Xl(u.i,u.h)):(y||(m=ls(m,ph)),u.i=new Ii(m,u.h))}function Zt(u,m,y){u.i.set(m,y)}function os(u){return Zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ls(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Kl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fo=/[#\/\?@]/g,mo=/[#\?:]/g,mh=/[#\?]/g,ph=/[#\?@]/g,Xs=/#/g;function Ii(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&dh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ii.prototype,r.add=function(u,m){In(this),this.i=null,u=ti(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ci(u,m){In(u),m=ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Di(u,m){return In(u),m=ti(u,m),u.g.has(m)}r.forEach=function(u,m){In(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){In(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let B=0;B<U.length;B++)y.push(m[T])}return y},r.V=function(u){In(this);let m=[];if(typeof u=="string")Di(this,u)&&(m=m.concat(this.g.get(ti(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return In(this),this.i=null,u=ti(this,u),Di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function po(u,m,y){Ci(u,m),0<y.length&&(u.i=null,u.g.set(ti(u,m),it(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const B=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var U=B;tt[T]!==""&&(U+="="+encodeURIComponent(String(tt[T]))),u.push(U)}}return this.i=u.join("&")};function ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xl(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(Ci(this,T),po(this,U,y))},u)),u.j=m}function us(u,m){const y=new wn;if(p.Image){const T=new Image;T.onload=G(Cn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=G(Cn,y,"TestLoadImage: error",!1,m,T),T.onabort=G(Cn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(Cn,y,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Hn(u,m){const y=new wn,T=new AbortController,U=setTimeout(()=>{T.abort(),Cn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Cn(y,"TestPingServer: ok",!0,m):Cn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Cn(y,"TestPingServer: error",!1,m)})}function Cn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function cs(){this.g=new es}function ei(u,m,y){const T=y||"";try{ho(u,function(U,B){let tt=U;_(U)&&(tt=Bn(U)),m.push(T+B+"="+encodeURIComponent(tt))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function hr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(hr,no),hr.prototype.g=function(){return new Ni(this.l,this.j)},hr.prototype.i=function(u){return function(){return u}}({});function Ni(u,m){$t.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ni,$t),r=Ni.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ii(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;go(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function go(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ni(this):ii(this),this.readyState==3&&go(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ni(this))},r.Qa=function(u){this.g&&(this.response=u,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ii(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yo(u){let m="";return Ot(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Le(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=yo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Zt(u,m,y))}function Ft(u){$t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Ft,$t);var $s=/^https?$/i,hs=["POST","PUT"];r=Ft.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?io(this.o):io(Zn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){$l(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(hs,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of y)this.g.setRequestHeader(B,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fs(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){$l(this,B)}};function $l(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zs(u),ri(u)}function Zs(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Dn(u)!=4||u.Z()!=2)){if(u.u&&Dn(u)==4)Se(u.Ea,0,u);else if(kt(u,"readystatechange"),Dn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=tt===0){var U=String(u.D).match(ss)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),T=!$s.test(U?U.toLowerCase():"")}y=T}if(y)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var B=2<Dn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Zs(u)}}finally{ri(u)}}}}function ri(u,m){if(u.g){fs(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||kt(u,"ready");try{y.onreadystatechange=T}catch{}}}function fs(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Dn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qs(m)}};function Zl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(u){const m={};u=(u.g&&2<=Dn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var y=M(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[U]||[];m[U]=B,B.push(y)}x(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ws(u){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,u),this.cb=ds("retryDelaySeedMs",1e4,u),this.Wa=ds("forwardChannelMaxRetries",2,u),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(u&&u.concurrentRequestLimit),this.Da=new cs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){le(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=ru(this,null,this.W),ea(this)};function _o(u){if(Jl(u),u.G==3){var m=u.U++,y=mn(u.I);if(Zt(y,"SID",u.K),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),ms(u,y),m=new an(u,u.j,m),m.L=2,m.v=os(mn(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=m.v,y=!0),y||(m.g=su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),is(m)}iu(u)}function ta(u){u.g&&(ps(u),u.g.cancel(),u.g=null)}function Jl(u){ta(u),u.u&&(p.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ea(u){if(!Fs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),ut||(et(),ut=!0),qt.add(m,u),u.B=0}}function yh(u,m){return Qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=we(D(u.Ga,u,m),To(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new an(this,this.j,u);let B=this.o;if(this.S&&(B?(B=A(B),O(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Wl(this,U,m),y=mn(this.I),Zt(y,"RID",u),Zt(y,"CVER",22),this.D&&Zt(y,"X-HTTP-Session-Id",this.D),ms(this,y),B&&(this.O?m="headers="+encodeURIComponent(String(yo(B)))+"&"+m:this.m&&Le(y,this.m,B)),Ys(this.h,U),this.Ua&&Zt(y,"TYPE","init"),this.P?(Zt(y,"$req",m),Zt(y,"SID","null"),U.T=!0,qn(U,y,null)):qn(U,y,m),this.G=2}}else this.G==3&&(u?vo(this,u):this.i.length==0||Fs(this.h)||vo(this))};function vo(u,m){var y;m?y=m.l:y=u.U++;const T=mn(u.I);Zt(T,"SID",u.K),Zt(T,"RID",y),Zt(T,"AID",u.T),ms(u,T),u.m&&u.o&&Le(T,u.m,u.o),y=new an(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Wl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ys(u.h,y),qn(y,T,m)}function ms(u,m){u.H&&Ot(u.H,function(y,T){Zt(m,T,y)}),u.l&&ho({},function(y,T){Zt(m,T,y)})}function Wl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let B=-1;for(;;){const tt=["count="+y];B==-1?0<y?(B=U[0].g,tt.push("ofs="+B)):B=0:tt.push("ofs="+B);let Lt=!0;for(let Me=0;Me<y;Me++){let zt=U[Me].g;const ze=U[Me].map;if(zt-=B,0>zt)B=Math.max(0,U[Me].g-100),Lt=!1;else try{ei(ze,tt,"req"+zt+"_")}catch{T&&T(ze)}}if(Lt){T=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function tu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),ut||(et(),ut=!0),qt.add(m,u),u.v=0}}function Eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=we(D(u.Fa,u),To(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=we(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),ta(this),eu(this))};function ps(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function eu(u){u.g=new an(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=mn(u.qa);Zt(m,"RID","rpc"),Zt(m,"SID",u.K),Zt(m,"AID",u.T),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Zt(m,"TO",u.ja),Zt(m,"TYPE","xmlhttp"),ms(u,m),u.m&&u.o&&Le(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=os(mn(m)),y.m=null,y.P=!0,Si(y,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),Eo(this),le(19))};function na(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function nu(u,m){var y=null;if(u.g==m){na(u),ps(u),u.g=null;var T=2}else if(uo(u.h,m))y=m.D,on(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=sr(),kt(T,new xe(T,y)),ea(u)}else tu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&yh(u,m)||T==2&&Eo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function To(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),T=u.Xa;const U=!T;T=new Re(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||as(T,"https"),os(T),U?us(T.toString(),y):Hn(T.toString(),y)}else le(2);u.G=0,u.l&&u.l.sa(m),iu(u),Jl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const m=co(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function ru(u,m,y){var T=y instanceof Re?mn(y):new Re(y);if(T.g!="")m&&(T.g=m+"."+T.g),cr(T,T.s);else{var U=p.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var B=new Re(null);T&&as(B,T),m&&(B.g=m),U&&cr(B,U),y&&(B.l=y),T=B}return y=u.D,m=u.ya,y&&m&&Zt(T,y,m),Zt(T,"VER",u.la),ms(u,T),T}function su(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new hr({eb:y})):new Ft(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}r=au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ia(){}ia.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){$t.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new si(this)}Z(ln,$t),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){_o(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Bn(u),u=y);m.i.push(new Yl(m.Ya++,u)),m.G==3&&ea(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,ln.aa.N.call(this)};function ou(u){bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(ou,bi);function lu(){so.call(this),this.status=1}Z(lu,so);function si(u){this.g=u}Z(si,au),si.prototype.ua=function(){kt(this.g,"a")},si.prototype.ta=function(u){kt(this.g,new ou(u))},si.prototype.sa=function(u){kt(this.g,new lu)},si.prototype.ra=function(){kt(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,x0=function(){return new ia},O0=function(){return sr()},N0=$n,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Ec=lr,Ai.COMPLETE="complete",D0=Ai,ro.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",$t.prototype.listen=$t.prototype.K,hl=ro,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,C0=Ft}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",L_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Jd("@firebase/firestore");function xa(){return Us.logLevel}function rt(r,...t){if(Us.logLevel<=Pt.DEBUG){const n=t.map(cm);Us.debug(`Firestore (${Za}): ${r}`,...n)}}function er(r,...t){if(Us.logLevel<=Pt.ERROR){const n=t.map(cm);Us.error(`Firestore (${Za}): ${r}`,...n)}}function qa(r,...t){if(Us.logLevel<=Pt.WARN){const n=t.map(cm);Us.warn(`Firestore (${Za}): ${r}`,...n)}}function cm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,M0(r,s,n)}function M0(r,t,n){let s=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Qt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||M0(t,l,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ir{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class Rw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Iw{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},p=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new V0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class Cw{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Cw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Ow(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function Pd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Dt(s,l);{const c=P0(),d=xw(c.encode(j_(r,n)),c.encode(j_(t,n)));return d!==0?d:Dt(s,l)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function j_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function xw(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function Ha(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,q_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*q_);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<B_)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-B_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new be(0,0))}static max(){return new St(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__name__";class fi{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=fi.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Dt(t.length,n.length)}static compareSegments(t,n){const s=fi.isNumericId(t),l=fi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?fi.extractNumericId(t).compare(fi.extractNumericId(n)):Pd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qr.fromString(t.substring(4,t.length-2))}}class ae extends fi{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const Mw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends fi{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return Mw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new $e([H_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new at($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new at($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ae.fromString(t))}static fromName(t){return new pt(ae.fromString(t).popFirst(5))}static empty(){return new pt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function Vw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Fr(l,pt.empty(),t)}function Pw(r){return new Fr(r.readTime,r.key,bl)}class Fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(St.min(),pt.empty(),bl)}static max(){return new Fr(St.max(),pt.empty(),bl)}}function Uw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==kw)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let l=0,c=0,d=!1;t.forEach(p=>{++l,p.next(()=>{++c,d&&c===l&&n()},g=>s(g))}),d=!0,c===l&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(l=>l?K.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new K((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;n(t[_]).next(b=>{d[_]=b,++p,p===c&&s(d)},b=>l(b))}})}static doWhile(t,n){return new K((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function zw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}$c.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function Zc(r){return r==null}function Vc(r){return r===0&&1/r==-1/0}function jw(r){return typeof r=="number"&&Number.isInteger(r)&&!Vc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="";function Bw(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=G_(t)),t=qw(r.get(n),t);return G_(t)}function qw(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case k0:n+="";break;default:n+=c}}return n}function G_(r){return r+k0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ls(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function L0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Xe.RED,this.left=l??Xe.EMPTY,this.right=c??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Xe(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(t){return new Q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class Q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Kn([])}unionWith(t){let n=new ke($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new z0("Invalid base64 string: "+c):c}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const Hw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const n=Hw.exec(r);if(Qt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="server_timestamp",B0="__type__",q0="__previous_value__",H0="__local_write_time__";function fm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[B0])===null||n===void 0?void 0:n.stringValue)===j0}function Jc(r){const t=r.mapValue.fields[q0];return fm(t)?Jc(t):t}function Al(r){const t=Qr(r.mapValue.fields[H0].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,s,l,c,d,p,g,_,b){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=b}}const Pc="(default)";class Sl{constructor(t,n){this.projectId=t,this.database=n||Pc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__type__",Fw="__max__",fc={mapValue:{}},F0="__vector__",Uc="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fm(r)?4:Yw(r)?9007199254740991:Qw(r)?10:11:vt(28295,{value:r})}function yi(r,t){if(r===t)return!0;const n=Kr(r);if(n!==Kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Al(r).isEqual(Al(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Qr(l.timestampValue),p=Qr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return Te(l.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(l.geoPointValue.longitude)===Te(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Te(l.integerValue)===Te(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Te(l.doubleValue),p=Te(c.doubleValue);return d===p?Vc(d)===Vc(p):isNaN(d)&&isNaN(p)}return!1}(r,t);case 9:return Ha(r.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(F_(d)!==F_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!yi(d[g],p[g])))return!1;return!0}(r,t);default:return vt(52216,{left:r})}}function wl(r,t){return(r.values||[]).find(n=>yi(n,t))!==void 0}function Ga(r,t){if(r===t)return 0;const n=Kr(r),s=Kr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const p=Te(c.integerValue||c.doubleValue),g=Te(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return Y_(r.timestampValue,t.timestampValue);case 4:return Y_(Al(r),Al(t));case 5:return Pd(r.stringValue,t.stringValue);case 6:return function(c,d){const p=Yr(c),g=Yr(d);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const b=Dt(p[_],g[_]);if(b!==0)return b}return Dt(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const p=Dt(Te(c.latitude),Te(d.latitude));return p!==0?p:Dt(Te(c.longitude),Te(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return K_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var p,g,_,b;const I=c.fields||{},D=d.fields||{},G=(p=I[Uc])===null||p===void 0?void 0:p.arrayValue,Z=(g=D[Uc])===null||g===void 0?void 0:g.arrayValue,it=Dt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((b=Z==null?void 0:Z.values)===null||b===void 0?void 0:b.length)||0);return it!==0?it:K_(G,Z)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===fc.mapValue&&d===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let I=0;I<g.length&&I<b.length;++I){const D=Pd(g[I],b[I]);if(D!==0)return D;const G=Ga(p[g[I]],_[b[I]]);if(G!==0)return G}return Dt(g.length,b.length)}(r.mapValue,t.mapValue);default:throw vt(23264,{Pe:n})}}function Y_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Qr(r),s=Qr(t),l=Dt(n.seconds,s.seconds);return l!==0?l:Dt(n.nanos,s.nanos)}function K_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ga(n[l],s[l]);if(c)return c}return Dt(n.length,s.length)}function Fa(r){return Ud(r)}function Ud(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Yr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ud(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Ud(n.fields[d])}`;return l+"}"}(r.mapValue):vt(61005,{value:r})}function Tc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jc(r);return t?16+Tc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Tc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ls(s.fields,(c,d)=>{l+=c.length+Tc(d)}),l}(r.mapValue);default:throw vt(13486,{value:r})}}function X_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function kd(r){return!!r&&"integerValue"in r}function dm(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function Z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function Qw(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[G0])===null||n===void 0?void 0:n.stringValue)===F0}function gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ls(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=gl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function Yw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Fw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!bc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gl(n)}setAll(t){let n=$e.emptyPath(),s={},l=[];t.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=gl(d):l.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ls(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Ln(gl(this.value))}}function Q0(r){const t=[];return Ls(r.fields,(n,s)=>{const l=new $e([n]);if(bc(s)){const c=Q0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n,s,l,c,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,St.min(),St.min(),St.min(),Ln.empty(),0)}static newFoundDocument(t,n,s,l){return new nn(t,1,n,St.min(),s,l,0)}static newNoDocument(t,n){return new nn(t,2,n,St.min(),St.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new nn(t,3,n,St.min(),St.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n){this.position=t,this.inclusive=n}}function J_(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),n.key):s=Ga(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function W_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function Kw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{}class Ne extends Y0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new $w(t,n,s):n==="array-contains"?new Ww(t,s):n==="in"?new tR(t,s):n==="not-in"?new eR(t,s):n==="array-contains-any"?new nR(t,s):new Ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Zw(t,s):new Jw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Y0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Xn(t,n)}matches(t){return K0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function K0(r){return r.op==="and"}function X0(r){return Xw(r)&&K0(r)}function Xw(r){for(const t of r.filters)if(t instanceof Xn)return!1;return!0}function Ld(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(X0(r))return r.filters.map(t=>Ld(t)).join(",");{const t=r.filters.map(n=>Ld(n)).join(",");return`${r.op}(${t})`}}function $0(r,t){return r instanceof Ne?function(s,l){return l instanceof Ne&&s.op===l.op&&s.field.isEqual(l.field)&&yi(s.value,l.value)}(r,t):r instanceof Xn?function(s,l){return l instanceof Xn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,p)=>c&&$0(d,l.filters[p]),!0):!1}(r,t):void vt(19439)}function Z0(r){return r instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(Z0).join(" ,")+"}"}(r):"Filter"}class $w extends Ne{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Zw extends Ne{constructor(t,n){super(t,"in",n),this.keys=J0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Jw extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=J0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function J0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pt.fromName(s.referenceValue))}class Ww extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dm(n)&&wl(n.arrayValue,this.value)}}class tR extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wl(this.value.arrayValue,n)}}class eR extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wl(this.value.arrayValue,n)}}class nR extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,n=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Ie=null}}function tv(r,t=null,n=[],s=[],l=null,c=null,d=null){return new iR(r,t,n,s,l,c,d)}function mm(r){const t=wt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Ld(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fa(s)).join(",")),t.Ie=n}return t.Ie}function pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Kw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!W_(r.startAt,t.startAt)&&W_(r.endAt,t.endAt)}function zd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,n=null,s=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rR(r,t,n,s,l,c,d,p){return new Ul(r,t,n,s,l,c,d,p)}function W0(r){return new Ul(r)}function ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tE(r){return r.collectionGroup!==null}function yl(r){const t=wt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ke($e.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Lc(c,s))}),n.has($e.keyField().canonicalString())||t.Ee.push(new Lc($e.keyField(),s))}return t.Ee}function pi(r){const t=wt(r);return t.de||(t.de=sR(t,yl(r))),t.de}function sR(r,t){if(r.limitType==="F")return tv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Lc(l.field,c)});const n=r.endAt?new kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kc(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function jd(r,t){const n=r.filters.concat([t]);return new Ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bd(r,t,n){return new Ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Wc(r,t){return pm(pi(r),pi(t))&&r.limitType===t.limitType}function eE(r){return`${mm(pi(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>Z0(l)).join(", ")}]`),Zc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Fa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Fa(l)).join(",")),`Target(${s})`}(pi(r))}; limitType=${r.limitType})`}function th(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of yl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,p,g){const _=J_(d,p,g);return d.inclusive?_<=0:_<0}(s.startAt,yl(s),l)||s.endAt&&!function(d,p,g){const _=J_(d,p,g);return d.inclusive?_>=0:_>0}(s.endAt,yl(s),l))}(r,t)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nE(r){return(t,n)=>{let s=!1;for(const l of yl(r)){const c=oR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function oR(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?Ga(g,_):vt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return L0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new fe(pt.comparator);function nr(){return lR}const iE=new fe(pt.comparator);function fl(...r){let t=iE;for(const n of r)t=t.insert(n.key,n);return t}function rE(r){let t=iE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function xs(){return _l()}function sE(){return _l()}function _l(){return new zs(r=>r.toString(),(r,t)=>r.isEqual(t))}const uR=new fe(pt.comparator),cR=new ke(pt.comparator);function Ut(...r){let t=cR;for(const n of r)t=t.add(n);return t}const hR=new ke(Dt);function fR(){return hR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(t)?"-0":t}}function aE(r){return{integerValue:""+r}}function dR(r,t){return jw(t)?aE(t):gm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function mR(r,t,n){return r instanceof zc?function(l,c){const d={fields:{[B0]:{stringValue:j0},[H0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&fm(c)&&(c=Jc(c)),c&&(d.fields[q0]=c),{mapValue:d}}(n,t):r instanceof Rl?lE(r,t):r instanceof Il?uE(r,t):function(l,c){const d=oE(l,c),p=nv(d)+nv(l.Re);return kd(d)&&kd(l.Re)?aE(p):gm(l.serializer,p)}(r,t)}function pR(r,t,n){return r instanceof Rl?lE(r,t):r instanceof Il?uE(r,t):n}function oE(r,t){return r instanceof jc?function(s){return kd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class zc extends eh{}class Rl extends eh{constructor(t){super(),this.elements=t}}function lE(r,t){const n=cE(t);for(const s of r.elements)n.some(l=>yi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Il extends eh{constructor(t){super(),this.elements=t}}function uE(r,t){let n=cE(t);for(const s of r.elements)n=n.filter(l=>!yi(l,s));return{arrayValue:{values:n}}}class jc extends eh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function nv(r){return Te(r.integerValue||r.doubleValue)}function cE(r){return dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function gR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Rl&&l instanceof Rl||s instanceof Il&&l instanceof Il?Ha(s.elements,l.elements,yi):s instanceof jc&&l instanceof jc?yi(s.Re,l.Re):s instanceof zc&&l instanceof zc}(r.transform,t.transform)}class yR{constructor(t,n){this.version=t,this.transformResults=n}}class $i{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nh{}function hE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new dE(r.key,$i.none()):new kl(r.key,r.data,$i.none());{const n=r.data,s=Ln.empty();let l=new ke($e.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new js(r.key,s,new Kn(l.toArray()),$i.none())}}function _R(r,t,n){r instanceof kl?function(l,c,d){const p=l.value.clone(),g=rv(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):r instanceof js?function(l,c,d){if(!Ac(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=rv(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(fE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function vl(r,t,n,s){return r instanceof kl?function(c,d,p,g){if(!Ac(c.precondition,d))return p;const _=c.value.clone(),b=sv(c.fieldTransforms,g,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof js?function(c,d,p,g){if(!Ac(c.precondition,d))return p;const _=sv(c.fieldTransforms,g,d),b=d.data;return b.setAll(fE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,p){return Ac(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,t,n)}function vR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=oE(s.transform,l||null);c!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,c))}return n||null}function iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ha(s,l,(c,d)=>gR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class kl extends nh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class js extends nh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function rv(r,t,n){const s=new Map;Qt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,pR(d,p,n[l]))}return s}function sv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,mR(c,d,t))}return s}class dE extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_R(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=sE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=hE(d,p);g!==null&&s.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,(n,s)=>iv(n,s))&&Ha(this.baseMutations,t.baseMutations,(n,s)=>iv(n,s))}}class ym{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return uR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new ym(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Bt;function SR(r){switch(r){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function mE(r){if(r===void 0)return er("GRPC error has no .code"),$.UNKNOWN;switch(r){case De.OK:return $.OK;case De.CANCELLED:return $.CANCELLED;case De.UNKNOWN:return $.UNKNOWN;case De.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case De.INTERNAL:return $.INTERNAL;case De.UNAVAILABLE:return $.UNAVAILABLE;case De.UNAUTHENTICATED:return $.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case De.NOT_FOUND:return $.NOT_FOUND;case De.ALREADY_EXISTS:return $.ALREADY_EXISTS;case De.PERMISSION_DENIED:return $.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case De.ABORTED:return $.ABORTED;case De.OUT_OF_RANGE:return $.OUT_OF_RANGE;case De.UNIMPLEMENTED:return $.UNIMPLEMENTED;case De.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new qr([4294967295,4294967295],0);function av(r){const t=P0().encode(r),n=new I0;return n.update(t),new Uint8Array(n.digest())}function ov(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new qr([n,s],0),new qr([l,c],0)]}class _m{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=qr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(qr.fromNumber(s)));return l.compare(wR)===1&&(l=new qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=av(t),[s,l]=ov(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new _m(c,l,n);return s.forEach(p=>d.insert(p)),d}insert(t){if(this.pe===0)return;const n=av(t),[s,l]=ov(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ih(St.min(),l,new fe(Dt),nr(),Ut())}}class Ll{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ll(s,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class pE{constructor(t,n){this.targetId=t,this.Ce=n}}class gE{constructor(t,n,s=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class lv{constructor(){this.Fe=0,this.Me=uv(),this.xe=Ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ut(),n=Ut(),s=Ut();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:vt(38017,{changeType:c})}}),new Ll(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=uv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class RR{constructor(t){this.ze=t,this.je=new Map,this.He=nr(),this.Je=dc(),this.Ye=dc(),this.Ze=new fe(Dt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:vt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(zd(c))if(s===0){const d=new pt(c.path);this.tt(n,d,nn.newNoDocument(d,St.min()))}else Qt(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const p=this.ct(t),g=p?this.lt(p,t,d):1;if(g!==0){this.st(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=Yr(s).toUint8Array()}catch(g){if(g instanceof z0)return qa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new _m(d,l,c)}catch(g){return qa(g instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.pe===0?null:p}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,d)=>{const p=this._t(d);if(p){if(c.current&&zd(p.target)){const g=new pt(p.target.path);this.Et(g).has(d)||this.dt(d,g)||this.tt(d,g,nn.newNoDocument(g,t))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=Ut();this.Ye.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const _=this._t(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new ih(t,n,this.Ze,this.He,s);return this.He=nr(),this.Je=dc(),this.Ye=dc(),this.Ze=new fe(Dt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new lv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new ke(Dt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new ke(Dt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new lv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function dc(){return new fe(pt.comparator)}function uv(){return new fe(pt.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},CR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DR={and:"AND",or:"OR"};class NR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qd(r,t){return r.useProto3Json||Zc(t)?t:{value:t}}function Bc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OR(r,t){return Bc(r,t.toTimestamp())}function gi(r){return Qt(!!r,49232),St.fromTimestamp(function(n){const s=Qr(n);return new be(s.seconds,s.nanos)}(r))}function vm(r,t){return Hd(r,t).canonicalString()}function Hd(r,t){const n=function(l){return new ae(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function _E(r){const t=ae.fromString(r);return Qt(AE(t),10190,{key:t.toString()}),t}function Gd(r,t){return vm(r.databaseId,t.path)}function bd(r,t){const n=_E(t);if(n.get(1)!==r.databaseId.projectId)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(EE(n))}function vE(r,t){return vm(r.databaseId,t)}function xR(r){const t=_E(r);return t.length===4?ae.emptyPath():EE(t)}function Fd(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EE(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cv(r,t,n){return{name:Gd(r,t),fields:n.value.mapValue.fields}}function MR(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,b){return _.useProto3Json?(Qt(b===void 0||typeof b=="string",58123),Ze.fromBase64String(b||"")):(Qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ze.fromUint8Array(b||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&function(_){const b=_.code===void 0?$.UNKNOWN:mE(_.code);return new at(b,_.message||"")}(d);n=new gE(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=bd(r,s.document.name),c=gi(s.document.updateTime),d=s.document.createTime?gi(s.document.createTime):St.min(),p=new Ln({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(l,c,d,p),_=s.targetIds||[],b=s.removedTargetIds||[];n=new Sc(_,b,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=bd(r,s.document),c=s.readTime?gi(s.readTime):St.min(),d=nn.newNoDocument(l,c),p=s.removedTargetIds||[];n=new Sc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=bd(r,s.document),c=s.removedTargetIds||[];n=new Sc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new AR(l,c),p=s.targetId;n=new pE(p,d)}}return n}function VR(r,t){let n;if(t instanceof kl)n={update:cv(r,t.key,t.value)};else if(t instanceof dE)n={delete:Gd(r,t.key)};else if(t instanceof js)n={update:cv(r,t.key,t.data),updateMask:HR(t.fieldMask)};else{if(!(t instanceof ER))return vt(16599,{ft:t.type});n={verify:Gd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const p=d.transform;if(p instanceof zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Rl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jc)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw vt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:OR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)}(r,t.precondition)),n}function PR(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?gi(l.updateTime):gi(c);return d.isEqual(St.min())&&(d=gi(c)),new yR(d,l.transformResults||[])}(n,t))):[]}function UR(r,t){return{documents:[vE(r,t.path)]}}function kR(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vE(r,l);const c=function(_){if(_.length!==0)return bE(Xn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(b=>function(D){return{field:Va(D.field),direction:jR(D.dir)}}(b))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=qd(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function LR(r){let t=xR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Qt(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];n.where&&(c=function(I){const D=TE(I);return D instanceof Xn&&X0(D)?D.getFilters():[D]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(D=>function(Z){return new Lc(Pa(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(D))}(n.orderBy));let p=null;n.limit&&(p=function(I){let D;return D=typeof I=="object"?I.value:I,Zc(D)?null:D}(n.limit));let g=null;n.startAt&&(g=function(I){const D=!!I.before,G=I.values||[];return new kc(G,D)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const D=!I.before,G=I.values||[];return new kc(G,D)}(n.endAt)),rR(t,l,d,c,p,"F",g,_)}function zR(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function TE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Pa(n.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(n.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(n.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(n.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ne.create(Pa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>TE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(n.compositeFilter.op))}(r):vt(30097,{filter:r})}function jR(r){return IR[r]}function BR(r){return CR[r]}function qR(r){return DR[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Pa(r){return $e.fromServerFormat(r.fieldPath)}function bE(r){return r instanceof Ne?function(n){if(n.op==="=="){if(Z_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:BR(n.op),value:n.value}}}(r):r instanceof Xn?function(n){const s=n.getFilters().map(l=>bE(l));return s.length===1?s[0]:{compositeFilter:{op:qR(n.op),filters:s}}}(r):vt(54877,{filter:r})}function HR(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function AE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,n,s,l,c=St.min(),d=St.min(),p=Ze.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.wt=t}}function FR(r){const t=LR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.Cn=new YR}addToCollectionParentIndex(t,n){return this.Cn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Fr.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class YR{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new ke(ae.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new ke(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(SE,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Qa(0)}static lr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LruGarbageCollector",KR=1048576;function dv([r,t],[n,s]){const l=Dt(r,n);return l===0?Dt(t,s):l}class XR{constructor(t){this.Er=t,this.buffer=new ke(dv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();dv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $R{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){rt(fv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?rt(fv,"Ignoring IndexedDB error during garbage collection: ",n):await Ja(n)}await this.mr(3e5)})}}class ZR{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve($c.le);const s=new XR(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(hv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,d,p,g,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,p=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),xa()<=Pt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${I} documents in `+(_-g)+`ms
Total Duration: ${_-b}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function JR(r,t){return new ZR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.changes=new zs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&vl(s.mutation,l,Kn.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ut()){const l=xs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=fl();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ut()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,p)=>{n.set(d,p)})})}computeViews(t,n,s,l){let c=nr();const d=_l(),p=function(){return _l()}();return n.forEach((g,_)=>{const b=s.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof js)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),vl(b.mutation,_,b.mutation.getFieldMask(),be.now())):d.set(_.key,Kn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((_,b)=>d.set(_,b)),n.forEach((_,b)=>{var I;return p.set(_,new tI(b,(I=d.get(_))!==null&&I!==void 0?I:null))}),p))}recalculateAndSaveOverlays(t,n){const s=_l();let l=new fe((d,p)=>d-p),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const p of d)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let b=s.get(g)||Kn.empty();b=p.applyToLocalView(_,b),s.set(g,b);const I=(l.get(p.batchId)||Ut()).add(g);l=l.insert(p.batchId,I)})}).next(()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,b=g.value,I=sE();b.forEach(D=>{if(!c.has(D)){const G=hE(n.get(D),s.get(D));G!==null&&I.set(D,G),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):tE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):K.resolve(xs());let p=bl,g=c;return d.next(_=>K.forEach(_,(b,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),c.get(b)?K.resolve():this.remoteDocumentCache.getEntry(t,b).next(D=>{g=g.insert(b,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,g,_,Ut())).next(b=>({batchId:p,changes:rE(b)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let l=fl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,c).next(p=>K.forEach(p,g=>{const _=function(I,D){return new Ul(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(b=>{b.forEach((I,D)=>{d=d.insert(I,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((g,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,nn.newInvalidDocument(b)))});let p=fl();return d.forEach((g,_)=>{const b=c.get(g);b!==void 0&&vl(b.mutation,_,Kn.empty(),be.now()),th(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:gi(l.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:FR(l.bundledQuery),readTime:gi(l.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.overlays=new fe(pt.comparator),this.Qr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=xs();return K.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const l=xs(),c=n.length+1,d=new pt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&l.set(g.getKey(),g)}return K.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new fe((_,b)=>_-b);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let b=c.get(_.largestBatchId);b===null&&(b=xs(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=xs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,b)=>p.set(_,b)),!(p.size()>=l)););return K.resolve(p)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new bR(n,s));let c=this.Qr.get(n);c===void 0&&(c=Ut(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.$r=new ke(He.Ur),this.Kr=new ke(He.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new He(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new He(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new pt(new ae([])),s=new He(n,t),l=new He(n,t+1),c=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new pt(new ae([])),s=new He(n,t),l=new He(n,t+1);let c=Ut();return this.Kr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new He(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return pt.comparator(t.key,n.key)||Dt(t.Zr,n.Zr)}static Wr(t,n){return Dt(t.Zr,n.Zr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ke(He.Ur)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Xr=this.Xr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?hm:this.nr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),l=new He(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],d=>{const p=this.ei(d.Zr);c.push(p)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(Dt);return n.forEach(l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],p=>{s=s.add(p.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new He(new pt(c),0);let p=new ke(Dt);return this.Xr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Zr)),!0)},d),K.resolve(this.ni(p))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Qt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(n.mutations,l=>{const c=new He(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new He(n,0),l=this.Xr.firstAfterOrEqual(s);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.ii=t,this.docs=function(){return new fe(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=nr();const d=n.path,p=new pt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:b}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Uw(Pw(b),s)<=0||(l.has(b.key)||th(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,s,l){vt(9500)}si(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new oI(this)}getSize(t){return K.resolve(this.size)}}class oI extends WR{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.persistence=t,this.oi=new zs(n=>mm(n),pm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new Em,this.targetCount=0,this.ui=Qa.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),K.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Qa(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.Tr(n),K.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,n){this.ci={},this.overlays={},this.li=new $c(0),this.hi=!1,this.hi=!0,this.Pi=new rI,this.referenceDelegate=t(this),this.Ti=new lI(this),this.indexManager=new QR,this.remoteDocumentCache=function(l){return new aI(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new GR(n),this.Ei=new nI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new sI(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new uI(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class uI extends Lw{constructor(t){super(),this.currentSequenceNumber=t}}class Tm{constructor(t){this.persistence=t,this.Vi=new Em,this.mi=null}static fi(t){return new Tm(t)}get gi(){if(this.mi)return this.mi;throw vt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const l=pt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,St.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class qc{constructor(t,n){this.persistence=t,this.yi=new zs(s=>Bw(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=JR(this,n)}static fi(t,n){return new qc(t,n)}di(){}Ai(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return K.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?K.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,n).next(p=>{p||(s++,c.removeEntry(d,St.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Tc(t.data.value)),n}Dr(t,n,s){return K.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Ut(),l=Ut();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new bm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iA()?8:zw(rn())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new cI;return this.Ss(t,n,d).next(p=>{if(c.result=p,this.fs)return this.Ds(t,n,d,p.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(xa()<=Pt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(xa()<=Pt.DEBUG&&rt("QueryEngine","Query:",Ma(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(xa()<=Pt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pi(n))):K.resolve())}ws(t,n){if(ev(n))return K.resolve(null);let s=pi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Bd(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Ut(...c);return this.ys.getDocuments(t,d).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const _=this.vs(n,p);return this.Cs(n,_,d,g.readTime)?this.ws(t,Bd(n,null,"F")):this.Fs(t,_,n,g)}))})))}bs(t,n,s,l){return ev(n)||l.isEqual(St.min())?K.resolve(null):this.ys.getDocuments(t,s).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,s,l)?K.resolve(null):(xa()<=Pt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(n)),this.Fs(t,d,n,Vw(l,bl)).next(p=>p))})}vs(t,n){let s=new ke(nE(t));return n.forEach((l,c)=>{th(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return xa()<=Pt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.ys.getDocumentsMatchingQuery(t,n,Fr.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",fI=3e8;class dI{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new fe(Dt),this.Os=new zs(c=>mm(c),pm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function mI(r,t,n,s){return new dI(r,t,n,s)}async function RE(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],p=[];let g=Ut();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:p}))})})}function pI(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,g,_,b){const I=_.batch,D=I.keys();let G=K.resolve();return D.forEach(Z=>{G=G.next(()=>b.getEntry(g,Z)).next(it=>{const J=_.docVersions.get(Z);Qt(J!==null,48541),it.version.compareTo(J)<0&&(I.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),b.addEntry(it)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(g,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function IE(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function gI(r,t){const n=wt(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const p=[];t.targetChanges.forEach((b,I)=>{const D=l.get(I);if(!D)return;p.push(n.Ti.removeMatchingKeys(c,b.removedDocuments,I).next(()=>n.Ti.addMatchingKeys(c,b.addedDocuments,I)));let G=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?G=G.withResumeToken(Ze.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,s)),l=l.insert(I,G),function(it,J,Et){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=fI?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(D,G,b)&&p.push(n.Ti.updateTargetData(c,G))});let g=nr(),_=Ut();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))}),p.push(yI(c,d,t.documentUpdates).next(b=>{g=b.qs,_=b.Qs})),!s.isEqual(St.min())){const b=n.Ti.getLastRemoteSnapshotVersion(c).next(I=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(b)}return K.waitFor(p).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.xs=l,c))}function yI(r,t,n){let s=Ut(),l=Ut();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=nr();return n.forEach((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):rt(Am,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{qs:d,Qs:l}})}function _I(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=hm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function vI(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new Lr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Qd(r,t,n){const s=wt(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Wa(d))throw d;rt(Am,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function mv(r,t,n){const s=wt(r);let l=St.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",d=>function(g,_,b){const I=wt(g),D=I.Os.get(b);return D!==void 0?K.resolve(I.xs.get(D)):I.Ti.getTargetData(_,b)}(s,d,pi(t)).next(p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,n?l:St.min(),n?c:Ut())).next(p=>(EI(s,aR(t),p),{documents:p,$s:c})))}function EI(r,t,n){let s=r.Ns.get(t)||St.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class pv{constructor(){this.activeTargetIds=fR()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TI{constructor(){this.xo=new pv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new pv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="ConnectivityMonitor";class yv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(gv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){rt(gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Yd(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="RestConnection",AI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Pc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const d=Yd(),p=this.jo(t,n.toUriEncodedString());rt(Ad,`Sending RPC '${t}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,l,c);const{host:_}=new URL(p),b=Cl(_);return this.Jo(t,p,g,s,b).then(I=>(rt(Ad,`Received RPC '${t}' ${d}: `,I),I),I=>{throw qa(Ad,`RPC '${t}' ${d} failed with error: `,I,"url: ",p,"request:",s),I})}Yo(t,n,s,l,c,d){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=AI[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class RI extends SI{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=Yd();return new Promise((p,g)=>{const _=new C0;_.setWithCredentials(!0),_.listenOnce(D0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ec.NO_ERROR:const I=_.getResponseJson();rt(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),p(I);break;case Ec.TIMEOUT:rt(tn,`RPC '${t}' ${d} timed out`),g(new at($.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const D=_.getStatus();if(rt(tn,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G==null?void 0:G.error;if(Z&&Z.status&&Z.message){const it=function(Et){const lt=Et.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(lt)>=0?lt:$.UNKNOWN}(Z.status);g(new at(it,Z.message))}else g(new at($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new at($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{h_:t,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{rt(tn,`RPC '${t}' ${d} completed.`)}});const b=JSON.stringify(l);rt(tn,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",b,s,15)})}I_(t,n,s){const l=Yd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=x0(),p=O0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const b=c.join("");rt(tn,`Creating RPC '${t}' stream ${l}: ${b}`,g);const I=d.createWebChannel(b,g);this.E_(I);let D=!1,G=!1;const Z=new wI({Zo:J=>{G?rt(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(rt(tn,`Opening RPC '${t}' stream ${l} transport.`),I.open(),D=!0),rt(tn,`RPC '${t}' stream ${l} sending:`,J),I.send(J))},Xo:()=>I.close()}),it=(J,Et,lt)=>{J.listen(Et,ht=>{try{lt(ht)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return it(I,hl.EventType.OPEN,()=>{G||(rt(tn,`RPC '${t}' stream ${l} transport opened.`),Z.__())}),it(I,hl.EventType.CLOSE,()=>{G||(G=!0,rt(tn,`RPC '${t}' stream ${l} transport closed`),Z.u_(),this.d_(I))}),it(I,hl.EventType.ERROR,J=>{G||(G=!0,qa(tn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.u_(new at($.UNAVAILABLE,"The operation could not be completed")))}),it(I,hl.EventType.MESSAGE,J=>{var Et;if(!G){const lt=J.data[0];Qt(!!lt,16349);const ht=lt,Nt=(ht==null?void 0:ht.error)||((Et=ht[0])===null||Et===void 0?void 0:Et.error);if(Nt){rt(tn,`RPC '${t}' stream ${l} received error:`,Nt);const Tt=Nt.status;let Ot=function(w){const O=De[w];if(O!==void 0)return mE(O)}(Tt),x=Nt.message;Ot===void 0&&(Ot=$.INTERNAL,x="Unknown error status: "+Tt+" with message "+Nt.message),G=!0,Z.u_(new at(Ot,x)),I.close()}else rt(tn,`RPC '${t}' stream ${l} received:`,lt),Z.c_(lt)}}),it(p,N0.STAT_EVENT,J=>{J.stat===Vd.PROXY?rt(tn,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Vd.NOPROXY&&rt(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new NR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="PersistentStream";class DE{constructor(t,n,s,l,c,d,p,g){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new CE(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new at($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return rt(_v,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(rt(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class II extends DE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=MR(this.serializer,t),s=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?gi(d.readTime):St.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Fd(this.serializer),n.addTarget=function(c,d){let p;const g=d.target;if(p=zd(g)?{documents:UR(c,g)}:{query:kR(c,g).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=yE(c,d.resumeToken);const _=qd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=Bc(c,d.snapshotVersion.toTimestamp());const _=qd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,t);const s=zR(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Fd(this.serializer),n.removeTarget=t,this.Q_(n)}}class CI extends DE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=PR(t.writeResults,t.commitTime),s=gi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Fd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>VR(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{}class NI extends DI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,Hd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at($.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(t,Hd(n,s),l,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at($.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class OI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(er(n),this.ua=!1):rt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class xI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(d=>{s.enqueueAndForget(async()=>{Bs(this)&&(rt(ks,"Restarting streams for network reachability change."),await async function(g){const _=wt(g);_.da.add(4),await zl(_),_.Va.set("Unknown"),_.da.delete(4),await sh(_)}(this))})}),this.Va=new OI(s,l)}}async function sh(r){if(Bs(r))for(const t of r.Aa)await t(!0)}async function zl(r){for(const t of r.Aa)await t(!1)}function NE(r,t){const n=wt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Im(n)?Rm(n):to(n).N_()&&wm(n,t))}function Sm(r,t){const n=wt(r),s=to(n);n.Ea.delete(t),s.N_()&&OE(n,t),n.Ea.size===0&&(s.N_()?s.k_():Bs(n)&&n.Va.set("Unknown"))}function wm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}to(r).Z_(t)}function OE(r,t){r.ma.Ke(t),to(r).X_(t)}function Rm(r){r.ma=new RR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),to(r).start(),r.Va.ca()}function Im(r){return Bs(r)&&!to(r).O_()&&r.Ea.size>0}function Bs(r){return wt(r).da.size===0}function xE(r){r.ma=void 0}async function MI(r){r.Va.set("Online")}async function VI(r){r.Ea.forEach((t,n)=>{wm(r,t)})}async function PI(r,t){xE(r),Im(r)?(r.Va.Pa(t),Rm(r)):r.Va.set("Unknown")}async function UI(r,t,n){if(r.Va.set("Online"),t instanceof gE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ea.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ea.delete(p),l.ma.removeTarget(p))}(r,t)}catch(s){rt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hc(r,s)}else if(t instanceof Sc?r.ma.Xe(t):t instanceof pE?r.ma.ot(t):r.ma.nt(t),!n.isEqual(St.min()))try{const s=await IE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const p=c.ma.It(d);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ea.get(_);b&&c.Ea.set(_,b.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,_)=>{const b=c.Ea.get(g);if(!b)return;c.Ea.set(g,b.withResumeToken(Ze.EMPTY_BYTE_STRING,b.snapshotVersion)),OE(c,g);const I=new Lr(b.target,g,_,b.sequenceNumber);wm(c,I)}),c.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){rt(ks,"Failed to raise snapshot:",s),await Hc(r,s)}}async function Hc(r,t,n){if(!Wa(t))throw t;r.da.add(1),await zl(r),r.Va.set("Offline"),n||(n=()=>IE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(ks,"Retrying IndexedDB access"),await n(),r.da.delete(1),await sh(r)})}function ME(r,t){return t().catch(n=>Hc(r,n,t))}async function ah(r){const t=wt(r),n=Xr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:hm;for(;kI(t);)try{const l=await _I(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,LI(t,l)}catch(l){await Hc(t,l)}VE(t)&&PE(t)}function kI(r){return Bs(r)&&r.Ia.length<10}function LI(r,t){r.Ia.push(t);const n=Xr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function VE(r){return Bs(r)&&!Xr(r).O_()&&r.Ia.length>0}function PE(r){Xr(r).start()}async function zI(r){Xr(r).ia()}async function jI(r){const t=Xr(r);for(const n of r.Ia)t.ta(n.mutations)}async function BI(r,t,n){const s=r.Ia.shift(),l=ym.from(s,t,n);await ME(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ah(r)}async function qI(r,t){t&&Xr(r).ea&&await async function(s,l){if(function(d){return SR(d)&&d!==$.ABORTED}(l.code)){const c=s.Ia.shift();Xr(s).L_(),await ME(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ah(s)}}(r,t),VE(r)&&PE(r)}async function vv(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),rt(ks,"RemoteStore received new credentials");const s=Bs(n);n.da.add(3),await zl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await sh(n)}async function HI(r,t){const n=wt(r);t?(n.da.delete(2),await sh(n)):t||(n.da.add(2),await zl(n),n.Va.set("Unknown"))}function to(r){return r.fa||(r.fa=function(n,s,l){const c=wt(n);return c.oa(),new II(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:MI.bind(null,r),n_:VI.bind(null,r),i_:PI.bind(null,r),Y_:UI.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Im(r)?Rm(r):r.Va.set("Unknown")):(await r.fa.stop(),xE(r))})),r.fa}function Xr(r){return r.ga||(r.ga=function(n,s,l){const c=wt(n);return c.oa(),new CI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:zI.bind(null,r),i_:qI.bind(null,r),na:jI.bind(null,r),ra:BI.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await ah(r)):(await r.ga.stop(),r.Ia.length>0&&(rt(ks,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,p=new Cm(t,n,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(r,t){if(er("AsyncQueue",`${t}: ${r}`),Wa(r))return new at($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=fl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.pa=new fe(pt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):vt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ya{constructor(t,n,s,l,c,d,p,g,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new Ya(t,n,ja.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class FI{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=wt(n),c=l.queries;l.queries=Tv(),c.forEach((d,p)=>{for(const g of p.Sa)g.onError(s)})})(this,new at($.ABORTED,"Firestore shutting down"))}}function Tv(){return new zs(r=>eE(r),Wc)}async function QI(r,t){const n=wt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new GI,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Dm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&Nm(n)}async function YI(r,t){const n=wt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function KI(r,t){const n=wt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Ma(l)&&(s=!0);d.ba=l}}s&&Nm(n)}function XI(r,t,n){const s=wt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Nm(r){r.Ca.forEach(t=>{t.next()})}var Kd,bv;(bv=Kd||(Kd={})).xa="default",bv.Cache="cache";class $I{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ya(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.key=t}}class kE{constructor(t){this.key=t}}class ZI{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.Za=nE(t),this.Xa=new ja(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new Ev,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((b,I)=>{const D=l.get(b),G=th(this.query,I)?I:null,Z=!!D&&this.mutatedKeys.has(D.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;D&&G?D.data.isEqual(G.data)?Z!==it&&(s.track({type:3,doc:G}),J=!0):this.ru(D,G)||(s.track({type:2,doc:G}),J=!0,(g&&this.Za(G,g)>0||_&&this.Za(G,_)<0)&&(p=!0)):!D&&G?(s.track({type:0,doc:G}),J=!0):D&&!G&&(s.track({type:1,doc:D}),J=!0,(g||_)&&(p=!0)),J&&(G?(d=d.add(G),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{Xa:d,nu:s,Cs:p,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((b,I)=>function(G,Z){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:J})}};return it(G)-it(Z)}(b.type,I.type)||this.Za(b.doc,I.doc)),this.iu(s),l=l!=null&&l;const p=n&&!l?this.su():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Ja;return this.Ja=g,d.length!==0||_?{snapshot:new Ya(this.query,t.Xa,c,d,t.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new kE(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new UE(s))}),n}au(t){this.Ha=t.$s,this.Ya=Ut();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ya.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Om="SyncEngine";class JI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class WI{constructor(t){this.key=t,this.cu=!1}}class t2{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new zs(p=>eE(p),Wc),this.Pu=new Map,this.Tu=new Set,this.Iu=new fe(pt.comparator),this.Eu=new Map,this.du=new Em,this.Au={},this.Ru=new Map,this.Vu=Qa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function e2(r,t,n=!0){const s=HE(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await LE(s,t,n,!0),l}async function n2(r,t){const n=HE(r);await LE(n,t,!0,!1)}async function LE(r,t,n,s){const l=await vI(r.localStore,pi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await i2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&NE(r.remoteStore,l),p}async function i2(r,t,n,s,l){r.fu=(I,D,G)=>async function(it,J,Et,lt){let ht=J.view.tu(Et);ht.Cs&&(ht=await mv(it.localStore,J.query,!1).then(({documents:x})=>J.view.tu(x,ht)));const Nt=lt&&lt.targetChanges.get(J.targetId),Tt=lt&&lt.targetMismatches.get(J.targetId)!=null,Ot=J.view.applyChanges(ht,it.isPrimaryClient,Nt,Tt);return Sv(it,J.targetId,Ot.ou),Ot.snapshot}(r,I,D,G);const c=await mv(r.localStore,t,!0),d=new ZI(t,c.$s),p=d.tu(c.documents),g=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,g);Sv(r,n,_.ou);const b=new JI(t,n,d);return r.hu.set(t,b),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function r2(r,t,n){const s=wt(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(d=>!Wc(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Qd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Sm(s.remoteStore,l.targetId),Xd(s,l.targetId)}).catch(Ja)):(Xd(s,l.targetId),await Qd(s.localStore,l.targetId,!0))}async function s2(r,t){const n=wt(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sm(n.remoteStore,s.targetId))}async function a2(r,t,n){const s=d2(r);try{const l=await function(d,p){const g=wt(d),_=be.now(),b=p.reduce((G,Z)=>G.add(Z.key),Ut());let I,D;return g.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=nr(),it=Ut();return g.Bs.getEntries(G,b).next(J=>{Z=J,Z.forEach((Et,lt)=>{lt.isValidDocument()||(it=it.add(Et))})}).next(()=>g.localDocuments.getOverlayedDocuments(G,Z)).next(J=>{I=J;const Et=[];for(const lt of p){const ht=vR(lt,I.get(lt.key).overlayedDocument);ht!=null&&Et.push(new js(lt.key,ht,Q0(ht.value.mapValue),$i.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,Et,p)}).next(J=>{D=J;const Et=J.applyToLocalDocumentSet(I,it);return g.documentOverlayCache.saveOverlays(G,J.batchId,Et)})}).then(()=>({batchId:D.batchId,changes:rE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,p,g){let _=d.Au[d.currentUser.toKey()];_||(_=new fe(Dt)),_=_.insert(p,g),d.Au[d.currentUser.toKey()]=_}(s,l.batchId,n),await jl(s,l.changes),await ah(s.remoteStore)}catch(l){const c=Dm(l,"Failed to persist write");n.reject(c)}}async function zE(r,t){const n=wt(r);try{const s=await gI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?Qt(d.cu,14607):l.removedDocuments.size>0&&(Qt(d.cu,42227),d.cu=!1))}),await jl(n,s,t)}catch(s){await Ja(s)}}function Av(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,d)=>{const p=d.view.Fa(t);p.snapshot&&l.push(p.snapshot)}),function(d,p){const g=wt(d);g.onlineState=p;let _=!1;g.queries.forEach((b,I)=>{for(const D of I.Sa)D.Fa(p)&&(_=!0)}),_&&Nm(g)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function o2(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new fe(pt.comparator);d=d.insert(c,nn.newNoDocument(c,St.min()));const p=Ut().add(c),g=new ih(St.min(),new Map,new fe(Dt),d,p);await zE(s,g),s.Iu=s.Iu.remove(c),s.Eu.delete(t),xm(s)}else await Qd(s.localStore,t,!1).then(()=>Xd(s,t,n)).catch(Ja)}async function l2(r,t){const n=wt(r),s=t.batch.batchId;try{const l=await pI(n.localStore,t);BE(n,s,null),jE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jl(n,l)}catch(l){await Ja(l)}}async function u2(r,t,n){const s=wt(r);try{const l=await function(d,p){const g=wt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return g.mutationQueue.lookupMutationBatch(_,p).next(I=>(Qt(I!==null,37113),b=I.keys(),g.mutationQueue.removeMutationBatch(_,I))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>g.localDocuments.getDocuments(_,b))})}(s.localStore,t);BE(s,t,n),jE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await jl(s,l)}catch(l){await Ja(l)}}function jE(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function BE(r,t,n){const s=wt(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function Xd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||qE(r,s)})}function qE(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(Sm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),xm(r))}function Sv(r,t,n){for(const s of n)s instanceof UE?(r.du.addReference(s.key,t),c2(r,s)):s instanceof kE?(rt(Om,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||qE(r,s.key)):vt(19791,{pu:s})}function c2(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(rt(Om,"New document in limbo: "+n),r.Tu.add(s),xm(r))}function xm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new pt(ae.fromString(t)),s=r.Vu.next();r.Eu.set(s,new WI(n)),r.Iu=r.Iu.insert(n,s),NE(r.remoteStore,new Lr(pi(W0(n.path)),s,"TargetPurposeLimboResolution",$c.le))}}async function jl(r,t,n){const s=wt(r),l=[],c=[],d=[];s.hu.isEmpty()||(s.hu.forEach((p,g)=>{d.push(s.fu(g,t,n).then(_=>{var b;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(_){l.push(_);const I=bm.Rs(g.targetId,_);c.push(I)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(g,_){const b=wt(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(_,D=>K.forEach(D.ds,G=>b.persistence.referenceDelegate.addReference(I,D.targetId,G)).next(()=>K.forEach(D.As,G=>b.persistence.referenceDelegate.removeReference(I,D.targetId,G)))))}catch(I){if(!Wa(I))throw I;rt(Am,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const G=b.xs.get(D),Z=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(Z);b.xs=b.xs.insert(D,it)}}}(s.localStore,c))}async function h2(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){rt(Om,"User change. New user:",t.toKey());const s=await RE(n.localStore,t);n.currentUser=t,function(c,d){c.Ru.forEach(p=>{p.forEach(g=>{g.reject(new at($.CANCELLED,d))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await jl(n,s.ks)}}function f2(r,t){const n=wt(r),s=n.Eu.get(t);if(s&&s.cu)return Ut().add(s.key);{let l=Ut();const c=n.Pu.get(t);if(!c)return l;for(const d of c){const p=n.hu.get(d);l=l.unionWith(p.view.eu)}return l}}function HE(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o2.bind(null,t),t.lu.Y_=KI.bind(null,t.eventManager),t.lu.gu=XI.bind(null,t.eventManager),t}function d2(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,t),t}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return mI(this.persistence,new hI,t.initialUser,this.serializer)}Su(t){return new wE(Tm.fi,this.serializer)}bu(t){return new TI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class m2 extends Gc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Qt(this.persistence.referenceDelegate instanceof qc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $R(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new wE(s=>qc.fi(s,n),this.serializer)}}class $d{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Av(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await HI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new FI}()}createDatastore(t){const n=rh(t.databaseInfo.databaseId),s=function(c){return new RI(c)}(t.databaseInfo);return function(c,d,p,g){return new NI(c,d,p,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,p){return new xI(s,l,c,d,p)}(this.localStore,this.datastore,t.asyncQueue,n=>Av(this.syncEngine,n,0),function(){return yv.C()?new yv:new bI}())}createSyncEngine(t,n){return function(l,c,d,p,g,_,b){const I=new t2(l,c,d,p,g,_);return b&&(I.mu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=wt(l);rt(ks,"RemoteStore shutting down."),c.da.add(5),await zl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class g2{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=U0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{rt($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Dm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function wd(r,t){r.asyncQueue.verifyOperationInProgress(),rt($r,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await RE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function wv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await y2(r);rt($r,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>vv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>vv(t.remoteStore,l)),r._onlineComponents=t}async function y2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt($r,"Using user provided OfflineComponentProvider");try{await wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await wd(r,new Gc)}}else rt($r,"Using default OfflineComponentProvider"),await wd(r,new m2(void 0));return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt($r,"Using user provided OnlineComponentProvider"),await wv(r,r._uninitializedComponentsProvider._online)):(rt($r,"Using default OnlineComponentProvider"),await wv(r,new $d))),r._onlineComponents}function _2(r){return GE(r).then(t=>t.syncEngine)}async function v2(r){const t=await GE(r),n=t.eventManager;return n.onListen=e2.bind(null,t.syncEngine),n.onUnlisten=r2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=n2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=s2.bind(null,t.syncEngine),n}function E2(r,t,n={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,_){const b=new p2({next:D=>{b.xu(),d.enqueueAndForget(()=>YI(c,I)),D.fromCache&&g.source==="server"?_.reject(new at($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new $I(p,b,{includeMetadataChanges:!0,Qa:!0});return QI(c,I)}(await v2(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r,t,n){if(!n)throw new at($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function T2(r,t,n,s){if(t===!0&&s===!0)throw new at($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Iv(r){if(!pt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Cv(r){if(pt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Fc(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(r);throw new at($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firestore.googleapis.com",Dv=!0;class Nv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new at($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=Dv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Dv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KR)throw new at($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}T2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ww;switch(s.type){case"firstParty":return new Dw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Rv.get(n);s&&(rt("ComponentProvider","Removing Datastore"),Rv.delete(n),s.terminate())}(this),Promise.resolve()}}function b2(r,t,n,s={}){var l;r=Fc(r,lh);const c=Cl(t),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;c&&(qv(`https://${g}`),Hv("Firestore",!0)),d.host!==YE&&d.host!==g&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:g,ssl:c,emulatorOptions:s});if(!Ms(_,p)&&(r._setSettings(_),s.mockUserToken)){let b,I;if(typeof s.mockUserToken=="string")b=s.mockUserToken,I=en.MOCK_USER;else{b=Kb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new at($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new en(D)}r._authCredentials=new Rw(new V0(b,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new eo(this.firestore,t,this._query)}}class zn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zn(this.firestore,t,this._key)}}class Gr extends eo{constructor(t,n,s){super(t,n,W0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zn(this.firestore,null,new pt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function A2(r,t,...n){if(r=bn(r),QE("collection","path",t),r instanceof lh){const s=ae.fromString(t,...n);return Cv(s),new Gr(r,null,s)}{if(!(r instanceof zn||r instanceof Gr))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return Cv(s),new Gr(r.firestore,null,s)}}function S2(r,t,...n){if(r=bn(r),arguments.length===1&&(t=U0.newId()),QE("doc","path",t),r instanceof lh){const s=ae.fromString(t,...n);return Iv(s),new zn(r,null,new pt(s))}{if(!(r instanceof zn||r instanceof Gr))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return Iv(s),new zn(r.firestore,r instanceof Gr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="AsyncQueue";class xv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new CE(this,"async_queue_retry"),this.rc=()=>{const s=Sd();s&&rt(Ov,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Sd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Hr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Wa(t))throw t;rt(Ov,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,er("INTERNAL UNHANDLED ERROR: ",Mv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=Cm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&vt(47125,{cc:Mv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function Mv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Mm extends lh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new xv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xv(t),this._firestoreClient=void 0,await t}}}function w2(r,t){const n=typeof r=="object"?r:Yv(),s=typeof r=="string"?r:Pc,l=tm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Qb("firestore");c&&b2(l,...c)}return l}function KE(r){if(r._terminated)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||R2(r),r._firestoreClient}function R2(r){var t,n,s;const l=r._freezeSettings(),c=function(p,g,_,b){return new Gw(p,g,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,FE(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new g2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ka(Ze.fromBase64String(t))}catch(n){throw new at($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ka(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^__.*__$/;class C2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,n,this.fieldTransforms):new kl(t,this.data,n,this.fieldTransforms)}}function $E(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ic:r})}}class km{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new km(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Qc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if($E(this.Ic)&&I2.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class D2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||rh(t)}bc(t,n,s,l=!1){return new km({Ic:t,methodName:n,wc:s,path:$e.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZE(r){const t=r._freezeSettings(),n=rh(r._databaseId);return new D2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function N2(r,t,n,s,l,c={}){const d=r.bc(c.merge||c.mergeFields?2:0,t,n,l);tT("Data must be an object, but it was:",d,s);const p=JE(s,d);let g,_;if(c.merge)g=new Kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const I of c.mergeFields){const D=x2(t,I,n);if(!d.contains(D))throw new at($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);V2(b,D)||b.push(D)}g=new Kn(b),_=d.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,_=d.fieldTransforms;return new C2(new Ln(p),g,_)}function O2(r,t,n,s=!1){return Lm(n,r.bc(s?4:3,t))}function Lm(r,t){if(WE(r=bn(r)))return tT("Unsupported field value:",t,r),JE(r,t);if(r instanceof XE)return function(s,l){if(!$E(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const p of s){let g=Lm(p,l.fc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=bn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:Bc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bc(l.serializer,c)}}if(s instanceof Pm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ka)return{bytesValue:yE(l.serializer,s._byteString)};if(s instanceof zn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Um)return function(d,p){return{mapValue:{fields:{[G0]:{stringValue:F0},[Uc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.gc("VectorValues must only contain numeric values.");return gm(p.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${oh(s)}`)}(r,t)}function JE(r,t){const n={};return L0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(r,(s,l)=>{const c=Lm(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function WE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Pm||r instanceof Ka||r instanceof zn||r instanceof XE||r instanceof Um)}function tT(r,t,n){if(!WE(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=oh(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function x2(r,t,n){if((t=bn(t))instanceof Vm)return t._internalPath;if(typeof t=="string")return eT(r,t);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,n)}const M2=new RegExp("[~\\*/\\[\\]]");function eT(r,t,n){if(t.search(M2)>=0)throw Qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Vm(...t.split("."))._internalPath}catch{throw Qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${l}`),g+=")"),new at($.INVALID_ARGUMENT,p+r+g)}function V2(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new P2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P2 extends nT{data(){return super.data()}}function zm(r,t){return typeof t=="string"?eT(r,t):t instanceof Vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class k2 extends jm{}function L2(r,t,...n){let s=[];t instanceof jm&&s.push(t),s=s.concat(n),function(c){const d=c.filter(g=>g instanceof Bm).length,p=c.filter(g=>g instanceof uh).length;if(d>1||d>0&&p>0)throw new at($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class uh extends k2{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new uh(t,n,s)}_apply(t){const n=this._parse(t);return iT(t._query,n),new eo(t.firestore,t.converter,jd(t._query,n))}_parse(t){const n=ZE(t.firestore);return function(c,d,p,g,_,b,I){let D;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new at($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Pv(I,b);const Z=[];for(const it of I)Z.push(Vv(g,c,it));D={arrayValue:{values:Z}}}else D=Vv(g,c,I)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Pv(I,b),D=O2(p,d,I,b==="in"||b==="not-in");return Ne.create(_,b,D)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function z2(r,t,n){const s=t,l=zm("where",r);return uh._create(l,s,n)}class Bm extends jm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bm(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)iT(d,g),d=jd(d,g)}(t._query,n),new eo(t.firestore,t.converter,jd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vv(r,t,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new at($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(t)&&n.indexOf("/")!==-1)throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ae.fromString(n));if(!pt.isDocumentKey(s))throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return X_(r,new pt(s))}if(n instanceof zn)return X_(r,n._key);throw new at($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function Pv(r,t){if(!Array.isArray(r)||r.length===0)throw new at($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iT(r,t){const n=function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new at($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class j2{convertValue(t,n="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ls(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Uc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>Te(d.doubleValue));return new Um(c)}convertGeoPoint(t){return new Pm(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Jc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const n=Qr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);Qt(AE(s),9688,{name:t});const l=new Sl(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(n)||er(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class q2 extends nT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(zm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class wc extends q2{data(t={}){return super.data(t)}}class H2{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new pc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new wc(this._firestore,this._userDataWriter,s.key,s,new pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(p=>{const g=new wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:G2(p.type),doc:g,oldIndex:_,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function G2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}class F2 extends j2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ka(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Q2(r){r=Fc(r,eo);const t=Fc(r.firestore,Mm),n=KE(t),s=new F2(t);return U2(r._query),E2(n,r._query).then(l=>new H2(t,s,r,l))}function Y2(r,t){const n=Fc(r.firestore,Mm),s=S2(r),l=B2(r.converter,t);return K2(n,[N2(ZE(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,$i.exists(!1))]).then(()=>s)}function K2(r,t){return function(s,l){const c=new Hr;return s.asyncQueue.enqueueAndForget(async()=>a2(await _2(s),l,c)),c.promise}(KE(r),t)}(function(t,n=!0){(function(l){Za=l})(Xa),Ba(new Vs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Mm(new Iw(s.getProvider("auth-internal")),new Nw(d,s.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(_.options.projectId,b)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Br(k_,L_,t),Br(k_,L_,"esm2017")})();const X2="/esmioptica-dados/assets/esmioptica.logo-DmQ_314t.jpg";var Qi={NVM_INC:"/Users/carlosramirez/.nvm/versions/node/v18.19.1/include/node",LDFLAGS:"-L/opt/homebrew/opt/llvm/lib",TERM_PROGRAM:"vscode",NODE:"/Users/carlosramirez/.nvm/versions/node/v18.19.1/bin/node",NVM_CD_FLAGS:"-q",PYENV_ROOT:"/Users/carlosramirez/.pyenv",INIT_CWD:"/Users/carlosramirez/Google Drive/Omar/repos/esmioptica-dados",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/d2/xpykw8px0zl3wx7q3q2zlphw0000gn/T/",CPPFLAGS:"-I/opt/homebrew/opt/llvm/include",HOMEBREW_REPOSITORY:"/opt/homebrew",npm_config_global_prefix:"/Users/carlosramirez/.nvm/versions/node/v18.19.1",TERM_PROGRAM_VERSION:"1.99.3",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/carlosramirez",TERM_SESSION_ID:"w0t1p0:EE7F4487-515E-4BA6-92FA-D41FE250EBAB",COLOR:"1",npm_config_noproxy:"",ZSH:"/Users/carlosramirez/.oh-my-zsh",npm_config_local_prefix:"/Users/carlosramirez/Google Drive/Omar/repos/esmioptica-dados",USER:"carlosramirez",NVM_DIR:"/Users/carlosramirez/.nvm",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/Users/carlosramirez/.nvm/versions/node/v18.19.1/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.5WOQfxATdW/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",VSCODE_PROFILE_INITIALIZED:"1",TERM_FEATURES:"T3LrMSc7UUw9Ts3BFGsSyHNoSxF",npm_execpath:"/Users/carlosramirez/.nvm/versions/node/v18.19.1/lib/node_modules/npm/bin/npm-cli.js",GOOGLE_CLOUD_PROJECT:"genericsuite",PAGER:"cat",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/carlosramirez/Google Drive/Omar/repos/esmioptica-dados/node_modules/.bin:/Users/carlosramirez/Google Drive/Omar/repos/node_modules/.bin:/Users/carlosramirez/Google Drive/Omar/node_modules/.bin:/Users/carlosramirez/Google Drive/node_modules/.bin:/Users/carlosramirez/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/carlosramirez/.nvm/versions/node/v18.19.1/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/carlosramirez/Google Drive/Omar/repos/esmioptica-dados/node_modules/.bin:/Users/carlosramirez/Google Drive/Omar/repos/node_modules/.bin:/Users/carlosramirez/Google Drive/Omar/node_modules/.bin:/Users/carlosramirez/Google Drive/node_modules/.bin:/Users/carlosramirez/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/carlosramirez/.nvm/versions/node/v18.19.1/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/carlosramirez/.codeium/windsurf/bin:/usr/local/opt/gettext/bin:/opt/homebrew/opt/llvm/bin:/Users/carlosramirez/desarrollo_app_tools/google-cloud-sdk/bin:/Users/carlosramirez/.local/bin:/usr/local/opt/libxml2/bin:/Users/carlosramirez/.pyenv/shims:/Users/carlosramirez/.pyenv/bin:/Users/carlosramirez/.nvm/versions/node/v18.19.1/bin:/usr/local/opt/m4/bin:/Applications:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Applications/VMware Fusion.app/Contents/Public:/usr/local/go/bin:/Users/carlosramirez/.codeium/windsurf/bin:/usr/local/opt/gettext/bin:/opt/homebrew/opt/llvm/bin:/Users/carlosramirez/desarrollo_app_tools/google-cloud-sdk/bin:/Users/carlosramirez/.local/bin:/usr/local/opt/libxml2/bin:/Users/carlosramirez/.pyenv/bin:/Users/carlosramirez/.nvm/versions/node/v18.19.1/bin:/usr/local/opt/m4/bin:/Applications:/Users/carlosramirez/.cargo/bin:/Applications/iTerm.app/Contents/Resources/utilities:/Users/carlosramirez/desarrollo_app_tools/flutter/bin:/Users/carlosramirez/.foundry/bin:/Users/carlosramirez/.foundry/bin",TERMINFO_DIRS:"/Applications/iTerm.app/Contents/Resources/terminfo:/usr/share/terminfo",_:"/Users/carlosramirez/Google Drive/Omar/repos/esmioptica-dados/node_modules/.bin/vite",npm_package_json:"/Users/carlosramirez/Google Drive/Omar/repos/esmioptica-dados/package.json",__CFBundleIdentifier:"com.exafunction.windsurf",USER_ZDOTDIR:"/Users/carlosramirez",npm_config_init_module:"/Users/carlosramirez/.npm-init.js",npm_config_userconfig:"/Users/carlosramirez/.npmrc",PWD:"/Users/carlosramirez/Google Drive/Omar/repos/esmioptica-dados",npm_command:"run-script",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"esmioptica-dados",ITERM_PROFILE:"Default",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",npm_config_npm_version:"10.8.2",npm_config_node_gyp:"/Users/carlosramirez/.nvm/versions/node/v18.19.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.0.0",VSCODE_INJECTION:"1",HOME:"/Users/carlosramirez",PYENV_SHELL:"zsh",SHLVL:"5",COLORFGBG:"7;0",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Windsurf.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LC_TERMINAL_VERSION:"3.5.14",HOMEBREW_PREFIX:"/opt/homebrew",ITERM_SESSION_ID:"w0t1p0:EE7F4487-515E-4BA6-92FA-D41FE250EBAB",LOGNAME:"carlosramirez",LESS:"-R",npm_config_cache:"/Users/carlosramirez/.npm",npm_lifecycle_script:"vite build",LC_CTYPE:"en_US.UTF-8",VSCODE_GIT_IPC_HANDLE:"/var/folders/d2/xpykw8px0zl3wx7q3q2zlphw0000gn/T/vscode-git-45d37872f9.sock",PKG_CONFIG_PATH:"/usr/local/lib/pkgconfig:/usr/local/opt/libxml2/lib/pkgconfig",NVM_BIN:"/Users/carlosramirez/.nvm/versions/node/v18.19.1/bin",npm_config_user_agent:"npm/10.8.2 node/v18.19.1 darwin arm64 workspaces/false",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",GIT_ASKPASS:"/Applications/Windsurf.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Windsurf.app/Contents/Frameworks/Windsurf Helper (Plugin).app/Contents/MacOS/Windsurf Helper (Plugin)",LC_TERMINAL:"iTerm2",COLORTERM:"truecolor",npm_config_prefix:"/Users/carlosramirez/.nvm/versions/node/v18.19.1",npm_node_execpath:"/Users/carlosramirez/.nvm/versions/node/v18.19.1/bin/node",NODE_ENV:"production"};const cl=(Qi.REACT_APP_USE_DATABASE||"0")==="1",$2=({onComplete:r})=>(se.useEffect(()=>{(n=>{const s=document.createElement("div");s.className="confetti-container",document.body.appendChild(s);for(let c=0;c<n;c++){const d=document.createElement("div");d.className="confetti",d.style.left=`${Math.random()*100}vw`,d.style.animationDelay=`${Math.random()*2}s`,d.style.backgroundColor=`hsl(${Math.random()*360}, 70%, 50%)`,s.appendChild(d)}const l=setTimeout(()=>{s.remove(),r&&r()},3e3);return()=>clearTimeout(l)})(100)},[r]),null),Z2=()=>{const[r,t]=se.useState(null),[n,s]=se.useState(null),[l,c]=se.useState(null),[d,p]=se.useState(!1),[g,_]=se.useState("initial"),[b,I]=se.useState(null),[D,G]=se.useState(null),[Z,it]=se.useState(""),[J,Et]=se.useState(!1),[lt,ht]=se.useState(""),[Nt,Tt]=se.useState(""),[Ot,x]=se.useState(""),[A,w]=se.useState(!1),[O,M]=se.useState(""),[P,R]=se.useState(!1),[Oe,re]=se.useState(!1),[H,et]=se.useState(""),[ut,qt]=se.useState("info"),[C,X]=se.useState(""),[nt,W]=se.useState(""),[ft,Rt]=se.useState(!1),mt=se.useRef(null),de=[{id:1,name:"Gafas de sol",description:"¡Felicidades! Has ganado un par de gafas de sol para proteger tu mirada.",icon:"😎"},{id:2,name:"Kit de limpieza",description:"Mantén tus lentes impecables con nuestro kit de limpieza premium.",icon:"👁️"},{id:3,name:"50% de descuento en tu próxima compra",description:"Aprovecha un gran descuento en tu próxima compra en EsmiÓptica.",icon:"🏷️"},{id:4,name:"Cordón para gafas",description:"Un práctico y elegante cordón para tus gafas.",icon:"🔗"},{id:5,name:"Perfume",description:"Perfume exclusivo de EsmiÓptica.",icon:"🧴"},{id:6,name:"15% de descuento en la montura de tu elección",description:"Elige tu montura ideal con un 15% de descuento.",icon:"🎁"}];se.useEffect(()=>{try{const dt={apiKey:Qi.REACT_APP_FIREBASE_API_KEY,authDomain:Qi.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Qi.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Qi.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Qi.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Qi.REACT_APP_FIREBASE_APP_ID,measurementId:Qi.REACT_APP_FIREBASE_MEASUREMENT_ID},ot=Qi.REACT_APP_CANVAS_APP_ID||"default-app-id";if(dt&&cl){const gt=Qv(dt),ee=w2(gt),oe=Aw(gt);t(ee),s(oe);const ce=async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await uS(oe,__initial_auth_token):await rS(oe)}catch(ye){console.error("Error during Firebase authentication:",ye)}finally{p(!0)}};fS(oe,ye=>{c(ye?ye.uid:crypto.randomUUID()),p(!0)}),ce()}else console.error("Firebase config not found."),p(!0)}catch(dt){console.error("Failed to initialize Firebase:",dt),p(!0)}},[]);const Xt=({message:dt,type:ot,onClose:gt})=>{let ee="bg-blue-500",oe="border-blue-700",ce="text-white";return ot==="success"?(ee="bg-green-500",oe="border-green-700"):ot==="error"&&(ee="bg-red-500",oe="border-red-700"),q.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:q.jsxs("div",{className:`relative ${ee} ${oe} border-2 rounded-lg p-6 shadow-xl max-w-md w-full`,children:[q.jsx("p",{className:`text-lg font-semibold ${ce} mb-4`,children:dt}),q.jsx("button",{onClick:gt,className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-full hover:bg-gray-200 transition duration-300",children:"Cerrar"})]})})},ge=(dt,ot="info")=>{et(dt),qt(ot),re(!0)},jn=dt=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(dt),An=()=>{const dt=new Date().getTime().toString(36),ot=Math.random().toString(36).substring(2,8);return`ESM-${dt.toUpperCase()}-${ot.toUpperCase()}`},_i=async()=>{if(J)return;if(cl&&(!d||!r||!l)){ge("El sistema no está listo. Por favor, espera un momento o recarga la página.","error");return}if(lt&&P){ge("Ya has jugado con este correo electrónico. ¡Solo se permite un lanzamiento por persona!","info");return}Et(!0),_("playing"),M("");const dt=Math.floor(Math.random()*6)+1;if(I(null),mt.current)mt.current.style.transition="none",mt.current.style.transform="translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)",setTimeout(()=>{mt.current.style.transition="transform 2s ease-out";let ot,gt,ee;switch(dt){case 1:ot=0,gt=0,ee=0;break;case 2:ot=0,gt=90,ee=0;break;case 3:ot=-90,gt=0,ee=0;break;case 4:ot=90,gt=0,ee=0;break;case 5:ot=0,gt=-90,ee=0;break;case 6:ot=180,gt=0,ee=0;break;default:ot=0,gt=0,ee=0;break}const oe=Math.floor(Math.random()*5+3)*360,ce=Math.floor(Math.random()*5+3)*360,ye=Math.floor(Math.random()*5+3)*360;mt.current.style.transform=`translateZ(-100px) rotateX(${ot+oe}deg) rotateY(${gt+ce}deg) rotateZ(${ee+ye}deg)`,setTimeout(()=>{I(dt);const Sn=de.find($t=>$t.id===dt);G(Sn),it(An()),_("result"),Et(!1)},2e3)},50);else{const ot=de.find(gt=>gt.id===dt);G(ot),it(An()),I(dt),_("result"),Et(!1)}},vi=async dt=>{if(dt.preventDefault(),M(""),!jn(lt)){M("Por favor, ingresa un correo electrónico válido.");return}if(!cl){ge("Gracias por participar. Tu premio se generó exitosamente.","success");return}if(!d||!r||!l){ge("El sistema no está listo. Por favor, espera un momento o recarga la página.","error");return}Et(!0);try{const ot=A2(r,"artifacts",typeof __app_id<"u"?__app_id:"default-app-id","public","data","game_leads"),gt=L2(ot,z2("email","==",lt));if(!(await Q2(gt)).empty){ge("Este correo electrónico ya ha participado. ¡Solo se permite un lanzamiento por persona!","info"),R(!0),_("initial"),Et(!1);return}const oe=be.now(),ce=new be(oe.seconds+30*24*60*60,oe.nanoseconds);await Y2(ot,{userId:l,email:lt,name:Nt,phone:Ot,prize:D.name,prizeCode:Z,issuedAt:oe,expiresAt:ce,redeemed:!1,redemptionDate:null,acceptMarketing:A}),await Ei(lt,D.name,Z,ce.toDate().toLocaleDateString("es-ES")),_("success")}catch(ot){console.error("Error al guardar el premio o simular el envío de email:",ot),ge("Ocurrió un error al procesar tu premio. Por favor, inténtalo de nuevo.","error"),_("error")}finally{Et(!1)}},Ei=async(dt,ot,gt,ee)=>{const oe=`Simula un correo electrónico amigable de confirmación de premio de EsmiÓptica. El correo debe ir dirigido a ${dt}. 
        El usuario ha ganado "${ot}". El código para canjear el premio es "${gt}". 
        La fecha de caducidad del código es ${ee}. 
        Recuérdale al usuario que debe presentar el código en la tienda de EsmiÓptica en C.C Premium Plaza, Medellín. 
        El tono debe ser entusiasta y profesional.`;let ce=[];ce.push({role:"user",parts:[{text:oe}]});const ye={contents:ce},Sn="";try{const $t=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Sn}`,kt=await fetch($t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)});if(!kt.ok){const Se=await kt.json();throw new Error(`API error: ${kt.status} - ${Se.error.message||"Unknown error"}`)}const Ae=await kt.json();if(Ae.candidates&&Ae.candidates.length>0&&Ae.candidates[0].content&&Ae.candidates[0].content.parts&&Ae.candidates[0].content.parts.length>0){const Se=Ae.candidates[0].content.parts[0].text;console.log(`Simulated Email Content:
`,Se),ge(`¡Tu premio se ha enviado a tu correo (${dt})! Recibiste: ${ot}. Código: ${gt}. Presenta este código en EsmiÓptica, C.C Premium Plaza.`,"success")}else console.warn("LLM response structure unexpected for email simulation."),ge(`¡Felicidades! Ganaste: ${ot}. Código: ${gt}. Hubo un problema al enviar el correo, pero puedes canjear tu premio con este código en EsmiÓptica, C.C Premium Plaza.`,"info")}catch($t){console.error("Error calling LLM for email simulation:",$t),ge(`¡Felicidades! Ganaste: ${ot}. Código: ${gt}. No pudimos enviar el correo, pero puedes canjear tu premio con este código en EsmiÓptica, C.C Premium Plaza.`,"info")}},Zr=async()=>{if(!C){ge("Por favor, describe tu preocupación para obtener consejos personalizados.","info");return}Rt(!0),W("");const dt=`Genera 3 consejos breves y prácticos para el cuidado de los ojos basados en la siguiente preocupación: "${C}". Asegúrate de que los consejos sean fáciles de entender y aplicar.`;let ot=[];ot.push({role:"user",parts:[{text:dt}]});const gt={contents:ot},ee="";try{const oe=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${ee}`,ce=await fetch(oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(gt)});if(!ce.ok){const Sn=await ce.json();throw new Error(`API error: ${ce.status} - ${Sn.error.message||"Unknown error"}`)}const ye=await ce.json();if(ye.candidates&&ye.candidates.length>0&&ye.candidates[0].content&&ye.candidates[0].content.parts&&ye.candidates[0].content.parts.length>0){const Sn=ye.candidates[0].content.parts[0].text;W(Sn)}else W("No pudimos generar consejos en este momento. Inténtalo de nuevo más tarde.")}catch(oe){console.error("Error calling LLM for eye tips:",oe),W("Hubo un error al generar los consejos. Por favor, inténtalo de nuevo.")}finally{Rt(!1)}},rr=()=>{_("initial"),I(null),G(null),it(""),ht(""),Tt(""),x(""),w(!1),M(""),R(!1),X(""),W("")};if(cl&&!d)return q.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 p-4",children:q.jsxs("div",{className:"text-center text-white",children:[q.jsx("p",{className:"text-xl font-semibold mb-4",children:"Cargando aplicación EsmiÓptica..."}),q.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"})]})});const sn=dt=>{const ot=[],gt="dice-dot w-4 h-4 bg-black rounded-full";switch(dt){case 1:ot.push(q.jsx("div",{className:`${gt} absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2`},1));break;case 2:ot.push(q.jsx("div",{className:`${gt} absolute top-4 left-4`},1)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 right-4`},2));break;case 3:ot.push(q.jsx("div",{className:`${gt} absolute top-4 left-4`},1)),ot.push(q.jsx("div",{className:`${gt} absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2`},2)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 right-4`},3));break;case 4:ot.push(q.jsx("div",{className:`${gt} absolute top-4 left-4`},1)),ot.push(q.jsx("div",{className:`${gt} absolute top-4 right-4`},2)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 left-4`},3)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 right-4`},4));break;case 5:ot.push(q.jsx("div",{className:`${gt} absolute top-4 left-4`},1)),ot.push(q.jsx("div",{className:`${gt} absolute top-4 right-4`},2)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 left-4`},3)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 right-4`},4)),ot.push(q.jsx("div",{className:`${gt} absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2`},5));break;case 6:ot.push(q.jsx("div",{className:`${gt} absolute top-4 left-4`},1)),ot.push(q.jsx("div",{className:`${gt} absolute top-4 right-4`},2)),ot.push(q.jsx("div",{className:`${gt} absolute top-1/2 left-4 transform -translate-y-1/2`},3)),ot.push(q.jsx("div",{className:`${gt} absolute top-1/2 right-4 transform -translate-y-1/2`},4)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 left-4`},5)),ot.push(q.jsx("div",{className:`${gt} absolute bottom-4 right-4`},6));break}return ot};return q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 flex flex-col items-center justify-center p-4 font-inter text-gray-800 relative overflow-hidden",children:[Oe&&q.jsx(Xt,{message:H,type:ut,onClose:()=>re(!1)}),g==="result"&&q.jsx($2,{}),q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 text-center border-4 border-white relative overflow-hidden",children:[q.jsx("div",{className:"absolute top-0 right-0 bg-yellow-400 text-blue-800 font-bold py-2 px-4 rounded-bl-xl text-sm md:text-base",children:"COMPRA, LANZA Y GANA"}),q.jsxs("div",{className:"flex flex-col items-center md:flex-row md:justify-between md:items-start text-left",children:[q.jsxs("div",{className:"flex-1 w-full md:w-auto md:pr-4 mb-6 md:mb-0",children:[q.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-blue-700 leading-tight mb-4 animate-fade-in-down text-center md:text-left",children:["LANZA EL DADO ",q.jsx("br",{className:"hidden md:block"})," Y GANA"]}),q.jsx("p",{className:"text-lg text-gray-600 mb-6 text-center md:text-left",children:"¡Tu suerte te espera en EsmiÓptica! ¡Gira y gana grandes premios!"}),g==="initial"&&q.jsxs("div",{className:"flex flex-col items-center",children:[q.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center mb-8",children:[q.jsx("div",{className:"dice-container w-full h-full relative",style:{perspective:"500px"},children:q.jsx("div",{ref:mt,className:"dice w-full h-full transform-style-3d relative",children:[1,2,3,4,5,6].map(dt=>q.jsx("div",{className:`dice-face dice-face-${dt} absolute inset-0 bg-white border border-gray-300 flex items-center justify-center rounded-lg shadow-md`,children:q.jsx("div",{className:`dot-layout dots-${dt}`,children:sn(dt)})},dt))})}),q.jsx("div",{className:"absolute -bottom-10 right-0 transform translate-x-1/2 rotate-12",children:q.jsx("svg",{className:"w-16 h-16 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M10.394 2.08a1 1 0 01-.131.144l-3.32 2.946a1 1 0 01-1.468-1.314l.808-.716H5a1 1 0 01-1-1V4a1 1 0 011-1h.295l.43-.382a1 1 0 011.382 1.44l-.43.382H7a1 1 0 011 1v.575l2.452-2.18a1 1 0 011.232 1.51l-2.452 2.18V8a1 1 0 01-1 1h-.295l-.43.382a1 1 0 01-1.382-1.44l.43-.382H7a1 1 0 011-1V5.425l2.452-2.18a1 1 0 011.232 1.51L10.394 2.08z",fillRule:"evenodd",clipRule:"evenodd"})})})]}),q.jsx("button",{onClick:_i,disabled:J||cl&&(!d||P),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center mt-8",children:J?q.jsxs(q.Fragment,{children:[q.jsx("span",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Lanzando..."]}):"¡Lanza el Dado!"})]}),g==="playing"&&q.jsxs("div",{className:"flex flex-col items-center py-10",children:[q.jsx("div",{className:"relative w-48 h-48 flex items-center justify-center mb-8",children:q.jsx("div",{className:"dice-container w-full h-full relative",style:{perspective:"500px"},children:q.jsx("div",{ref:mt,className:"dice w-full h-full transform-style-3d relative",children:[1,2,3,4,5,6].map(dt=>q.jsx("div",{className:`dice-face dice-face-${dt} absolute inset-0 bg-white border border-gray-300 flex items-center justify-center rounded-lg shadow-md`,children:q.jsx("div",{className:`dot-layout dots-${dt}`,children:sn(dt)})},dt))})})}),q.jsx("p",{className:"text-2xl font-semibold text-blue-600 mb-4 animate-pulse",children:"¡El dado está girando!"}),q.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})]}),g==="result"&&D&&q.jsxs("div",{className:"animate-fade-in py-10",children:[q.jsxs("p",{className:"text-3xl font-bold text-green-600 mb-4",children:["¡Felicidades! El dado cayó en el ",b,"."]}),q.jsxs("h2",{className:"text-4xl font-extrabold text-blue-700 mb-4 animate-bounce-in",children:["¡Ganaste ",D.name.toUpperCase()," ",D.icon,"!"]}),q.jsx("p",{className:"text-lg text-gray-700 mb-6",children:D.description}),q.jsx("button",{onClick:()=>_("form"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105",children:"¡Obtén tu premio!"})]}),g==="form"&&q.jsxs("div",{className:"animate-fade-in py-6",children:[q.jsx("h2",{className:"text-2xl font-bold text-blue-600 mb-6",children:"Ingresa tus datos para recibir tu premio"}),q.jsxs("form",{onSubmit:vi,className:"space-y-4",children:[q.jsxs("div",{children:[q.jsxs("label",{htmlFor:"email",className:"block text-left text-gray-700 text-sm font-bold mb-2",children:["Correo Electrónico ",q.jsx("span",{className:"text-red-500",children:"*"})]}),q.jsx("input",{type:"email",id:"email",value:lt,onChange:dt=>{ht(dt.target.value),M("")},className:"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu.correo@ejemplo.com",required:!0}),O&&q.jsx("p",{className:"text-red-500 text-xs italic mt-2",children:O})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"name",className:"block text-left text-gray-700 text-sm font-bold mb-2",children:"Nombre (Opcional)"}),q.jsx("input",{type:"text",id:"name",value:Nt,onChange:dt=>Tt(dt.target.value),className:"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu nombre"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"phone",className:"block text-left text-gray-700 text-sm font-bold mb-2",children:"Teléfono (Opcional)"}),q.jsx("input",{type:"tel",id:"phone",value:Ot,onChange:dt=>x(dt.target.value),className:"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: 300 1234567"})]}),q.jsxs("div",{className:"flex items-center mt-4",children:[q.jsx("input",{type:"checkbox",id:"acceptMarketing",checked:A,onChange:dt=>w(dt.target.checked),className:"form-checkbox h-5 w-5 text-blue-600 rounded"}),q.jsx("label",{htmlFor:"acceptMarketing",className:"ml-2 text-gray-700 text-sm",children:"Acepto recibir comunicaciones de marketing de EsmiÓptica."})]}),q.jsx("button",{type:"submit",disabled:J||!jn(lt),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center mt-6",children:J?q.jsxs(q.Fragment,{children:[q.jsx("span",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Enviando..."]}):"¡Enviar y Obtener Código!"})]})]}),g==="success"&&q.jsxs("div",{className:"animate-fade-in py-10",children:[q.jsx("p",{className:"text-3xl font-bold text-green-600 mb-4",children:"¡Premio canjeado con éxito!"}),q.jsxs("p",{className:"text-xl text-gray-700 mb-4",children:["Hemos enviado tu código de premio a tu correo electrónico: ",q.jsx("span",{className:"font-semibold",children:lt}),"."]}),q.jsxs("p",{className:"text-xl text-gray-700 mb-6",children:["Tu código es: ",q.jsx("span",{className:"font-extrabold text-blue-700 text-3xl block my-2",children:Z})]}),q.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"¡Presenta este código en nuestra tienda EsmiÓptica en C.C Premium Plaza para hacer válido tu premio!"}),q.jsx("button",{onClick:()=>_("eye-tips"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105 mt-4 flex items-center justify-center",children:"Obtén Consejos Personalizados para tus Ojos ✨"}),q.jsx("button",{onClick:rr,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105 mt-4",children:"Jugar de Nuevo"})]}),g==="eye-tips"&&q.jsxs("div",{className:"animate-fade-in py-6",children:[q.jsx("h2",{className:"text-2xl font-bold text-blue-600 mb-6",children:"Consejos Personalizados para tus Ojos ✨"}),q.jsx("p",{className:"text-gray-700 mb-4",children:"Cuéntanos, ¿qué te preocupa de tus ojos o de tu visión?"}),q.jsx("textarea",{className:"w-full h-28 p-4 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 'Paso muchas horas frente al computador', 'Siento los ojos secos', 'Quiero prevenir la fatiga visual'.",value:C,onChange:dt=>X(dt.target.value)}),q.jsx("button",{onClick:Zr,disabled:ft||!C.trim(),className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center mt-6",children:ft?q.jsxs(q.Fragment,{children:[q.jsx("span",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Generando consejos..."]}):"Generar Consejos ✨"}),nt&&q.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border-l-4 border-blue-500 text-blue-800 rounded-lg text-left",children:[q.jsx("h3",{className:"font-bold text-lg mb-2",children:"Aquí tienes tus consejos:"}),q.jsx("p",{className:"whitespace-pre-wrap",children:nt})]}),q.jsx("button",{onClick:rr,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105 mt-6",children:"Volver a Jugar"})]}),g==="error"&&q.jsxs("div",{className:"animate-fade-in py-10",children:[q.jsx("p",{className:"text-3xl font-bold text-red-600 mb-4",children:"¡Ups! Algo salió mal."}),q.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"No pudimos procesar tu solicitud en este momento. Por favor, inténtalo de nuevo más tarde o contacta a nuestro soporte."}),q.jsx("button",{onClick:rr,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full text-xl transition-all duration-300 ease-in-out shadow-lg transform hover:scale-105",children:"Volver a Intentar"})]})]}),q.jsxs("div",{className:"w-full md:w-2/5 bg-white rounded-lg p-6 shadow-md border border-gray-100 mt-6 md:mt-0 md:ml-4",children:[q.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4 text-center",children:"PREMIOS"}),q.jsx("ul",{className:"space-y-3",children:de.map(dt=>q.jsxs("li",{className:"flex items-center text-gray-600",children:[q.jsx("span",{className:"text-2xl mr-3",children:dt.icon}),dt.name]},dt.id))}),q.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-lg mt-6 text-center",children:[q.jsxs("p",{className:"text-xl font-bold",children:["PODRÍAS LLEVARTE LOS ",q.jsx("span",{className:"text-red-600",children:"LENTES GRATIS"})]}),q.jsx("p",{className:"text-sm mt-1",children:"(¡Premio exclusivo solo en Tienda Física!)"})]}),q.jsx("div",{className:"mt-8 text-center",children:q.jsx("img",{src:X2,alt:"EsmiÓptica Logo",className:"w-48 mx-auto mb-2"})})]})]})]}),q.jsx("style",{children:`
                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800;900&display=swap');

                body {
                    font-family: 'Inter', sans-serif;
                }
                
                .dice-container {
                    width: 150px; 
                    height: 150px;
                    position: relative;
                    margin: 0 auto;
                    perspective: 800px; 
                }

                .dice {
                    width: 100%;
                    height: 100%;
                    position: absolute;
                    transform-style: preserve-3d;
                    transition: transform 2s ease-out; 
                    transform: translateZ(-75px); 
                }

                .dice-face {
                    width: 150px;
                    height: 150px;
                    position: absolute;
                    border: 2px solid #ccc;
                    display: flex; /* Use flexbox for dot positioning */
                    align-items: center; /* Center vertically by default */
                    justify-content: center; /* Center horizontally by default */
                    font-size: 2.5rem;
                    font-weight: bold;
                    color: #000;
                    background-color: #fff;
                    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2); 
                    border-radius: 12px; 
                    box-sizing: border-box; /* Include padding/border in element's total width and height */
                }

                /* Positioning for each face */
                .dice-face-1 { transform: rotateY(0deg) translateZ(75px); }
                .dice-face-2 { transform: rotateX(90deg) translateZ(75px); }
                .dice-face-3 { transform: rotateY(90deg) translateZ(75px); }
                .dice-face-4 { transform: rotateY(-90deg) translateZ(75px); }
                .dice-face-5 { transform: rotateX(-90deg) translateZ(75px); }
                .dice-face-6 { transform: rotateX(180deg) translateZ(75px); }

                /* Dice dots common style */
                .dice-dot {
                    background-color: black;
                    border-radius: 50%;
                }

                /* Dot layout for each face - using flex and absolute positioning for precision */
                .dot-layout {
                    width: 100%;
                    height: 100%;
                    position: relative;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                /* Specific dot arrangements for each face */
                /* Face 1 */
                .dots-1 { } /* Default center alignment */

                /* Face 2 */
                .dots-2 .dice-dot:nth-child(1) { position: absolute; top: 20px; left: 20px; }
                .dots-2 .dice-dot:nth-child(2) { position: absolute; bottom: 20px; right: 20px; }

                /* Face 3 */
                .dots-3 .dice-dot:nth-child(1) { position: absolute; top: 20px; left: 20px; }
                .dots-3 .dice-dot:nth-child(2) { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
                .dots-3 .dice-dot:nth-child(3) { position: absolute; bottom: 20px; right: 20px; }

                /* Face 4 */
                .dots-4 .dice-dot:nth-child(1) { position: absolute; top: 20px; left: 20px; }
                .dots-4 .dice-dot:nth-child(2) { position: absolute; top: 20px; right: 20px; }
                .dots-4 .dice-dot:nth-child(3) { position: absolute; bottom: 20px; left: 20px; }
                .dots-4 .dice-dot:nth-child(4) { position: absolute; bottom: 20px; right: 20px; }

                /* Face 5 */
                .dots-5 .dice-dot:nth-child(1) { position: absolute; top: 20px; left: 20px; }
                .dots-5 .dice-dot:nth-child(2) { position: absolute; top: 20px; right: 20px; }
                .dots-5 .dice-dot:nth-child(3) { position: absolute; bottom: 20px; left: 20px; }
                .dots-5 .dice-dot:nth-child(4) { position: absolute; bottom: 20px; right: 20px; }
                .dots-5 .dice-dot:nth-child(5) { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }

                /* Face 6 */
                .dots-6 .dice-dot:nth-child(1) { position: absolute; top: 20px; left: 20px; }
                .dots-6 .dice-dot:nth-child(2) { position: absolute; top: 20px; right: 20px; }
                .dots-6 .dice-dot:nth-child(3) { position: absolute; top: 50%; left: 20px; transform: translateY(-50%); }
                .dots-6 .dice-dot:nth-child(4) { position: absolute; top: 50%; right: 20px; transform: translateY(-50%); }
                .dots-6 .dice-dot:nth-child(5) { position: absolute; bottom: 20px; left: 20px; }
                .dots-6 .dice-dot:nth-child(6) { position: absolute; bottom: 20px; right: 20px; }


                /* Confetti styles */
                .confetti-container {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    overflow: hidden;
                    z-index: 100;
                }

                .confetti {
                    position: absolute;
                    width: 10px;
                    height: 10px;
                    background-color: #f00; /* Default color */
                    opacity: 0;
                    transform: translateY(0) rotateZ(0);
                    animation: fall 3s ease-out forwards;
                }

                @keyframes fall {
                    0% {
                        opacity: 0;
                        transform: translateY(-100px) rotateZ(0deg);
                    }
                    20% {
                        opacity: 1;
                    }
                    100% {
                        transform: translateY(100vh) rotateZ(720deg);
                        opacity: 0;
                    }
                }

                /* Keyframe for bounce-in effect */
                @keyframes bounce-in {
                    0% {
                        transform: scale(0.5);
                        opacity: 0;
                    }
                    70% {
                        transform: scale(1.1);
                        opacity: 1;
                    }
                    100% {
                        transform: scale(1);
                    }
                }

                .animate-bounce-in {
                    animation: bounce-in 0.8s ease-out;
                }

                /* Keyframe for fade-in effect */
                @keyframes fade-in {
                    from {
                        opacity: 0;
                        transform: translateY(20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }

                .animate-fade-in {
                    animation: fade-in 0.5s ease-out forwards;
                }

                /* Keyframe for fade-in-down effect */
                @keyframes fade-in-down {
                    from {
                        opacity: 0;
                        transform: translateY(-20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }

                .animate-fade-in-down {
                    animation: fade-in-down 0.6s ease-out;
                }
            `})]})};kb.createRoot(document.getElementById("root")).render(q.jsx(se.StrictMode,{children:q.jsx(Z2,{})}));
